<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  The <strong>copy assignment operator</strong> (operator=) is used to copy
  values from one object to another <em>already existing object</em>.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">Related content</p>
  <p>
    As of C++11, C++ also supports “Move assignment”. We discuss move assignment
    in lesson
    <a
      href="https://www.learncpp.com/cpp-tutorial/move-constructors-and-move-assignment/"
      >22.3 -- Move constructors and move assignment</a
    >.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Copy assignment vs Copy constructor
</p>
<p>
  The purpose of the copy constructor and the copy assignment operator are
  almost equivalent -- both copy one object to another. However, the copy
  constructor initializes new objects, whereas the assignment operator replaces
  the contents of existing objects.
</p>
<p>
  The difference between the copy constructor and the copy assignment operator
  causes a lot of confusion for new programmers, but it’s really not all that
  difficult. Summarizing:
</p>
<ul>
  <li>
    If a new object has to be created before the copying can occur, the copy
    constructor is used (note: this includes passing or returning objects by
    value).
  </li>
  <li>
    If a new object does not have to be created before the copying can occur,
    the assignment operator is used.
  </li>
</ul>
<p class="cpp-section cpp-topline" style="clear: both">
  Overloading the assignment operator
</p>
<p>
  Overloading the copy assignment operator (operator=) is fairly
  straightforward, with one specific caveat that we’ll get to. The copy
  assignment operator must be overloaded as a member function.
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Fraction</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-16-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-int">int</span> m_numerator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-8-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-8-open">}</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> m_denominator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-9-close">{</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-9-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token comment">// Default constructor</span>
	<span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-0-close">(</span><span class="token keyword keyword-int">int</span> numerator <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation brace-round brace-close brace-level-2" id="pair-0-open">)</span>
		<span class="token operator">:</span> m_numerator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-10-close">{</span> numerator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-10-open">}</span><span class="token punctuation">,</span> m_denominator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-11-close">{</span> denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-11-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-12-close">{</span>
		<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-1-close">(</span>denominator <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-1-open">)</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-12-open">}</span>

	<span class="token comment">// Copy constructor</span>
	<span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-2-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> copy<span class="token punctuation brace-round brace-close brace-level-2" id="pair-2-open">)</span>
		<span class="token operator">:</span> m_numerator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-13-close">{</span> copy<span class="token punctuation">.</span>m_numerator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-13-open">}</span><span class="token punctuation">,</span> m_denominator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-14-close">{</span> copy<span class="token punctuation">.</span>m_denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-14-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-15-close">{</span>
		<span class="token comment">// no need to check for a denominator of 0 here since copy must already be a valid Fraction</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Copy constructor called\n"</span><span class="token punctuation">;</span> <span class="token comment">// just to prove it works</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-15-open">}</span>

	<span class="token comment">// Overloaded assignment</span>
	Fraction<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-3-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> fraction<span class="token punctuation brace-round brace-close brace-level-2" id="pair-3-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-4-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation brace-round brace-close brace-level-2" id="pair-4-open">)</span><span class="token punctuation">;</span>

<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-16-open">}</span><span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-5-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation brace-round brace-close brace-level-1" id="pair-5-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-17-close">{</span>
	out <span class="token operator">&lt;&lt;</span> f1<span class="token punctuation">.</span>m_numerator <span class="token operator">&lt;&lt;</span> <span class="token string">'/'</span> <span class="token operator">&lt;&lt;</span> f1<span class="token punctuation">.</span>m_denominator<span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-17-open">}</span>

<span class="token comment">// A simplistic implementation of operator= (see better implementation below)</span>
Fraction<span class="token operator">&amp;</span> Fraction<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">=</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-6-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> fraction<span class="token punctuation brace-round brace-close brace-level-1" id="pair-6-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-18-close">{</span>
    <span class="token comment">// do the copy</span>
    m_numerator <span class="token operator">=</span> fraction<span class="token punctuation">.</span>m_numerator<span class="token punctuation">;</span>
    m_denominator <span class="token operator">=</span> fraction<span class="token punctuation">.</span>m_denominator<span class="token punctuation">;</span>

    <span class="token comment">// return the existing object so we can chain this operator</span>
    <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-18-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-7-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-7-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-20-close">{</span>
    Fraction fiveThirds <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-19-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-19-open">}</span><span class="token punctuation">;</span>
    Fraction f<span class="token punctuation">;</span>
    f <span class="token operator">=</span> fiveThirds<span class="token punctuation">;</span> <span class="token comment">// calls overloaded assignment</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> f<span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-20-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This prints:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=97999274&amp;adf=3973845926&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750973177&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Foverloading-the-assignment-operator%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963352327&amp;bpp=1&amp;bdt=1355&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=7959132445217&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1923&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C31093235%2C95353387%2C95362655%2C95365226%2C95365235%2C95365461%2C95344787%2C95359265%2C95365119%2C95365798%2C31092548&amp;oid=2&amp;pvsid=596252556760543&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=15"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-google-query-id="CNje4YnsrI4DFSjwTAIdyzo9xA"
        data-load-complete="true"
      ></iframe></div
  ></ins>
</div>
<pre>
5/3
</pre>
<p>
  This should all be pretty straightforward by now. Our overloaded operator=
  returns *this, so that we can chain multiple assignments together:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-21-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-21-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-25-close">{</span>
    Fraction f1 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-22-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-22-open">}</span><span class="token punctuation">;</span>
    Fraction f2 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-23-close">{</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-23-open">}</span><span class="token punctuation">;</span>
    Fraction f3 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-24-close">{</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-24-open">}</span><span class="token punctuation">;</span>

    f1 <span class="token operator">=</span> f2 <span class="token operator">=</span> f3<span class="token punctuation">;</span> <span class="token comment">// chained assignment</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-25-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Issues due to self-assignment
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=97999274&amp;adf=1552342782&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750973177&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Foverloading-the-assignment-operator%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963352327&amp;bpp=1&amp;bdt=1355&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=7959132445217&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2553&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C31093235%2C95353387%2C95362655%2C95365226%2C95365235%2C95365461%2C95344787%2C95359265%2C95365119%2C95365798%2C31092548&amp;oid=2&amp;pvsid=596252556760543&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=16"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CKGB4onsrI4DFRDyTAId9OE80A"
      ></iframe></div
  ></ins>
</div>
<p>
  Here’s where things start to get a little more interesting. C++ allows
  self-assignment:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-26-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-26-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-28-close">{</span>
    Fraction f1 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-27-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-27-open">}</span><span class="token punctuation">;</span>
    f1 <span class="token operator">=</span> f1<span class="token punctuation">;</span> <span class="token comment">// self assignment</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-28-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This will call f1.operator=(f1), and under the simplistic implementation
  above, all of the members will be assigned to themselves. In this particular
  example, the self-assignment causes each member to be assigned to itself,
  which has no overall impact, other than wasting time. In most cases, a
  self-assignment doesn’t need to do anything at all!
</p>
<p>
  However, in cases where an assignment operator needs to dynamically assign
  memory, self-assignment can actually be dangerous:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::max and std::copy_n</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">MyString</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-56-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-char">char</span><span class="token operator">*</span> m_data <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-50-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-50-open">}</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> m_length <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-51-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-51-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">MyString</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-29-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> length <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation brace-round brace-close brace-level-2" id="pair-29-open">)</span>
		<span class="token operator">:</span> m_length <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-52-close">{</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-30-close">(</span>length<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-30-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-52-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-54-close">{</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-31-close">(</span>length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-31-open">)</span>
		<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-53-close">{</span>
			m_data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation brace-square brace-open brace-level-4" id="pair-46-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-5" id="pair-32-close">(</span>length<span class="token punctuation brace-round brace-close brace-level-5" id="pair-32-open">)</span><span class="token punctuation brace-square brace-close brace-level-4" id="pair-46-open">]</span><span class="token punctuation">;</span>
			std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-33-close">(</span>data<span class="token punctuation">,</span> length<span class="token punctuation">,</span> m_data<span class="token punctuation brace-round brace-close brace-level-4" id="pair-33-open">)</span><span class="token punctuation">;</span> <span class="token comment">// copy length elements of data into m_data</span>
		<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-53-open">}</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-54-open">}</span>
	<span class="token operator">~</span><span class="token function">MyString</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-34-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-34-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-55-close">{</span>
		<span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-47-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-47-open">]</span> m_data<span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-55-open">}</span>

	<span class="token function">MyString</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-35-close">(</span><span class="token keyword keyword-const">const</span> MyString<span class="token operator">&amp;</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-35-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span> <span class="token comment">// some compilers (gcc) warn if you have pointer members but no declared copy constructor</span>

	<span class="token comment">// Overloaded assignment</span>
	MyString<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-36-close">(</span><span class="token keyword keyword-const">const</span> MyString<span class="token operator">&amp;</span> str<span class="token punctuation brace-round brace-close brace-level-2" id="pair-36-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-37-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> MyString<span class="token operator">&amp;</span> s<span class="token punctuation brace-round brace-close brace-level-2" id="pair-37-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-56-open">}</span><span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-38-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> MyString<span class="token operator">&amp;</span> s<span class="token punctuation brace-round brace-close brace-level-1" id="pair-38-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-57-close">{</span>
	out <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span>m_data<span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-57-open">}</span>

<span class="token comment">// A simplistic implementation of operator= (do not use)</span>
MyString<span class="token operator">&amp;</span> MyString<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">=</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-39-close">(</span><span class="token keyword keyword-const">const</span> MyString<span class="token operator">&amp;</span> str<span class="token punctuation brace-round brace-close brace-level-1" id="pair-39-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-58-close">{</span>
	<span class="token comment">// if data exists in the current string, delete it</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-40-close">(</span>m_data<span class="token punctuation brace-round brace-close brace-level-2" id="pair-40-open">)</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-48-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-48-open">]</span> m_data<span class="token punctuation">;</span>

	m_length <span class="token operator">=</span> str<span class="token punctuation">.</span>m_length<span class="token punctuation">;</span>
	m_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>

	<span class="token comment">// allocate a new array of the appropriate length</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-41-close">(</span>m_length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-41-open">)</span>
		m_data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-49-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-42-close">(</span>str<span class="token punctuation">.</span>m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-42-open">)</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-49-open">]</span><span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-43-close">(</span>str<span class="token punctuation">.</span>m_data<span class="token punctuation">,</span> m_length<span class="token punctuation">,</span> m_data<span class="token punctuation brace-round brace-close brace-level-2" id="pair-43-open">)</span><span class="token punctuation">;</span> <span class="token comment">// copies m_length elements of str.m_data into m_data</span>

	<span class="token comment">// return the existing object so we can chain this operator</span>
	<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-58-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-44-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-44-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-59-close">{</span>
	MyString <span class="token function">alex</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-45-close">(</span><span class="token string">"Alex"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-45-open">)</span><span class="token punctuation">;</span> <span class="token comment">// Meet Alex</span>
	MyString employee<span class="token punctuation">;</span>
	employee <span class="token operator">=</span> alex<span class="token punctuation">;</span> <span class="token comment">// Alex is our newest employee</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> employee<span class="token punctuation">;</span> <span class="token comment">// Say your name, employee</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-59-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  First, run the program as it is. You’ll see that the program prints “Alex” as
  it should.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=97999274&amp;adf=4044671222&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750973177&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Foverloading-the-assignment-operator%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963352329&amp;bpp=1&amp;bdt=1357&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=7959132445217&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=4010&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C31093235%2C95353387%2C95362655%2C95365226%2C95365235%2C95365461%2C95344787%2C95359265%2C95365119%2C95365798%2C31092548&amp;oid=2&amp;pvsid=596252556760543&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=254"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-google-query-id="CM698InsrI4DFeTzTAIdLAcwUw"
        data-load-complete="true"
      ></iframe></div
  ></ins>
</div>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>Now run the following program:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-60-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-60-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-62-close">{</span>
    MyString alex <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-61-close">{</span> <span class="token string">"Alex"</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-61-open">}</span><span class="token punctuation">;</span> <span class="token comment">// Meet Alex</span>
    alex <span class="token operator">=</span> alex<span class="token punctuation">;</span> <span class="token comment">// Alex is himself</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> alex<span class="token punctuation">;</span> <span class="token comment">// Say your name, Alex</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-62-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>You’ll probably get garbage output. What happened?</p>
<p>
  Consider what happens in the overloaded operator= when the implicit object AND
  the passed in parameter (str) are both variable alex. In this case, m_data is
  the same as str.m_data. The first thing that happens is that the function
  checks to see if the implicit object already has a string. If so, it needs to
  delete it, so we don’t end up with a memory leak. In this case, m_data is
  allocated, so the function deletes m_data. But because str is the same as
  *this, the string that we wanted to copy has been deleted and m_data (and
  str.m_data) are dangling.
</p>
<p>
  Later on, we allocate new memory to m_data (and str.m_data). So when we
  subsequently copy the data from str.m_data into m_data, we’re copying garbage,
  because str.m_data was never initialized.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Detecting and handling self-assignment
</p>
<p>
  Fortunately, we can detect when self-assignment occurs. Here’s an updated
  implementation of our overloaded operator= for the MyString class:
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">MyString<span class="token operator">&amp;</span> MyString<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">=</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-63-close">(</span><span class="token keyword keyword-const">const</span> MyString<span class="token operator">&amp;</span> str<span class="token punctuation brace-round brace-close brace-level-1" id="pair-63-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-71-close">{</span>
	<span class="token comment">// self-assignment check</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-64-close">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">==</span> <span class="token operator">&amp;</span>str<span class="token punctuation brace-round brace-close brace-level-2" id="pair-64-open">)</span>
		<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>

	<span class="token comment">// if data exists in the current string, delete it</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-65-close">(</span>m_data<span class="token punctuation brace-round brace-close brace-level-2" id="pair-65-open">)</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-69-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-69-open">]</span> m_data<span class="token punctuation">;</span>

	m_length <span class="token operator">=</span> str<span class="token punctuation">.</span>m_length<span class="token punctuation">;</span>
	m_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>

	<span class="token comment">// allocate a new array of the appropriate length</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-66-close">(</span>m_length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-66-open">)</span>
		m_data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-char">char</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-70-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-67-close">(</span>str<span class="token punctuation">.</span>m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-67-open">)</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-70-open">]</span><span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-68-close">(</span>str<span class="token punctuation">.</span>m_data<span class="token punctuation">,</span> m_length<span class="token punctuation">,</span> m_data<span class="token punctuation brace-round brace-close brace-level-2" id="pair-68-open">)</span><span class="token punctuation">;</span> <span class="token comment">// copies m_length elements of str.m_data into m_data</span>

	<span class="token comment">// return the existing object so we can chain this operator</span>
	<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-71-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  By checking if the address of our implicit object is the same as the address
  of the object being passed in as a parameter, we can have our assignment
  operator just return immediately without doing any other work.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  Because this is just a pointer comparison, it should be fast, and does not
  require operator== to be overloaded.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  When not to handle self-assignment
</p>
<p>
  Typically the self-assignment check is skipped for copy constructors. Because
  the object being copy constructed is newly created, the only case where the
  newly created object can be equal to the object being copied is when you try
  to initialize a newly defined object with itself:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">someClass c <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-72-close">{</span> c <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-72-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In such cases, your compiler should warn you that <code>c</code> is an
  uninitialized variable.
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<p>
  Second, the self-assignment check may be omitted in classes that can naturally
  handle self-assignment. Consider this Fraction class assignment operator that
  has a self-assignment guard:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// A better implementation of operator=</span>
Fraction<span class="token operator">&amp;</span> Fraction<span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token operator">=</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-73-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> fraction<span class="token punctuation brace-round brace-close brace-level-1" id="pair-73-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-75-close">{</span>
    <span class="token comment">// self-assignment guard</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-74-close">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">==</span> <span class="token operator">&amp;</span>fraction<span class="token punctuation brace-round brace-close brace-level-2" id="pair-74-open">)</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>

    <span class="token comment">// do the copy</span>
    m_numerator <span class="token operator">=</span> fraction<span class="token punctuation">.</span>m_numerator<span class="token punctuation">;</span> <span class="token comment">// can handle self-assignment</span>
    m_denominator <span class="token operator">=</span> fraction<span class="token punctuation">.</span>m_denominator<span class="token punctuation">;</span> <span class="token comment">// can handle self-assignment</span>

    <span class="token comment">// return the existing object so we can chain this operator</span>
    <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-75-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  If the self-assignment guard did not exist, this function would still operate
  correctly during a self-assignment (because all of the operations done by the
  function can handle self-assignment properly).
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  Because self-assignment is a rare event, some prominent C++ gurus recommend
  omitting the self-assignment guard even in classes that would benefit from it.
  We do not recommend this, as we believe it’s a better practice to code
  defensively and then selectively optimize later.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  The copy and swap idiom
</p>
<p>
  A better way to handle self-assignment issues is via what’s called the copy
  and swap idiom. There’s a great writeup of how this idiom works
  <a
    href="https://stackoverflow.com/questions/3279543/what-is-the-copy-and-swap-idiom"
    >on Stack Overflow</a
  >.
</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  The implicit copy assignment operator
</p>
<p>
  Unlike other operators, the compiler will provide an implicit public copy
  assignment operator for your class if you do not provide a user-defined one.
  This assignment operator does memberwise assignment (which is essentially the
  same as the memberwise initialization that default copy constructors do).
</p>
<p>
  Just like other constructors and operators, you can prevent assignments from
  being made by making your copy assignment operator private or using the delete
  keyword:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Fraction</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-88-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-int">int</span> m_numerator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-83-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-83-open">}</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> m_denominator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-84-close">{</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-84-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token comment">// Default constructor</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-76-close">(</span><span class="token keyword keyword-int">int</span> numerator <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-76-open">)</span>
        <span class="token operator">:</span> m_numerator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-85-close">{</span> numerator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-85-open">}</span><span class="token punctuation">,</span> m_denominator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-86-close">{</span> denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-86-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-87-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-77-close">(</span>denominator <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-77-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-87-open">}</span>

	<span class="token comment">// Copy constructor</span>
	<span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-78-close">(</span><span class="token keyword keyword-const">const</span> Fraction <span class="token operator">&amp;</span>copy<span class="token punctuation brace-round brace-close brace-level-2" id="pair-78-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span>

	<span class="token comment">// Overloaded assignment</span>
	Fraction<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-79-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> fraction<span class="token punctuation brace-round brace-close brace-level-2" id="pair-79-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span> <span class="token comment">// no copies through assignment!</span>

	<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-80-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation brace-round brace-close brace-level-2" id="pair-80-open">)</span><span class="token punctuation">;</span>

<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-88-open">}</span><span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-81-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation brace-round brace-close brace-level-1" id="pair-81-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-89-close">{</span>
	out <span class="token operator">&lt;&lt;</span> f1<span class="token punctuation">.</span>m_numerator <span class="token operator">&lt;&lt;</span> <span class="token string">'/'</span> <span class="token operator">&lt;&lt;</span> f1<span class="token punctuation">.</span>m_denominator<span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-89-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-82-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-82-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-91-close">{</span>
    Fraction fiveThirds <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-90-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-90-open">}</span><span class="token punctuation">;</span>
    Fraction f<span class="token punctuation">;</span>
    f <span class="token operator">=</span> fiveThirds<span class="token punctuation">;</span> <span class="token comment">// compile error, operator= has been deleted</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> f<span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-91-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Note that if your class has const members, the compiler will instead define
  the implicit <code>operator=</code> as deleted. This is because const members
  can’t be assigned, so the compiler will assume your class should not be
  assignable.
</p>
<p>
  If you want a class with const members to be assignable (for all members that
  aren’t const), you will need to explicitly overload <code>operator=</code> and
  manually assign each non-const member.
</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>

<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/shallow-vs-deep-copying/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">21.13</span>Shallow vs. deep
            copying
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/overloading-typecasts/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">21.11</span>Overloading
            typecasts
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
