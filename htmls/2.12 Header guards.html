<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p class="cpp-section" data-ezoic-video-excluded="1">
  The duplicate definition problem
</p>
<p>
  In lesson
  <a href="https://www.learncpp.com/cpp-tutorial/forward-declarations/"
    >2.7 -- Forward declarations and definitions</a
  >, we noted that a variable or function identifier can only have one
  definition (the one definition rule). Thus, a program that defines a variable
  identifier more than once will cause a compile error:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-215-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-215-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-216-close">{</span>
    <span class="token keyword keyword-int">int</span> x<span class="token punctuation">;</span> <span class="token comment">// this is a definition for variable x</span>
    <span class="token keyword keyword-int">int</span> x<span class="token punctuation">;</span> <span class="token comment">// compile error: duplicate definition</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-216-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Similarly, programs that define a function more than once will also cause a
  compile error:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">foo</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-217-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-217-open">)</span> <span class="token comment">// this is a definition for function foo</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-221-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-221-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">foo</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-218-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-218-open">)</span> <span class="token comment">// compile error: duplicate definition</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-222-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-222-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-219-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-219-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-223-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">foo</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-220-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-220-open">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-223-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  While these programs are easy to fix (remove the duplicate definition), with
  header files, it’s quite easy to end up in a situation where a definition in a
  header file gets included more than once. This can happen when a header file
  #includes another header file (which is common).
</p>
<div class="cpp-note cpp-lightgraybackground" data-ezoic-video-excluded="1">
  <p class="cpp-note-title cpp-bottomline">Author’s note</p>
  <p>
    In upcoming examples, we’ll define some functions inside header files. You
    generally shouldn’t do this.
  </p>
  <p>
    We are doing so here because it is the most effective way to demonstrate
    some concepts using functionality we’ve already covered.
  </p>
</div>
<p>Consider the following academic example:</p>
<p>square.h:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-224-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-224-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-225-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-225-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>wave.h:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"square.h"</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>main.cpp:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"square.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"wave.h"</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-226-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-226-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-227-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-227-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This seemingly innocent looking program won’t compile! Here’s what’s
  happening. First, <em>main.cpp</em> #includes <em>square.h</em>, which copies
  the definition for function <em>getSquareSides</em> into <em>main.cpp</em>.
  Then <em>main.cpp</em> #includes <em>wave.h</em>, which #includes
  <em>square.h</em> itself. This copies contents of <em>square.h</em> (including
  the definition for function <em>getSquareSides</em>) into <em>wave.h</em>,
  which then gets copied into <em>main.cpp</em>.
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>
<p>
  Thus, after resolving all of the #includes, <em>main.cpp</em> ends up looking
  like this:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-228-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-228-open">)</span>  <span class="token comment">// from square.h</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-231-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-231-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-229-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-229-open">)</span> <span class="token comment">// from wave.h (via square.h)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-232-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-232-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-230-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-230-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-233-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-233-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Duplicate definitions and a compile error. Each file, individually, is fine.
  However, because <em>main.cpp</em> ends up #including the content of
  <em>square.h</em> twice, we’ve run into problems. If <em>wave.h</em> needs
  <em>getSquareSides()</em>, and <em>main.cpp</em> needs both
  <em>wave.h</em> and <em>square.h</em>, how would you resolve this issue?
</p>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  Header guards
</p>
<p>
  The good news is that we can avoid the above problem via a mechanism called a
  <strong>header guard</strong> (also called an <strong>include guard</strong>).
  Header guards are conditional compilation directives that take the following
  form:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">SOME_UNIQUE_NAME_HERE</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SOME_UNIQUE_NAME_HERE</span></span>

<span class="token comment">// your declarations (and certain types of definitions) here</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  When this header is #included, the preprocessor will check whether
  <em>SOME_UNIQUE_NAME_HERE</em> has been previously defined in this translation
  unit. If this is the first time we’re including the header,
  <em>SOME_UNIQUE_NAME_HERE</em> will not have been defined. Consequently, it
  #defines <em>SOME_UNIQUE_NAME_HERE</em> and includes the contents of the file.
  If the header is included again into the same file,
  <em>SOME_UNIQUE_NAME_HERE</em> will already have been defined from the first
  time the contents of the header were included, and the contents of the header
  will be ignored (thanks to the #ifndef).
</p>
<p>
  All of your header files should have header guards on them.
  <em>SOME_UNIQUE_NAME_HERE</em> can be any name you want, but by convention is
  set to the full filename of the header file, typed in all caps, using
  underscores for spaces or punctuation. For example, <em>square.h</em> would
  have the header guard:
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>
<p>square.h:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">SQUARE_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SQUARE_H</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-234-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-234-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-235-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-235-open">}</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Even the standard library headers use header guards. If you were to take a
  look at the iostream header file from Visual Studio, you would see:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">_IOSTREAM_</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">_IOSTREAM_</span></span>

<span class="token comment">// content here</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div class="cpp-note cpp-lightgraybackground" data-ezoic-video-excluded="1">
  <p class="cpp-note-title cpp-bottomline">For advanced readers</p>
  <p>
    In large programs, it’s possible to have two separate header files (included
    from different directories) that end up having the same filename (e.g.
    directoryA\config.h and directoryB\config.h). If only the filename is used
    for the include guard (e.g. CONFIG_H), these two files may end up using the
    same guard name. If that happens, any file that includes (directly or
    indirectly) both config.h files will not receive the contents of the include
    file to be included second. This will probably cause a compilation error.
  </p>
  <p>
    Because of this possibility for guard name conflicts, many developers
    recommend using a more complex/unique name in your header guards. Some good
    suggestions are a naming convention of PROJECT_PATH_FILE_H,
    FILE_LARGE-RANDOM-NUMBER_H, or FILE_CREATION-DATE_H.
  </p>
</div>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  Updating our previous example with header guards
</p>
<p>
  Let’s return to the <em>square.h</em> example, using the
  <em>square.h</em> with header guards. For good form, we’ll also add header
  guards to <em>wave.h</em>.
</p>
<p>square.h</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">SQUARE_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SQUARE_H</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-236-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-236-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-237-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-237-open">}</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>wave.h:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">WAVE_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">WAVE_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"square.h"</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>main.cpp:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"square.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"wave.h"</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-238-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-238-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-239-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-239-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  After the preprocessor resolves all of the #include directives, this program
  looks like this:
</p>
<p>main.cpp:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// Square.h included from main.cpp</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">SQUARE_H </span><span class="token comment">// square.h included from main.cpp</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SQUARE_H</span> <span class="token comment">// SQUARE_H gets defined here</span></span>

<span class="token comment">// and all this content gets included</span>
<span class="token keyword keyword-int">int</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-240-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-240-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-243-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-243-open">}</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// SQUARE_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">WAVE_H </span><span class="token comment">// wave.h included from main.cpp</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">WAVE_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">SQUARE_H </span><span class="token comment">// square.h included from wave.h, SQUARE_H is already defined from above</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SQUARE_H</span> <span class="token comment">// so none of this content gets included</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-241-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-241-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-244-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-244-open">}</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// SQUARE_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// WAVE_H</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-242-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-242-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-245-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-245-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Let’s look at how this evaluates.</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>
<p>
  First, the preprocessor evaluates <code>#ifndef SQUARE_H</code>.
  <code>SQUARE_H</code> has not been defined yet, so the code from the
  <code>#ifndef</code> to the subsequent <code>#endif</code> is included for
  compilation. This code defines <code>SQUARE_H</code>, and has the definition
  for the <code>getSquareSides</code> function.
</p>
<p>
  Later, the next <code>#ifndef SQUARE_H</code> is evaluated. This time,
  <code>SQUARE_H</code> is defined (because it got defined above), so the code
  from the <code>#ifndef</code> to the subsequent <code>#endif</code> is
  excluded from compilation.
</p>
<p>
  Header guards prevent duplicate inclusions because the first time a guard is
  encountered, the guard macro isn’t defined, so the guarded content is
  included. Past that point, the guard macro is defined, so any subsequent
  copies of the guarded content are excluded.
</p>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  Header guards do not prevent a header from being included once into different
  code files
</p>
<p>
  Note that the goal of header guards is to prevent a code file from receiving
  more than one copy of a guarded header. By design, header guards do
  <em>not</em> prevent a given header file from being included (once) into
  separate code files. This can also cause unexpected problems. Consider:
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>
<p>square.h:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">SQUARE_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SQUARE_H</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-246-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-246-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-248-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-248-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">getSquarePerimeter</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-247-close">(</span><span class="token keyword keyword-int">int</span> sideLength<span class="token punctuation brace-round brace-close brace-level-1" id="pair-247-open">)</span><span class="token punctuation">;</span> <span class="token comment">// forward declaration for getSquarePerimeter</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>square.cpp:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"square.h"</span>  <span class="token comment">// square.h is included once here</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">getSquarePerimeter</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-249-close">(</span><span class="token keyword keyword-int">int</span> sideLength<span class="token punctuation brace-round brace-close brace-level-1" id="pair-249-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-251-close">{</span>
    <span class="token keyword keyword-return">return</span> sideLength <span class="token operator">*</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-250-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-250-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-251-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>main.cpp:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"square.h"</span> <span class="token comment">// square.h is also included once here</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-252-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-252-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-255-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a square has "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-253-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-253-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" sides\n"</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a square of length 5 has perimeter length "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">getSquarePerimeter</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-254-close">(</span><span class="token number">5</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-254-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-255-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Note that <em>square.h</em> is included from both <em>main.cpp</em> and
  <em>square.cpp</em>. This means the contents of <em>square.h</em> will be
  included once into <em>square.cpp</em> and once into <em>main.cpp</em>.
</p>
<p>
  Let’s examine why this happens in more detail. When <em>square.h</em> is
  included from <em>square.cpp</em>, <em>SQUARE_H</em> is defined until the end
  of <em>square.cpp</em>. This define prevents <em>square.h</em> from being
  included into <em>square.cpp</em> a second time (which is the point of header
  guards). However, once <em>square.cpp</em> is finished, <em>SQUARE_H</em> is
  no longer considered defined. This means that when the preprocessor runs on
  <em>main.cpp</em>, <em>SQUARE_H</em> is not initially defined in
  <em>main.cpp</em>.
</p>
<p>
  The end result is that both <em>square.cpp</em> and <em>main.cpp</em> get a
  copy of the definition of <em>getSquareSides</em>. This program will compile,
  but the linker will complain about your program having multiple definitions
  for identifier <em>getSquareSides</em>!
</p>
<p>
  The best way to work around this issue is simply to put the function
  definition in one of the .cpp files so that the header just contains a forward
  declaration:
</p>
<p>square.h:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">SQUARE_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SQUARE_H</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-256-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-256-open">)</span><span class="token punctuation">;</span> <span class="token comment">// forward declaration for getSquareSides</span>
<span class="token keyword keyword-int">int</span> <span class="token function">getSquarePerimeter</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-257-close">(</span><span class="token keyword keyword-int">int</span> sideLength<span class="token punctuation brace-round brace-close brace-level-1" id="pair-257-open">)</span><span class="token punctuation">;</span> <span class="token comment">// forward declaration for getSquarePerimeter</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>square.cpp:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"square.h"</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-258-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-258-open">)</span> <span class="token comment">// actual definition for getSquareSides</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-261-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-261-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">getSquarePerimeter</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-259-close">(</span><span class="token keyword keyword-int">int</span> sideLength<span class="token punctuation brace-round brace-close brace-level-1" id="pair-259-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-262-close">{</span>
    <span class="token keyword keyword-return">return</span> sideLength <span class="token operator">*</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-260-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-260-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-262-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>main.cpp:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"square.h"</span> <span class="token comment">// square.h is also included once here</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-263-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-263-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-266-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a square has "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">getSquareSides</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-264-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-264-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" sides\n"</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a square of length 5 has perimeter length "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">getSquarePerimeter</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-265-close">(</span><span class="token number">5</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-265-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-266-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Now when the program is compiled, function <em>getSquareSides</em> will have
  just one definition (via <em>square.cpp</em>), so the linker is happy. File
  <em>main.cpp</em> is able to call this function (even though it lives in
  <em>square.cpp</em>) because it includes <em>square.h</em>, which has a
  forward declaration for the function (the linker will connect the call to
  <em>getSquareSides</em> from <em>main.cpp</em> to the definition of
  <em>getSquareSides</em> in <em>square.cpp</em>).
</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  Can’t we just avoid definitions in header files?
</p>
<p>
  We’ve generally told you not to include function definitions in your headers.
  So you may be wondering why you should include header guards if they protect
  you from something you shouldn’t do.
</p>
<p>
  There are quite a few cases we’ll show you in the future where it’s necessary
  to put non-function definitions in a header file. For example, C++ will let
  you create your own types. These custom types are typically defined in header
  files, so the type definitions can be propagated out to the code files that
  need to use them. Without a header guard, a code file could end up with
  multiple (identical) copies of a given type definition, which the compiler
  will flag as an error.
</p>
<p>
  So even though it’s not strictly necessary to have header guards at this point
  in the tutorial series, we’re establishing good habits now, so you don’t have
  to unlearn bad habits later.
</p>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  #pragma once
</p>
<p>
  Modern compilers support a simpler, alternate form of header guards using the
  <code>#pragma</code> preprocessor directive:
</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token comment">// your code here</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  <code>#pragma once</code> serves the same purpose as header guards: to avoid a
  header file from being included multiple times. With traditional header
  guards, the developer is responsible for guarding the header (by using
  preprocessor directives <code>#ifndef</code>, <code>#define</code>, and
  <code>#endif</code>). With <code>#pragma once</code>, we’re requesting that
  the compiler guard the header. How exactly it does this is an
  implementation-specific detail.
</p>
<div class="cpp-note cpp-lightgraybackground" data-ezoic-video-excluded="1">
  <p class="cpp-note-title cpp-bottomline">For advanced readers</p>
  <p>
    There is one known case where <code>#pragma once</code> will typically fail.
    If a header file is copied so that it exists in multiple places on the file
    system, if somehow both copies of the header get included, header guards
    will successfully de-dupe the identical headers, but
    <code>#pragma once</code> won’t (because the compiler won’t realize they are
    actually identical content).
  </p>
</div>
<p>
  For most projects, <code>#pragma once</code> works fine, and many developers
  now prefer it because it is easier and less error-prone. Many IDEs will also
  auto-include <code>#pragma once</code> at the top of a new header file
  generated through the IDE.
</p>
<div class="cpp-note cpp-lightredbackground" data-ezoic-video-excluded="1">
  <p class="cpp-note-title cpp-bottomline">Warning</p>
  <p>
    The <code>#pragma</code> directive was designed for compiler implementers to
    use for whatever purposes they desire. As such, which pragmas are supported
    and what meaning those pragmas have is completely implementation-specific.
    With the exception of <code>#pragma once</code>, do not expect a pragma that
    works on one compiler to be supported by another.
  </p>
</div>
<p>
  Because <code>#pragma once</code> is not defined by the C++ standard, it is
  possible that some compilers may not implement it. For this reason, some
  development houses (such as Google) recommend using traditional header guards.
  In this tutorial series, we will favor header guards, as they are the most
  conventional way to guard headers. However, support for
  <code>#pragma once</code> is fairly ubiquitous at this point, and if you wish
  to use <code>#pragma once</code> instead, that is generally accepted in modern
  C++.
</p>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  Summary
</p>
<p>
  Header guards are designed to ensure that the contents of a given header file
  are not copied more than once into any single file, in order to prevent
  duplicate definitions.
</p>
<p>
  Duplicate <em>declarations</em> are fine -- but even if your header file is
  composed of all declarations (no definitions) it’s still a best practice to
  include header guards.
</p>
<div class="code-block code-block-8" style="margin: 8px 0; clear: both"></div>
<p>
  Note that header guards do <em>not</em> prevent the contents of a header file
  from being copied (once) into separate project files. This is a good thing,
  because we often need to reference the contents of a given header from
  different project files.
</p>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  Quiz time
</p>
<div class="quiz" style="clear: both">
  <p class="quiz-header">Question #1</p>
  <p>Add header guards to this header file:</p>
  <p>add.h:</p>
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">add</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-267-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-1" id="pair-267-open">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
  <p>
    <a
      class="solution_link_show"
      href="javascript:void(0)"
      onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_0'),this,'Show Solution','Hide Solution')"
      >Show Solution</a
    >
  </p>
  <div class="wpsolution" id="cpp_solution_id_0" style="display: none">
    <div class="code-toolbar">
      <pre
        class="line-numbers language-cpp"
        tabindex="0"
      ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">ADD_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ADD_H</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">add</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-268-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-1" id="pair-268-open">)</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
      <div class="toolbar">
        <div class="toolbar-item">
          <button
            class="copy-to-clipboard-button"
            type="button"
            data-copy-state="copy"
          >
            <span>Copy</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/how-to-design-your-first-programs/"
      ><div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">2.13</span>How to design your
            first programs
          </div>
        </div>
      </div></a
    ><a class="nav-link" href="/"
      ><div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    ><a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/header-files/"
      ><div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">2.11</span>Header files
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
