<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>Consider the following program:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Fraction</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-11-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-5-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-5-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-6-close">{</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-6-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token comment">// Default constructor</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-0-close">(</span><span class="token keyword keyword-int">int</span> numerator<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-0-open">)</span>
        <span class="token operator">:</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-7-close">{</span>numerator<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-7-open">}</span><span class="token punctuation">,</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-8-close">{</span>denominator<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-8-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-9-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-9-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-1-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-1-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-10-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Fraction("</span> <span class="token operator">&lt;&lt;</span> m_numerator <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> m_denominator <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-10-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-11-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-2-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-2-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-14-close">{</span>
    Fraction f <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-12-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-12-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// Calls Fraction(int, int) constructor</span>
    Fraction fCopy <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-13-close">{</span> f <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-13-open">}</span><span class="token punctuation">;</span> <span class="token comment">// What constructor is used here?</span>

    f<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-3-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-3-open">)</span><span class="token punctuation">;</span>
    fCopy<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-4-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-4-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-14-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  You might be surprised to find that this program compiles just fine, and
  produces the result:
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2749809009&amp;adf=1073348674&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750230633&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-the-copy-constructor%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962980474&amp;bpp=1&amp;bdt=989&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=2945738067390&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1077&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353386%2C95362655%2C95365225%2C95365235%2C95365108%2C95359266%2C95365122%2C95365797&amp;oid=2&amp;pvsid=5613823666545713&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=19"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-google-query-id="CJS1utjqrI4DFXRbwgUdwncJFg"
        data-load-complete="true"
      ></iframe></div
  ></ins>
</div>
<pre>
Fraction(5, 3)
Fraction(5, 3)
</pre>
<p>Let’s take a closer look at how this program works.</p>
<p>
  The initialization of variable <code>f</code> is just a standard brace
  initialization that calls the <code>Fraction(int, int)</code> constructor.
</p>
<p>
  But what about the next line? The initialization of variable
  <code>fCopy</code> is also clearly an initialization, and you know that
  constructor functions are used to initialize classes. So what constructor is
  this line calling?
</p>
<p>The answer is: the copy constructor.</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">The copy constructor</p>
<p>
  A <strong>copy constructor</strong> is a constructor that is used to
  initialize an object with an existing object of the same type. After the copy
  constructor executes, the newly created object should be a copy of the object
  passed in as the initializer.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2749809009&amp;adf=3444618574&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750230633&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-the-copy-constructor%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962980474&amp;bpp=1&amp;bdt=989&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=2945738067390&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1705&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353386%2C95362655%2C95365225%2C95365235%2C95365108%2C95359266%2C95365122%2C95365797&amp;oid=2&amp;pvsid=5613823666545713&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=20"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CK_8udjqrI4DFaVFwgUdgjQcow"
      ></iframe></div
  ></ins>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  An implicit copy constructor
</p>
<p>
  If you do not provide a copy constructor for your classes, C++ will create a
  public <strong>implicit copy constructor</strong> for you. In the above
  example, the statement <code>Fraction fCopy { f };</code> is invoking the
  implicit copy constructor to initialize <code>fCopy</code> with
  <code>f</code>.
</p>
<p>
  By default, the implicit copy constructor will do memberwise initialization.
  This means each member will be initialized using the corresponding member of
  the class passed in as the initializer. In the example above,
  <code>fCopy.m_numerator</code> is initialized using
  <code>f.m_numerator</code> (which has value <code>5</code>), and
  <code>fCopy.m_denominator</code> is initialized using
  <code>f.m_denominator</code> (which has value <code>3</code>).
</p>
<p>
  After the copy constructor has executed, the members of <code>f</code> and
  <code>fCopy</code> have the same values, so <code>fCopy</code> is a copy of
  <code>f</code>. Thus calling <code>print()</code> on either has the same
  result.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Defining your own copy constructor
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>
  We can also explicitly define our own copy constructor. In this lesson, we’ll
  make our copy constructor print a message, so we can show you that it is
  indeed executing when copies are made.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2749809009&amp;adf=342224609&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750230633&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-the-copy-constructor%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962980474&amp;bpp=1&amp;bdt=989&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=2945738067390&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2327&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353386%2C95362655%2C95365225%2C95365235%2C95365108%2C95359266%2C95365122%2C95365797&amp;oid=2&amp;pvsid=5613823666545713&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=21"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CJaEutjqrI4DFfpLwgUd4_AebA"
      ></iframe></div
  ></ins>
</div>
<p>The copy constructor looks just like you’d expect it to:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Fraction</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-30-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-21-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-21-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-22-close">{</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-22-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token comment">// Default constructor</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-15-close">(</span><span class="token keyword keyword-int">int</span> numerator<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-15-open">)</span>
        <span class="token operator">:</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-23-close">{</span>numerator<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-23-open">}</span><span class="token punctuation">,</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-24-close">{</span>denominator<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-24-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-25-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-25-open">}</span>

    <span class="token comment">// Copy constructor</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-16-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> fraction<span class="token punctuation brace-round brace-close brace-level-2" id="pair-16-open">)</span>
        <span class="token comment">// Initialize our members using the corresponding member of the parameter</span>
        <span class="token operator">:</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-26-close">{</span> fraction<span class="token punctuation">.</span>m_numerator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-26-open">}</span>
        <span class="token punctuation">,</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-27-close">{</span> fraction<span class="token punctuation">.</span>m_denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-27-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-28-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Copy constructor called\n"</span><span class="token punctuation">;</span> <span class="token comment">// just to prove it works</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-28-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-17-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-17-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-29-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Fraction("</span> <span class="token operator">&lt;&lt;</span> m_numerator <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> m_denominator <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-29-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-30-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-18-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-18-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-33-close">{</span>
    Fraction f <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-31-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-31-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// Calls Fraction(int, int) constructor</span>
    Fraction fCopy <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-32-close">{</span> f <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-32-open">}</span><span class="token punctuation">;</span> <span class="token comment">// Calls Fraction(const Fraction&amp;) copy constructor</span>

    f<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-19-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-19-open">)</span><span class="token punctuation">;</span>
    fCopy<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-20-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-20-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-33-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>When this program is run, you get:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2749809009&amp;adf=1670488475&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750230633&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-the-copy-constructor%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962980474&amp;bpp=1&amp;bdt=989&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=2945738067390&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3363&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353386%2C95362655%2C95365225%2C95365235%2C95365108%2C95359266%2C95365122%2C95365797&amp;oid=2&amp;pvsid=5613823666545713&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=22"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CLvdutjqrI4DFfxEwgUd_BEJsw"
      ></iframe></div
  ></ins>
</div>
<pre>
Copy constructor called
Fraction(5, 3)
Fraction(5, 3)
</pre>
<p>
  The copy constructor we defined above is functionally equivalent to the one
  we’d get by default, except we’ve added an output statement to prove the copy
  constructor is actually being called. This copy constructor is invoked when
  <code>fCopy</code> is initialized with <code>f</code>.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">A reminder</p>
  <p>
    Access controls work on a per-class basis (not a per-object basis). This
    means the member functions of a class can access the private members of any
    class object of the same type (not just the implicit object).
  </p>
  <p>
    We use that to our advantage in the <code>Fraction</code> copy constructor
    above in order to directly access the private members of the
    <code>fraction</code> parameter. Otherwise, we would have no way to access
    those members directly (without adding access functions, which we might not
    want to do).
  </p>
</div>
<p>
  A copy constructor should not do anything other than copy an object. This is
  because the compiler may optimize the copy constructor out in certain cases.
  If you are relying on the copy constructor for some behavior other than just
  copying, that behavior may or may not occur. We discuss this further in lesson
  <a
    href="https://www.learncpp.com/cpp-tutorial/class-initialization-and-copy-elision/"
    >14.15 -- Class initialization and copy elision</a
  >.
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>Copy constructors should have no side effects beyond copying.</p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Prefer the implicit copy constructor
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2749809009&amp;adf=834653266&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750230633&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-the-copy-constructor%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962980477&amp;bpp=1&amp;bdt=992&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=6&amp;correlator=2945738067390&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3925&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353386%2C95362655%2C95365225%2C95365235%2C95365108%2C95359266%2C95365122%2C95365797&amp;oid=2&amp;pvsid=5613823666545713&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=5&amp;fsb=1&amp;dtd=233"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CKqhx9jqrI4DFRlEwgUdw0sPvw"
      ></iframe></div
  ></ins>
</div>
<p>
  Unlike the implicit default constructor, which does nothing (and thus is
  rarely what we want), the memberwise initialization performed by the implicit
  copy constructor is usually exactly what we want. Therefore, in most cases,
  using the implicit copy constructor is perfectly fine.
</p>
<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>
    Prefer the implicit copy constructor, unless you have a specific reason to
    create your own.
  </p>
</div>
<p>
  We’ll see cases where the copy constructor needs to be overwritten when we
  discuss dynamic memory allocation (<a
    href="https://www.learncpp.com/cpp-tutorial/shallow-vs-deep-copying/"
    >21.13 -- Shallow vs. deep copying</a
  >).
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  The copy constructor’s parameter must be a reference
</p>
<p>
  It is a requirement that the parameter of a copy constructor be an lvalue
  reference or const lvalue reference. Because the copy constructor should not
  be modifying the parameter, using a const lvalue reference is preferred.
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>
    If you write your own copy constructor, the parameter should be a const
    lvalue reference.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Pass by value and the copy constructor
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_10"
        name="aswift_10"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2749809009&amp;adf=3007842747&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750230633&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-the-copy-constructor%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962980479&amp;bpp=1&amp;bdt=994&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=7&amp;correlator=2945738067390&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=4083&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353386%2C95362655%2C95365225%2C95365235%2C95365108%2C95359266%2C95365122%2C95365797&amp;oid=2&amp;pvsid=5613823666545713&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=11&amp;uci=a!b&amp;btvi=6&amp;fsb=1&amp;dtd=254"
        data-google-container-id="a!b"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CIfRyNjqrI4DFfFEwgUdIdYQaQ"
      ></iframe></div
  ></ins>
</div>
<p>
  When an object is passed by value, the argument is copied into the parameter.
  When the argument and parameter are the same class type, the copy is made by
  implicitly invoking the copy constructor.
</p>
<p>This is illustrated in the following example:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Fraction</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-50-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-41-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-41-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-42-close">{</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-42-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token comment">// Default constructor</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-34-close">(</span><span class="token keyword keyword-int">int</span> numerator <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-34-open">)</span>
        <span class="token operator">:</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-43-close">{</span> numerator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-43-open">}</span><span class="token punctuation">,</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-44-close">{</span> denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-44-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-45-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-45-open">}</span>

    <span class="token comment">// Copy constructor</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-35-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> fraction<span class="token punctuation brace-round brace-close brace-level-2" id="pair-35-open">)</span>
        <span class="token operator">:</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-46-close">{</span> fraction<span class="token punctuation">.</span>m_numerator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-46-open">}</span>
        <span class="token punctuation">,</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-47-close">{</span> fraction<span class="token punctuation">.</span>m_denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-47-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-48-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Copy constructor called\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-48-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-36-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-36-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-49-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Fraction("</span> <span class="token operator">&lt;&lt;</span> m_numerator <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> m_denominator <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-49-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-50-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">printFraction</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-37-close">(</span>Fraction f<span class="token punctuation brace-round brace-close brace-level-1" id="pair-37-open">)</span> <span class="token comment">// f is pass by value</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-51-close">{</span>
    f<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-38-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-38-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-51-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-39-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-39-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-53-close">{</span>
    Fraction f<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-52-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-52-open">}</span><span class="token punctuation">;</span>

    <span class="token function">printFraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-40-close">(</span>f<span class="token punctuation brace-round brace-close brace-level-2" id="pair-40-open">)</span><span class="token punctuation">;</span> <span class="token comment">// f is copied into the function parameter using copy constructor</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-53-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>On the author’s machine, this example prints:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_11_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<pre>
Copy constructor called
Fraction(5, 3)
</pre>
<p>
  In the above example, the call to <code>printFraction(f)</code> is passing
  <code>f</code> by value. The copy constructor is invoked to copy
  <code>f</code> from <code>main</code> into the <code>f</code> parameter of
  function <code>printFraction()</code>.
</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  Return by value and the copy constructor
</p>
<p>
  In lesson
  <a href="https://www.learncpp.com/cpp-tutorial/introduction-to-local-scope/"
    >2.5 -- Introduction to local scope</a
  >, we noted that return by value creates a temporary object (holding a copy of
  the return value) that is passed back to the caller. When the return type and
  the return value are the same class type, the temporary object is initialized
  by implicitly invoking the copy constructor.
</p>
<p>For example:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Fraction</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-72-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-63-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-63-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-64-close">{</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-64-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token comment">// Default constructor</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-54-close">(</span><span class="token keyword keyword-int">int</span> numerator <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-54-open">)</span>
        <span class="token operator">:</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-65-close">{</span> numerator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-65-open">}</span><span class="token punctuation">,</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-66-close">{</span> denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-66-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-67-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-67-open">}</span>

    <span class="token comment">// Copy constructor</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-55-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> fraction<span class="token punctuation brace-round brace-close brace-level-2" id="pair-55-open">)</span>
        <span class="token operator">:</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-68-close">{</span> fraction<span class="token punctuation">.</span>m_numerator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-68-open">}</span>
        <span class="token punctuation">,</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-69-close">{</span> fraction<span class="token punctuation">.</span>m_denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-69-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-70-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Copy constructor called\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-70-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-56-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-56-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-71-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Fraction("</span> <span class="token operator">&lt;&lt;</span> m_numerator <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> m_denominator <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-71-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-72-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">printFraction</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-57-close">(</span>Fraction f<span class="token punctuation brace-round brace-close brace-level-1" id="pair-57-open">)</span> <span class="token comment">// f is pass by value</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-73-close">{</span>
    f<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-58-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-58-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-73-open">}</span>

Fraction <span class="token function">generateFraction</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-59-close">(</span><span class="token keyword keyword-int">int</span> n<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> d<span class="token punctuation brace-round brace-close brace-level-1" id="pair-59-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-75-close">{</span>
    Fraction f<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-74-close">{</span> n<span class="token punctuation">,</span> d <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-74-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> f<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-75-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-60-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-60-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-77-close">{</span>
    Fraction f2 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-76-close">{</span> <span class="token function">generateFraction</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-61-close">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-61-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-76-open">}</span><span class="token punctuation">;</span> <span class="token comment">// Fraction is returned using copy constructor</span>

    <span class="token function">printFraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-62-close">(</span>f2<span class="token punctuation brace-round brace-close brace-level-2" id="pair-62-open">)</span><span class="token punctuation">;</span> <span class="token comment">// f2 is copied into the function parameter using copy constructor</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-77-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  When <code>generateFraction</code> returns a <code>Fraction</code> back to
  <code>main</code>, a temporary <code>Fraction</code> object is created and
  initialized using the copy constructor.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_12_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  Because this temporary is used to initialize <code>Fraction f2</code>, this
  invokes the copy constructor again to copy the temporary into <code>f2</code>.
</p>
<p>
  And when <code>f2</code> is passed to <code>printFraction()</code>, the copy
  constructor is called a third time.
</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>

<p>Thus, on the author’s machine, this example prints:</p>
<pre>
Copy constructor called
Copy constructor called
Copy constructor called
Fraction(1, 2)
</pre>
<p>
  If you compile and execute the above example, you may find that only two calls
  to the copy constructor occur. This is a compiler optimization known as
  <em>copy elision</em>. We discuss copy elision further in lesson
  <a
    href="https://www.learncpp.com/cpp-tutorial/class-initialization-and-copy-elision/"
    >14.15 -- Class initialization and copy elision</a
  >.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Using <code>= default</code> to generate a default copy constructor
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_13_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  If a class has no copy constructor, the compiler will implicitly generate one
  for us. If we prefer, we can explicitly request the compiler create a default
  copy constructor for us using the <code>= default</code> syntax:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Fraction</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-90-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-84-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-84-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-85-close">{</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-85-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token comment">// Default constructor</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-78-close">(</span><span class="token keyword keyword-int">int</span> numerator<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-78-open">)</span>
        <span class="token operator">:</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-86-close">{</span>numerator<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-86-open">}</span><span class="token punctuation">,</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-87-close">{</span>denominator<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-87-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-88-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-88-open">}</span>

    <span class="token comment">// Explicitly request default copy constructor</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-79-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> fraction<span class="token punctuation brace-round brace-close brace-level-2" id="pair-79-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-80-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-80-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-89-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Fraction("</span> <span class="token operator">&lt;&lt;</span> m_numerator <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> m_denominator <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-89-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-90-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-81-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-81-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-93-close">{</span>
    Fraction f <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-91-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-91-open">}</span><span class="token punctuation">;</span>
    Fraction fCopy <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-92-close">{</span> f <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-92-open">}</span><span class="token punctuation">;</span>

    f<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-82-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-82-open">)</span><span class="token punctuation">;</span>
    fCopy<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-83-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-83-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-93-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Using <code>= delete</code> to prevent copies
</p>
<div class="code-block code-block-8" style="margin: 8px 0; clear: both"></div>

<p>
  Occasionally we run into cases where we do not want objects of a certain class
  to be copyable. We can prevent this by marking the copy constructor function
  as deleted, using the <code>= delete</code> syntax:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Fraction</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-104-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-98-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-98-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-99-close">{</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-99-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token comment">// Default constructor</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-94-close">(</span><span class="token keyword keyword-int">int</span> numerator<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-94-open">)</span>
        <span class="token operator">:</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-100-close">{</span>numerator<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-100-open">}</span><span class="token punctuation">,</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-101-close">{</span>denominator<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-101-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-102-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-102-open">}</span>

    <span class="token comment">// Delete the copy constructor so no copies can be made</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-95-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> fraction<span class="token punctuation brace-round brace-close brace-level-2" id="pair-95-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-96-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-96-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-103-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Fraction("</span> <span class="token operator">&lt;&lt;</span> m_numerator <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> m_denominator <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-103-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-104-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-97-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-97-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-107-close">{</span>
    Fraction f <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-105-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-105-open">}</span><span class="token punctuation">;</span>
    Fraction fCopy <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-106-close">{</span> f <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-106-open">}</span><span class="token punctuation">;</span> <span class="token comment">// compile error: copy constructor has been deleted</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-107-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In the example, when the compiler goes to find a constructor to initialize
  <code>fCopy</code> with <code>f</code>, it will see that the copy constructor
  has been deleted. This will cause it to emit a compile error.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">As an aside…</p>
  <p>
    You can also prevent the public from making copies of class object by making
    the copy constructor private (as private functions can’t be used by the
    public). However, a private copy constructor <em>can</em> still be used by
    other members of the class, so this solution is not advised unless that is
    desired.
  </p>
</div>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">For advanced readers</p>
  <p>
    The <strong>rule of three</strong> is a well known C++ principle that states
    that if a class requires a user-defined copy constructor, destructor, or
    copy assignment operator, then it probably requires all three. In C++11,
    this was expanded to the <strong>rule of five</strong>, which adds the move
    constructor and move assignment operator to the list.
  </p>
  <p>
    Not following the rule of three/rule of five is likely to lead to
    malfunctioning code. We’ll revisit the rule of three and rule of five when
    we cover dynamic memory allocation.
  </p>
  <p>
    We discuss destructors in lesson
    <a href="https://www.learncpp.com/cpp-tutorial/introduction-to-destructors/"
      >15.4 -- Introduction to destructors</a
    >
    and
    <a href="https://www.learncpp.com/cpp-tutorial/destructors/"
      >19.3 -- Destructors</a
    >, and copy assignment in lesson
    <a
      href="https://www.learncpp.com/cpp-tutorial/overloading-the-assignment-operator/"
      >21.12 -- Overloading the assignment operator</a
    >.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">Quiz time</p>
<p class="cpp-quiz-question" style="clear: both">Question #1</p>
<p>
  In the lesson above, we noted that the parameter for a copy constructor must
  be a (const) reference. Why aren’t we allowed to use pass by value?
</p>
<p>
  <a
    class="hint_link_show"
    href="javascript:void(0)"
    onclick="cppHintToggle(document.getElementById('cpp_hint_id_0'), this, 'Show Hint', '')"
    >Show Hint</a
  >
</p>
<div
  class="wphint"
  id="cpp_hint_id_0"
  style="display: none; margin-bottom: 1em"
>
  Hint: Think about what happens when we pass a class type argument by value.
</div>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_0'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_0" style="display: none">
  <p>
    When we pass a class type argument by value, the copy constructor is
    implicitly invoked to copy the argument into the parameter.
  </p>
  <p>
    If the copy constructor used pass by value, the copy constructor would need
    to call itself to copy the initializer argument into the copy constructor
    parameter. But that call to the copy constructor would also be pass by
    value, so the copy constructor would be invoked again to copy the argument
    into the function parameter. This would lead to an infinite chain of calls
    to the copy constructor.
  </p>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/class-initialization-and-copy-elision/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">14.15</span>Class
            initialization and copy elision
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/temporary-class-objects/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">14.13</span>Temporary class
            objects
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
