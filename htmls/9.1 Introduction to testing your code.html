<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  So, you’ve written a program, it compiles, and it even appears to work! What
  now?
</p>
<p>
  Well, it depends. If you’ve written your program to be run once and discarded,
  then you’re done. In this case, it may not matter that your program doesn’t
  work for every case -- if it works for the one case you needed it for, and
  you’re only going to run it once, then you’re done.
</p>
<p>
  If your program is entirely linear (has no conditionals, such as
  <em>if statements</em> or <em>switch statements</em>), takes no inputs, and
  produces the correct answer, then you’re probably done. In this case, you’ve
  already tested the entire program by running it and validating the output. You
  may want to compile and run the program on several different systems to ensure
  it behaves consistently (if it doesn’t, you’ve probably done something that
  produces undefined behavior that just happens to work anyway on your initial
  system).
</p>
<p>
  But most likely you’ve written a program you intend to run many times, that
  uses loops and conditional logic, and accepts user input of some kind. You’ve
  possibly written functions that may be reusable in other future programs. You
  may have experienced a bit of <strong>scope creep</strong>, where you added
  some new capabilities that were originally not planned for. Maybe you’re even
  intending to distribute this program to other people (who are likely to try
  things you haven’t thought of). In this case, you really should be validating
  that your program works like you think it does under a wide variety of
  conditions -- and that requires some proactive testing.
</p>
<p>
  Just because your program worked for one set of inputs doesn’t mean it’s going
  to work correctly in all cases.
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>
<p>
  <strong>Software testing</strong> (also called
  <strong>software validation</strong>) is the process of determining whether or
  not the software actually works as expected.
</p>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  The testing challenge
</p>
<p>
  Before we talk about some practical ways to test your code, let’s talk about
  why testing your program comprehensively is difficult.
</p>
<p>Consider this simple program:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-void">void</span> <span class="token function">compare</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-174-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-1" id="pair-174-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-179-close">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-175-close">(</span>x <span class="token operator">&gt;</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-175-open">)</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> <span class="token string">" is greater than "</span> <span class="token operator">&lt;&lt;</span> y <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// case 1</span>
    <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-176-close">(</span>x <span class="token operator">&lt;</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-176-open">)</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> <span class="token string">" is less than "</span> <span class="token operator">&lt;&lt;</span> y <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// case 2</span>
    <span class="token keyword keyword-else">else</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> <span class="token string">" is equal to "</span> <span class="token operator">&lt;&lt;</span> y <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// case 3</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-179-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-177-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-177-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-182-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter a number: "</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-180-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-180-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> x<span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter another number: "</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-181-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-181-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> y<span class="token punctuation">;</span>

    <span class="token function">compare</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-178-close">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-178-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-182-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Assuming a 4-byte integer, explicitly testing this program with every possible
  combination of inputs would require that you run the program
  18,446,744,073,709,551,616 (~18 quintillion) times. Clearly that’s not a
  feasible task!
</p>
<p>
  Every time we ask for user input, or have a conditional in our code, we
  increase the number of possible ways our program can execute by some
  multiplicative factor. For all but the simplest programs, explicitly testing
  every combination of inputs becomes impossible almost immediately.
</p>
<p>
  Now, your intuition should be telling you that you really shouldn’t need to
  run the above program 18 quintillion times to ensure it works. You may
  reasonably conclude that if case 1 works for one pair of <code>x</code> and
  <code>y</code> values where <code>x &gt; y</code>, it should work for any pair
  of <code>x</code> and <code>y</code> where <code>x &gt; y</code>. Given that,
  it becomes apparent that we really only need to run this program about three
  times (once to exercise each of the three cases in function
  <code>compare()</code>) to have a high degree of confidence it works as
  desired. There are other similar tricks we can use to dramatically reduce the
  number of times we have to test something, in order to make testing
  manageable.
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>
<p>
  There’s a lot that can be written about testing methodologies -- in fact, we
  could write a whole chapter on it. But since it’s not a C++ specific topic,
  we’ll stick to a brief and informal introduction, covered from the point of
  view of you (as the developer) testing your own code. In the next few
  subsections, we’ll talk about some <em>practical</em> things you should be
  thinking about as you test your code.
</p>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  Test your programs in small pieces
</p>
<p>
  Consider an auto manufacturer that is building a custom concept car. Which of
  the following do you think they do?<br />a) Build (or buy) and test each car
  component individually before installing it. Once the component has been
  proven to work, integrate it into the car and retest it to make sure the
  integration worked. At the end, test the whole car, as a final validation that
  everything seems good.<br />b) Build a car out of all of the components all in
  one go, then test the whole thing for the first time right at the end.
</p>
<p>
  It probably seems obvious that option a) is a better choice. And yet, many new
  programmers write code like option b)!
</p>
<p>
  In case b), if any of the car parts were to not work as expected, the mechanic
  would have to diagnose the entire car to determine what was wrong -- the issue
  could be anywhere. A symptom might have many causes -- for example, is the car
  not starting due to a faulty spark plug, battery, fuel pump, or something
  else? This leads to lots of wasted time trying to identify exactly where the
  problems are, and what to do about them. And if a problem is found, the
  consequences can be disastrous -- a change in one area might cause “ripple
  effects” (changes) in multiple other places. For example, a fuel pump that is
  too small might lead to an engine redesign, which leads to a redesign of the
  car frame. In the worst case, you might end up redesigning a huge part of the
  car, just to accommodate what was initially a small issue!
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>
<p>
  In case a), the company tests as they go. If any component is bad right out of
  the box, they’ll know immediately and can fix/replace it. Nothing is
  integrated into the car until it’s proven working by itself, and then that
  part is retested again as soon as it’s been integrated into the car. This way
  any unexpected issues are discovered as early as possible, while they are
  still small problems that can be easily fixed.
</p>
<p>
  By the time they get around to having the whole car assembled, they should
  have reasonable confidence that the car will work -- after all, all the parts
  have been tested in isolation and when initially integrated. It’s still
  possible that unexpected issues will be found at this point, but that risk is
  minimized by all the prior testing.
</p>
<p>
  The above analogy holds true for programs as well, though for some reason, new
  programmers often don’t realize it. You’re much better off writing small
  functions (or classes), and then compiling and testing them immediately. That
  way, if you make a mistake, you’ll know it has to be in the small amount of
  code that you changed since the last time you compiled/tested. That means
  fewer places to look, and far less time spent debugging.
</p>
<p>
  Testing a small part of your code in isolation to ensure that “unit” of code
  is correct is called <strong>unit testing</strong>. Each
  <strong>unit test</strong> is designed to ensure that a particular behavior of
  the unit is correct.
</p>
<div class="cpp-note cpp-lightgreenbackground" data-ezoic-video-excluded="1">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>
    Write your program in small, well defined units (functions or classes),
    compile often, and test your code as you go.
  </p>
</div>
<p>
  If the program is short and accepts user input, trying a variety of user
  inputs might be sufficient. But as programs get longer and longer, this
  becomes less sufficient, and there is more value in testing individual
  functions or classes before integrating them into the rest of the program.
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>
<p>So how can we test our code in units?</p>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  Informal testing
</p>
<p>
  One way you can test code is to do informal testing as you write the program.
  After writing a unit of code (a function, a class, or some other discrete
  “package” of code), you can write some code to test the unit that was just
  added, and then erase the test once the test passes. As an example, for the
  following isLowerVowel() function, you might write the following code:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token comment">// We want to test the following function</span>
<span class="token comment">// For simplicity, we'll ignore that 'y' is sometimes counted as a vowel</span>
<span class="token keyword keyword-bool">bool</span> <span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-183-close">(</span><span class="token keyword keyword-char">char</span> c<span class="token punctuation brace-round brace-close brace-level-1" id="pair-183-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-189-close">{</span>
    <span class="token keyword keyword-switch">switch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-184-close">(</span>c<span class="token punctuation brace-round brace-close brace-level-2" id="pair-184-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-188-close">{</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'a'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'e'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'i'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'o'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'u'</span><span class="token operator">:</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-default">default</span><span class="token operator">:</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-188-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-189-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-185-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-185-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-190-close">{</span>
    <span class="token comment">// So here's our temporary tests to validate it works</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-186-close">(</span><span class="token string">'a'</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-186-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// temporary test code, should produce 1</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-187-close">(</span><span class="token string">'q'</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-187-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// temporary test code, should produce 0</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-190-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  If the results come back as <code>1</code> and <code>0</code>, then you’re
  good to go. You know your function works for some basic cases, and you can
  reasonably infer by looking at the code that it will work for the cases you
  didn’t test (‘e’, ‘i’, ‘o’, and ‘u’). So you can erase that temporary test
  code, and continue programming.
</p>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  Preserving your tests
</p>
<p>
  Although writing temporary tests is a quick and easy way to test some code, it
  doesn’t account for the fact that at some point, you may want to test that
  same code again later. Perhaps you modified a function to add a new
  capability, and want to make sure you didn’t break anything that was already
  working. For that reason, it can make more sense to preserve your tests so
  they can be run again in the future. For example, instead of erasing your
  temporary test code, you could move the tests into a testVowel() function:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-bool">bool</span> <span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-191-close">(</span><span class="token keyword keyword-char">char</span> c<span class="token punctuation brace-round brace-close brace-level-1" id="pair-191-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-198-close">{</span>
    <span class="token keyword keyword-switch">switch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-192-close">(</span>c<span class="token punctuation brace-round brace-close brace-level-2" id="pair-192-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-197-close">{</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'a'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'e'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'i'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'o'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'u'</span><span class="token operator">:</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-default">default</span><span class="token operator">:</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-197-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-198-open">}</span>

<span class="token comment">// Not called from anywhere right now</span>
<span class="token comment">// But here if you want to retest things later</span>
<span class="token keyword keyword-void">void</span> <span class="token function">testVowel</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-193-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-193-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-199-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-194-close">(</span><span class="token string">'a'</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-194-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// temporary test code, should produce 1</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-195-close">(</span><span class="token string">'q'</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-195-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// temporary test code, should produce 0</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-199-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-196-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-196-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-200-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-200-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  As you create more tests, you can simply add them to the
  <code>testVowel()</code> function.
</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  Automating your test functions
</p>
<p>
  One problem with the above test function is that it relies on you to manually
  verify the results when you run it. This requires you to remember what the
  expected answer was at worst (assuming you didn’t document it), and manually
  compare the actual results to the expected results.
</p>
<p>
  We can do better by writing a test function that contains both the tests AND
  the expected answers and compares them so we don’t have to.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-bool">bool</span> <span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-201-close">(</span><span class="token keyword keyword-char">char</span> c<span class="token punctuation brace-round brace-close brace-level-1" id="pair-201-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-212-close">{</span>
    <span class="token keyword keyword-switch">switch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-202-close">(</span>c<span class="token punctuation brace-round brace-close brace-level-2" id="pair-202-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-211-close">{</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'a'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'e'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'i'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'o'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'u'</span><span class="token operator">:</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-default">default</span><span class="token operator">:</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-211-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-212-open">}</span>

<span class="token comment">// returns the number of the test that failed, or 0 if all tests passed</span>
<span class="token keyword keyword-int">int</span> <span class="token function">testVowel</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-203-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-203-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-213-close">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-205-close">(</span><span class="token operator">!</span><span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-204-close">(</span><span class="token string">'a'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-204-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-205-open">)</span> <span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-207-close">(</span><span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-206-close">(</span><span class="token string">'q'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-206-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-207-open">)</span> <span class="token keyword keyword-return">return</span> <span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-213-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-208-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-208-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-215-close">{</span>
    <span class="token keyword keyword-int">int</span> result <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-214-close">{</span> <span class="token function">testVowel</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-209-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-209-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-214-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-210-close">(</span>result <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-210-open">)</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"testVowel() test "</span> <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> <span class="token string">" failed.\n"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-else">else</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"testVowel() tests passed.\n"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-215-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Now, you can call <code>testVowel()</code> at any time to re-prove that you
  haven’t broken anything, and the test routine will do all the work for you,
  returning either an “all good” signal (return value <code>0</code>), or the
  test number that didn’t pass, so you can investigate why it broke. This is
  particularly useful when going back and modifying old code, to ensure you
  haven’t accidentally broken anything!
</p>
<div class="cpp-note cpp-lightgraybackground" data-ezoic-video-excluded="1">
  <p class="cpp-note-title cpp-bottomline">For advanced readers</p>
  <p>
    A better method is to use <code>assert</code>, which will cause the program
    to abort with an error message if any test fails. We don’t have to create
    and handle test case numbers this way.
  </p>
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span> <span class="token comment">// for assert</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdlib&gt;</span> <span class="token comment">// for std::abort</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-bool">bool</span> <span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-216-close">(</span><span class="token keyword keyword-char">char</span> c<span class="token punctuation brace-round brace-close brace-level-1" id="pair-216-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-241-close">{</span>
    <span class="token keyword keyword-switch">switch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-217-close">(</span>c<span class="token punctuation brace-round brace-close brace-level-2" id="pair-217-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-240-close">{</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'a'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'e'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'i'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'o'</span><span class="token operator">:</span>
    <span class="token keyword keyword-case">case</span> <span class="token string">'u'</span><span class="token operator">:</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-default">default</span><span class="token operator">:</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-240-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-241-open">}</span>

<span class="token comment">// Program will halt on any failed test case</span>
<span class="token keyword keyword-int">int</span> <span class="token function">testVowel</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-218-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-218-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-242-close">{</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">NDEBUG</span></span>
    <span class="token comment">// If NDEBUG is defined, asserts are compiled out.</span>
    <span class="token comment">// Since this function requires asserts to not be compiled out, we'll terminate the program if this function is called when NDEBUG is defined.</span>
    std<span class="token double-colon punctuation">::</span>cerr <span class="token operator">&lt;&lt;</span> <span class="token string">"Tests run with NDEBUG defined (asserts compiled out)"</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">abort</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-219-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-219-open">)</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>

    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-221-close">(</span><span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-220-close">(</span><span class="token string">'a'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-220-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-221-open">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-223-close">(</span><span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-222-close">(</span><span class="token string">'e'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-222-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-223-open">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-225-close">(</span><span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-224-close">(</span><span class="token string">'i'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-224-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-225-open">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-227-close">(</span><span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-226-close">(</span><span class="token string">'o'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-226-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-227-open">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-229-close">(</span><span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-228-close">(</span><span class="token string">'u'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-228-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-229-open">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-231-close">(</span><span class="token operator">!</span><span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-230-close">(</span><span class="token string">'b'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-230-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-231-open">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-233-close">(</span><span class="token operator">!</span><span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-232-close">(</span><span class="token string">'q'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-232-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-233-open">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-235-close">(</span><span class="token operator">!</span><span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-234-close">(</span><span class="token string">'y'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-234-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-235-open">)</span><span class="token punctuation">;</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-237-close">(</span><span class="token operator">!</span><span class="token function">isLowerVowel</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-236-close">(</span><span class="token string">'z'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-236-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-237-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-242-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-238-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-238-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-243-close">{</span>
    <span class="token function">testVowel</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-239-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-239-open">)</span><span class="token punctuation">;</span>

    <span class="token comment">// If we reached here, all tests must have passed</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"All tests succeeded\n"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-243-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
  <p>
    We cover <code>assert</code> in lesson
    <a href="https://www.learncpp.com/cpp-tutorial/assert-and-static_assert/"
      >9.6 -- Assert and static_assert</a
    >.
  </p>
</div>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  Unit testing frameworks
</p>
<p>
  Because writing functions to exercise other functions is so common and useful,
  there are entire frameworks (called <strong>unit testing frameworks</strong>)
  that are designed to help simplify the process of writing, maintaining, and
  executing unit tests. Since these involve third party software, we won’t cover
  them here, but you should be aware they exist.
</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  Integration testing
</p>
<p>
  Once each of your units has been tested in isolation, they can be integrated
  into your program and retested to make sure they were integrated properly.
  This is called an <strong>integration test</strong>. Integration testing tends
  to be more complicated -- for now, running your program a few times and spot
  checking the behavior of the integrated unit will suffice.
</p>
<p
  class="cpp-section cpp-topline"
  style="clear: both"
  data-ezoic-video-excluded="1"
>
  Quiz time
</p>
<div class="quiz" style="clear: both">
  <p class="quiz-header">Question #1</p>
  <p>When should you start testing your code?</p>
  <p>
    <a
      class="solution_link_show"
      href="javascript:void(0)"
      onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_0'),this,'Show Solution','Hide Solution')"
      >Show Solution</a
    >
  </p>
  <div class="wpsolution" id="cpp_solution_id_0" style="display: none">
    As soon as you’ve written a non-trivial function.
  </div>
  <p></p>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/code-coverage/"
      ><div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">9.2</span>Code coverage
          </div>
        </div>
      </div></a
    ><a class="nav-link" href="/"
      ><div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    ><a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/chapter-8-summary-and-quiz/"
      ><div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">8.x</span>Chapter 8 summary
            and quiz
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
