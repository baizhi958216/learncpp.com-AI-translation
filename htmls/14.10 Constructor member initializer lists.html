<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  This lesson continues our introduction of constructors from lesson
  <a href="https://www.learncpp.com/cpp-tutorial/introduction-to-constructors/"
    >14.9 -- Introduction to constructors</a
  >.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Member initialization via a member initialization list
</p>
<p>
  To have a constructor initialize members, we do so using a
  <strong>member initializer list</strong> (often called a “member
  initialization list”). Do not confuse this with the similarly named
  “initializer list” that is used to initialize aggregates with a list of
  values.
</p>
<p>
  Member initialization lists are something that is best learned by example. In
  the following example, our <code>Foo(int, int)</code> constructor has been
  updated to use a member initializer list to initialize <code>m_x</code>, and
  <code>m_y</code>:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Foo</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-10-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-4-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-4-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-5-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-5-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-0-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-0-open">)</span>
        <span class="token operator">:</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-6-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-6-open">}</span><span class="token punctuation">,</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-7-close">{</span> y <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-7-open">}</span> <span class="token comment">// here's our member initialization list</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-8-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Foo("</span> <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> y <span class="token operator">&lt;&lt;</span> <span class="token string">") constructed\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-8-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-1-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-1-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-9-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Foo("</span> <span class="token operator">&lt;&lt;</span> m_x <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> m_y <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-9-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-10-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-2-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-2-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-12-close">{</span>
    Foo foo<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-11-close">{</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-11-open">}</span><span class="token punctuation">;</span>
    foo<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-3-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-3-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-12-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  The member initializer list is defined after the constructor parameters. It
  begins with a colon (:), and then lists each member to initialize along with
  the initialization value for that variable, separated by a comma. You must use
  a direct form of initialization here (preferably using braces, but parentheses
  works as well) -- using copy initialization (with an equals) does not work
  here. Also note that the member initializer list does not end in a semicolon.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=53297008&amp;adf=1974889101&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751962949&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fconstructor-member-initializer-lists%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962949341&amp;bpp=1&amp;bdt=1152&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=7019335462461&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1232&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353387%2C95362656%2C95365225%2C95365235%2C95365114%2C95359265%2C95365120%2C95365798&amp;oid=2&amp;pvsid=8196981270325527&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=23"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CJb4zcnqrI4DFaVKwgUdGSU5tA"
      ></iframe></div
  ></ins>
</div>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p>This program produces the following output:</p>
<pre>
Foo(6, 7) constructed
Foo(6, 7)
</pre>
<p>
  When <code>foo</code> is instantiated, the members in the initialization list
  are initialized with the specified initialization values. In this case, the
  member initializer list initializes <code>m_x</code> to the value of
  <code>x</code> (which is <code>6</code>), and <code>m_y</code> to the value of
  <code>y</code> (which is <code>7</code>). Then the body of the constructor
  runs.
</p>
<p>
  When the <code>print()</code> member function is called, you can see that
  <code>m_x</code> still has value <code>6</code> and <code>m_y</code> still has
  value <code>7</code>.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Member initializer list formatting
</p>
<p>
  C++ provides a lot of freedom to format your member initializer lists as you
  prefer, as it doesn’t care where you put your colon, commas, or whitespace.
</p>
<p>
  The following styles are all valid (and you’re likely to see all three in
  practice):
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-13-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-1" id="pair-13-open">)</span> <span class="token operator">:</span> m_x <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-14-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-14-open">}</span><span class="token punctuation">,</span> m_y <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-15-close">{</span> y <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-15-open">}</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-16-close">{</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-16-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-17-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-1" id="pair-17-open">)</span> <span class="token operator">:</span>
    m_x <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-18-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-18-open">}</span><span class="token punctuation">,</span>
    m_y <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-19-close">{</span> y <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-19-open">}</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-20-close">{</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-20-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-21-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-1" id="pair-21-open">)</span>
    <span class="token operator">:</span> m_x <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-22-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-22-open">}</span>
    <span class="token punctuation">,</span> m_y <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-23-close">{</span> y <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-23-open">}</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-24-close">{</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-24-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Our recommendation is to use the third style above:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=53297008&amp;adf=3288036540&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751962949&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fconstructor-member-initializer-lists%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962949341&amp;bpp=1&amp;bdt=1152&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=7019335462461&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2228&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353387%2C95362656%2C95365225%2C95365235%2C95365114%2C95359265%2C95365120%2C95365798&amp;oid=2&amp;pvsid=8196981270325527&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=24"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CNyIzsnqrI4DFXBIwgUdOH4Fog"
      ></iframe></div
  ></ins>
</div>
<ul>
  <li>
    Put the colon on the line after the constructor name, as this cleanly
    separates the member initializer list from the function prototype.
  </li>
  <li>
    Indent your member initializer list, to make it easier to see the function
    names.
  </li>
</ul>
<p>
  If the member initialization list is short/trivial, all initializers can go on
  one line:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-25-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-1" id="pair-25-open">)</span>
    <span class="token operator">:</span> m_x <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-26-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-26-open">}</span><span class="token punctuation">,</span> m_y <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-27-close">{</span> y <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-27-open">}</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-28-close">{</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-28-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Otherwise (or if you prefer), each member and initializer pair can be placed
  on a separate line (starting with a comma to maintain alignment):
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-29-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-1" id="pair-29-open">)</span>
    <span class="token operator">:</span> m_x <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-30-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-30-open">}</span>
    <span class="token punctuation">,</span> m_y <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-31-close">{</span> y <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-31-open">}</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-32-close">{</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-32-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Member initialization order
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=53297008&amp;adf=2984176277&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751962949&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fconstructor-member-initializer-lists%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962949341&amp;bpp=1&amp;bdt=1152&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=7019335462461&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2916&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353387%2C95362656%2C95365225%2C95365235%2C95365114%2C95359265%2C95365120%2C95365798&amp;oid=2&amp;pvsid=8196981270325527&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=25"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CI69zsnqrI4DFUdEwgUdvw0Lsw"
      ></iframe></div
  ></ins>
</div>
<p>
  Because the C++ standard says so, the members in a member initializer list are
  always initialized in the order in which they are defined inside the class
  (not in the order they are defined in the member initializer list).
</p>
<p>
  In the above example, because <code>m_x</code> is defined before
  <code>m_y</code> in the class definition, <code>m_x</code> will be initialized
  first (even if it is not listed first in the member initializer list).
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p>
  Because we intuitively expect variables to be initialized left to right, this
  can cause subtle errors to occur. Consider the following example:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::max</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Foo</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-44-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-38-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-38-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-39-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-39-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-33-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-33-open">)</span>
        <span class="token operator">:</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-40-close">{</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-34-close">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation brace-round brace-close brace-level-3" id="pair-34-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-40-open">}</span><span class="token punctuation">,</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-41-close">{</span> m_y <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-41-open">}</span> <span class="token comment">// issue on this line</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-42-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-42-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-35-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-35-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-43-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Foo("</span> <span class="token operator">&lt;&lt;</span> m_x <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> m_y <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-43-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-44-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-36-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-36-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-46-close">{</span>
    Foo foo <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-45-close">{</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-45-open">}</span><span class="token punctuation">;</span>
    foo<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-37-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-37-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-46-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In the above example, our intent is to calculate the larger of the
  initialization values passed in (via <code>std::max(x, y)</code> and then use
  this value to initialize both <code>m_x</code> and <code>m_y</code>. However,
  on the author’s machine, the following result is printed:
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=53297008&amp;adf=992205985&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751962949&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fconstructor-member-initializer-lists%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962949341&amp;bpp=1&amp;bdt=1152&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=7019335462461&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3873&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353387%2C95362656%2C95365225%2C95365235%2C95365114%2C95359265%2C95365120%2C95365798&amp;oid=2&amp;pvsid=8196981270325527&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=26"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CO2jzsnqrI4DFRtFwgUdKzYZ7w"
      ></iframe></div
  ></ins>
</div>
<pre>
Foo(-858993460, 7)
</pre>
<p>
  What happened? Even though <code>m_y</code> is listed first in the member
  initialization list, because <code>m_x</code> is defined first in the class,
  <code>m_x</code> gets initialized first. And <code>m_x</code> gets initialized
  to the value of <code>m_y</code>, which hasn’t been initialized yet. Finally,
  <code>m_y</code> gets initialized to the greater of the initialization values.
</p>
<p>
  To help prevent such errors, members in the member initializer list should be
  listed in the order in which they are defined in the class. Some compilers
  will issue a warning if members are initialized out of order.
</p>
<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>
    Member variables in a member initializer list should be listed in order that
    they are defined in the class.
  </p>
</div>
<p>
  It’s also a good idea to avoid initializing members using the value of other
  members (if possible). That way, even if you do make a mistake in the
  initialization order, it shouldn’t matter because there are no dependencies
  between initialization values.
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  Member initializer list vs default member initializers
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=53297008&amp;adf=2737001790&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751962949&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fconstructor-member-initializer-lists%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962949344&amp;bpp=1&amp;bdt=1155&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1080x1024&amp;nras=7&amp;correlator=7019335462461&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3408&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353387%2C95362656%2C95365225%2C95365235%2C95365114%2C95359265%2C95365120%2C95365798&amp;oid=2&amp;pvsid=8196981270325527&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=5&amp;fsb=1&amp;dtd=357"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CMPo4snqrI4DFRZKwgUdEJInDA"
      ></iframe></div
  ></ins>
</div>
<p>Members can be initialized in a few different ways:</p>
<ul>
  <li>
    If a member is listed in the member initializer list, that initialization
    value is used
  </li>
  <li>
    Otherwise, if the member has a default member initializer, that
    initialization value is used
  </li>
  <li>Otherwise, the member is default-initialized.</li>
</ul>
<p>
  This means that if a member has both a default member initializer and is
  listed in the member initializer list for the constructor, the member
  initializer list value takes precedence.
</p>
<p>Here’s an example showing all three initialization methods:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Foo</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-56-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-51-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-51-open">}</span><span class="token punctuation">;</span>    <span class="token comment">// default member initializer (will be ignored)</span>
    <span class="token keyword keyword-int">int</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-52-close">{</span> <span class="token number">2</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-52-open">}</span><span class="token punctuation">;</span> <span class="token comment">// default member initializer (will be used)</span>
    <span class="token keyword keyword-int">int</span> m_z<span class="token punctuation">;</span>      <span class="token comment">// no initializer</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-47-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation brace-round brace-close brace-level-2" id="pair-47-open">)</span>
        <span class="token operator">:</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-53-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-53-open">}</span> <span class="token comment">// member initializer list</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-54-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Foo constructed\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-54-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-48-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-48-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-55-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Foo("</span> <span class="token operator">&lt;&lt;</span> m_x <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> m_y <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> m_z <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-55-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-56-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-49-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-49-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-58-close">{</span>
    Foo foo <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-57-close">{</span> <span class="token number">6</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-57-open">}</span><span class="token punctuation">;</span>
    foo<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-50-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-50-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-58-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>On the author’s machine, this output:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<pre>
Foo constructed
Foo(6, 2, -858993460)
</pre>
<p>
  Here’s what’s happening. When <code>foo</code> is constructed, only
  <code>m_x</code> appears in the member initializer list, so
  <code>m_x</code> is first initialized to <code>6</code>. <code>m_y</code> is
  not in the member initialization list, but it does have a default member
  initializer, so it is initialized to <code>2</code>. <code>m_z</code> is
  neither in the member initialization list, nor does it have a default member
  initializer, so it is default-initialized (which for fundamental types, means
  it is left uninitialized). Thus, when we print the value of <code>m_z</code>,
  we get undefined behavior.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Constructor function bodies
</p>
<p>
  The bodies of constructors functions are most often left empty. This is
  because we primarily use constructor for initialization, which is done via the
  member initializer list. If that is all we need to do, then we don’t need any
  statements in the body of the constructor.
</p>
<p>
  However, because the statements in the body of the constructor execute after
  the member initializer list has executed, we can add statements to do any
  other setup tasks required. In the above examples, we print something to the
  console to show that the constructor executed, but we could do other things
  like open a file or database, allocate memory, etc…
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_11_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  New programmers sometimes use the body of the constructor to assign values to
  members:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Foo</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-67-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-63-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-63-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-64-close">{</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-64-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-59-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-59-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-65-close">{</span>
        m_x <span class="token operator">=</span> x<span class="token punctuation">;</span> <span class="token comment">// incorrect: this is an assignment, not an initialization</span>
        m_y <span class="token operator">=</span> y<span class="token punctuation">;</span> <span class="token comment">// incorrect: this is an assignment, not an initialization</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-65-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-60-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-60-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-66-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Foo("</span> <span class="token operator">&lt;&lt;</span> m_x <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> m_y <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-66-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-67-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-61-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-61-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-69-close">{</span>
    Foo foo <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-68-close">{</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-68-open">}</span><span class="token punctuation">;</span>
    foo<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-62-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-62-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-69-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Although in this simple case this will produce the expected result, in case
  where members are required to be initialized (such as for data members that
  are const or references) assignment will not work.
</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>

<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Key insight</p>
  <div
    class="google-auto-placed ap_container"
    style="width: 100%; height: auto; clear: both; text-align: center"
  >
    <ins
      data-ad-format="auto"
      class="adsbygoogle adsbygoogle-noablate"
      data-ad-client="ca-pub-0588844875925051"
      data-adsbygoogle-status="done"
      style="
        display: block;
        margin: auto;
        background-color: transparent;
        height: 280px;
      "
      ><div
        id="aswift_12_host"
        style="
          border: none;
          height: 280px;
          width: 995px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
        "
      ></div
    ></ins>
  </div>
  <p>
    Once the member initializer list has finished executing, the object is
    considered initialized. Once the function body has finished executing, the
    object is considered constructed.
  </p>
</div>
<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>
    Prefer using the member initializer list to initialize your members over
    assigning values in the body of the constructor.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Detecting and handling invalid arguments to constructors
</p>
<p>Consider the following Fraction class:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Fraction</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-76-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_numerator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-71-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-71-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_denominator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-72-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-72-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-70-close">(</span><span class="token keyword keyword-int">int</span> numerator<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator<span class="token punctuation brace-round brace-close brace-level-2" id="pair-70-open">)</span><span class="token operator">:</span>
        m_numerator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-73-close">{</span> numerator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-73-open">}</span><span class="token punctuation">,</span> m_denominator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-74-close">{</span> denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-74-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-75-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-75-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-76-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Because a Fraction is a numerator divided by a denominator, the denominator of
  a fraction cannot be zero (otherwise we get a divide by zero, which is
  mathematically undefined). In other words, this class has an invariant that
  <code>m_denominator</code> cannot be <code>0</code>.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">Related content</p>
  <p>
    We discussed class invariants in lesson
    <a href="https://www.learncpp.com/cpp-tutorial/introduction-to-classes/"
      >14.2 -- Introduction to classes</a
    >.
  </p>
</div>
<p>
  So what do we do when the user tries to create a Fraction with a zero
  denominator (e.g. <code>Fraction f { 1, 0 };</code>)?
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_13_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  Inside a member initializer list, our tools for detecting and handling errors
  are quite limited. We can use the conditional operator to detect an error, but
  then what?
</p>
<div class="code-block code-block-8" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Fraction</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-83-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_numerator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-78-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-78-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_denominator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-79-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-79-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-77-close">(</span><span class="token keyword keyword-int">int</span> numerator<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator<span class="token punctuation brace-round brace-close brace-level-2" id="pair-77-open">)</span><span class="token operator">:</span>
        m_numerator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-80-close">{</span> numerator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-80-open">}</span><span class="token punctuation">,</span> m_denominator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-81-close">{</span> denominator <span class="token operator">!=</span> <span class="token number">0.0</span> <span class="token operator">?</span> denominator <span class="token operator">:</span> <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-81-open">}</span> <span class="token comment">// what do we do here?</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-82-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-82-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-83-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  We could change the denominator to a valid value, but then the user is going
  to get a <code>Fraction</code> that doesn’t contain the values they asked for,
  and we don’t have any way to notify them that we did something unexpected.
  Thus, we typically won’t try to do any kind of validation in the member
  initializer list -- we’ll just initialize the members with the values passed
  in, and then try to deal with the situation.
</p>
<p>
  Inside the body of the constructor, we can use statements, so we have more
  options for detecting and handling errors. This is a good place to
  <code>assert</code> or <code>static_assert</code> that the arguments passed in
  are semantically valid, but that doesn’t actually handle runtime errors in a
  production build.
</p>
<p>
  When a constructor cannot construct a semantically valid object, we say it has
  failed.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  When constructors fail (a prelude)
</p>
<p>
  In lesson
  <a href="https://www.learncpp.com/cpp-tutorial/detecting-and-handling-errors/"
    >9.4 -- Detecting and handling errors</a
  >, we introduced the topic of error handling, and discussed some options for
  handling cases where a function cannot proceed due to an error occurring.
  Since constructors are functions, they are susceptible to the same issues.
</p>
<p>In that lesson, we suggested 4 strategies for dealing with such errors:</p>
<ul>
  <li>Resolve the error within the function.</li>
  <li>Pass the error back to the caller to deal with.</li>
  <li>Halt the program.</li>
  <li>Throw an exception.</li>
</ul>
<p>
  In most cases, we don’t have enough information to resolve such issues
  entirely within the constructor. So fixing the issue is generally not an
  option.
</p>
<p>
  With non-member and non-special member functions, we can pass an error back to
  the caller to deal with. But constructors have no return value, so we don’t
  have a good way to do that. In some cases, we can add an
  <code>isValid()</code> member function (or an overloaded conversion to
  <code>bool</code>) that returns whether the object is currently in a valid
  state or not. For example, an <code>isValid()</code> function for
  <code>Fraction</code> would return <code>true</code> when
  <code>m_denominator != 0.0</code>. But this means the caller has to remember
  to actually call the function any time a new Fraction is created. And having
  semantically invalid objects that are accessible is likely to lead to bugs. So
  while this is better than nothing, it’s not that great of an option.
</p>
<p>
  In certain types of programs, we can just halt the entire program and let the
  user rerun the program with the proper inputs… but in most cases, that’s just
  not acceptable. So probably not.
</p>
<p>
  And that leaves throwing an exception. Exceptions abort the construction
  process entirely, which means the user never gets access to a semantically
  invalid object. So in most cases, throwing an exception is the best thing to
  do in these situations.
</p>
<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Key insight</p>
  <p>
    Throwing an exception is usually the best thing to do when a constructor
    fails (and cannot recover). We discuss this further in lessons
    <a
      href="https://www.learncpp.com/cpp-tutorial/exceptions-classes-and-inheritance/"
      >27.5 -- Exceptions, classes, and inheritance</a
    >
    and
    <a href="https://www.learncpp.com/cpp-tutorial/function-try-blocks/"
      >27.7 -- Function try blocks</a
    >.
  </p>
</div>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">Author’s note</p>
  <p>
    For now, we’ll generally assume that construction of our class object
    succeeds in creating a semantically valid object.
  </p>
</div>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">For advanced readers</p>
  <p>
    If exceptions aren’t possible or desired (either because you’ve decided not
    to use them or because you haven’t learned about them yet), there is one
    other reasonable option. Instead of letting the user create the class
    directly, provide a function that either returns an instance of the class or
    something that indicates failure.
  </p>
  <p>
    In the following example, our <code>createFraction()</code> function returns
    a <code>std::optional&lt;Fraction&gt;</code> that optionally contains a
    valid <code>Fraction</code>. If it does, then we can use that Fraction. If
    not, then the caller can detect that and deal with it. We cover
    <code>std::optional</code> in lesson
    <a href="https://www.learncpp.com/cpp-tutorial/stdoptional/"
      >12.15 -- std::optional</a
    >
    and friend functions in lesson
    <a href="https://www.learncpp.com/cpp-tutorial/friend-non-member-functions/"
      >15.8 -- Friend non-member functions</a
    >.
  </p>
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;optional&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Fraction</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-98-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_numerator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-93-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-93-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_denominator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-94-close">{</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-94-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// private constructor can't be called by public</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-84-close">(</span><span class="token keyword keyword-int">int</span> numerator<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator<span class="token punctuation brace-round brace-close brace-level-2" id="pair-84-open">)</span><span class="token operator">:</span>
        m_numerator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-95-close">{</span> numerator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-95-open">}</span><span class="token punctuation">,</span> m_denominator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-96-close">{</span> denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-96-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-97-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-97-open">}</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token comment">// Allow this function to access private members</span>
    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>optional<span class="token operator">&lt;</span>Fraction<span class="token operator">&gt;</span> <span class="token function">createFraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-85-close">(</span><span class="token keyword keyword-int">int</span> numerator<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator<span class="token punctuation brace-round brace-close brace-level-2" id="pair-85-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-98-open">}</span><span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>optional<span class="token operator">&lt;</span>Fraction<span class="token operator">&gt;</span> <span class="token function">createFraction</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-86-close">(</span><span class="token keyword keyword-int">int</span> numerator<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator<span class="token punctuation brace-round brace-close brace-level-1" id="pair-86-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-101-close">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-87-close">(</span>denominator <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-87-open">)</span>
        <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-99-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-99-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> Fraction<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-100-close">{</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-100-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-101-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-88-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-88-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-106-close">{</span>
    <span class="token keyword keyword-auto">auto</span> f1 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-102-close">{</span> <span class="token function">createFraction</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-89-close">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-89-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-102-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-90-close">(</span>f1<span class="token punctuation brace-round brace-close brace-level-2" id="pair-90-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-103-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Fraction created\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-103-open">}</span>

    <span class="token keyword keyword-auto">auto</span> f2 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-104-close">{</span> <span class="token function">createFraction</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-91-close">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-91-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-104-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-92-close">(</span><span class="token operator">!</span>f2<span class="token punctuation brace-round brace-close brace-level-2" id="pair-92-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-105-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Bad fraction\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-105-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-106-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-section cpp-topline" style="clear: both">Quiz time</p>
<p class="cpp-quiz-question" style="clear: both">Question #1</p>
<p>
  Write a class named Ball. Ball should have two private member variables, one
  to hold a color, and one to hold a radius. Also write a function to print out
  the color and radius of the ball.
</p>
<p>The following sample program should compile:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-107-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-107-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-112-close">{</span>
	Ball blue <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-110-close">{</span> <span class="token string">"blue"</span><span class="token punctuation">,</span> <span class="token number">10.0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-110-open">}</span><span class="token punctuation">;</span>
	<span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-108-close">(</span>blue<span class="token punctuation brace-round brace-close brace-level-2" id="pair-108-open">)</span><span class="token punctuation">;</span>

	Ball red <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-111-close">{</span> <span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token number">12.0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-111-open">}</span><span class="token punctuation">;</span>
	<span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-109-close">(</span>red<span class="token punctuation brace-round brace-close brace-level-2" id="pair-109-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-112-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>and produce the result:</p>
<pre>
Ball(blue, 10)
Ball(red, 12)
</pre>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_0'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_0" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Ball</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-129-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span>string m_color <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-122-close">{</span> <span class="token string">"none"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-122-open">}</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-double">double</span> m_radius <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-123-close">{</span> <span class="token number">0.0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-123-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Ball</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-113-close">(</span>std<span class="token double-colon punctuation">::</span>string_view color<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> radius<span class="token punctuation brace-round brace-close brace-level-2" id="pair-113-open">)</span>
		<span class="token operator">:</span> m_color <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-124-close">{</span> color <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-124-open">}</span>
		<span class="token punctuation">,</span> m_radius <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-125-close">{</span> radius <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-125-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-126-close">{</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-126-open">}</span>

	<span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> <span class="token function">getColor</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-114-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-114-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-127-close">{</span> <span class="token keyword keyword-return">return</span> m_color<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-127-open">}</span>
	<span class="token keyword keyword-double">double</span> <span class="token function">getRadius</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-115-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-115-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-128-close">{</span> <span class="token keyword keyword-return">return</span> m_radius<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-128-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-129-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-116-close">(</span><span class="token keyword keyword-const">const</span> Ball<span class="token operator">&amp;</span> ball<span class="token punctuation brace-round brace-close brace-level-1" id="pair-116-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-130-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Ball("</span> <span class="token operator">&lt;&lt;</span> ball<span class="token punctuation">.</span><span class="token function">getColor</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-117-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-117-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> ball<span class="token punctuation">.</span><span class="token function">getRadius</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-118-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-118-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-130-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-119-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-119-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-133-close">{</span>
	Ball blue <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-131-close">{</span> <span class="token string">"blue"</span><span class="token punctuation">,</span> <span class="token number">10.0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-131-open">}</span><span class="token punctuation">;</span>
	<span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-120-close">(</span>blue<span class="token punctuation brace-round brace-close brace-level-2" id="pair-120-open">)</span><span class="token punctuation">;</span>

	Ball red <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-132-close">{</span> <span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token number">12.0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-132-open">}</span><span class="token punctuation">;</span>
	<span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-121-close">(</span>red<span class="token punctuation brace-round brace-close brace-level-2" id="pair-121-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-133-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">Question #2</p>
<p>
  Why did we make <code>print()</code> a non-member function instead of a member
  function?
</p>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_1'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_1" style="display: none">
  <p>
    The rationale for this is given in lesson
    <a
      href="https://www.learncpp.com/cpp-tutorial/the-benefits-of-data-hiding-encapsulation/#prefer-non-member-functions"
      >14.8 -- The benefits of data hiding (encapsulation)</a
    >.
  </p>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">Question #3</p>
<p>
  Why did we make <code>m_color</code> a <code>std::string</code> instead of a
  <code>std::string_view</code>?
</p>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_2'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_2" style="display: none">
  <p>
    In this particular example, it doesn’t matter (because our color arguments
    are C-style string literals, which doesn’t go out of scope).
  </p>
  <p>
    But conceptually, we want our <code>Ball</code> class to be an owner of the
    color passed in. If <code>m_color</code> were a
    <code>std::string_view</code>, passing in a temporary object for the color
    argument (e.g. a <code>std::string</code> returned from a function) would
    leave <code>m_color</code> dangling when the temporary color argument was
    destroyed.
  </p>
  <p>
    We discuss this case in more detail (and show an example) in lesson
    <a href="https://www.learncpp.com/cpp-tutorial/struct-miscellany/"
      >13.11 -- Struct miscellany</a
    >.
  </p>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/default-constructors-and-default-arguments/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">14.11</span>Default
            constructors and default arguments
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/introduction-to-constructors/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">14.9</span>Introduction to
            constructors
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
