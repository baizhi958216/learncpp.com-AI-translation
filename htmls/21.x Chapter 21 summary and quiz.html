<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  In this chapter, we explored topics related to operator overloading, as well
  as overloaded typecasts, and topics related to the copy constructor.
</p>
<p class="cpp-section cpp-topline" style="clear: both">Summary</p>
<p>
  Operator overloading is a variant of function overloading that lets you
  overload operators for your classes. When operators are overloaded, the intent
  of the operators should be kept as close to the original intent of the
  operators as possible. If the meaning of an operator when applied to a custom
  class is not clear and intuitive, use a named function instead.
</p>
<p>
  Operators can be overloaded as a normal function, a friend function, or a
  member function. The following rules of thumb can help you determine which
  form is best for a given situation:
</p>
<ul>
  <li>
    If you’re overloading assignment (=), subscript ([]), function call (()), or
    member selection (-&gt;), do so as a member function.
  </li>
  <li>If you’re overloading a unary operator, do so as a member function.</li>
  <li>
    If you’re overloading a binary operator that modifies its left operand (e.g.
    operator+=), do so as a member function if you can.
  </li>
  <li>
    If you’re overloading a binary operator that does not modify its left
    operand (e.g. operator+), do so as a normal function or friend function.
  </li>
</ul>
<p>
  Typecasts can be overloaded to provide conversion functions, which can be used
  to explicitly or implicitly convert your class into another type.
</p>
<p>
  A copy constructor is a special type of constructor used to initialize an
  object from another object of the same type. Copy constructors are used for
  direct/uniform initialization from an object of the same type, copy
  initialization (Fraction f = Fraction(5,3)), and when passing or returning a
  parameter by value.
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p>
  If you do not supply a copy constructor, the compiler will create one for you.
  Compiler-provided copy constructors will use memberwise initialization,
  meaning each member of the copy is initialized from the original member. The
  copy constructor may be elided for optimization purposes, even if it has
  side-effects, so do not rely on your copy constructor actually executing.
</p>
<p>
  Constructors are considered converting constructors by default, meaning that
  the compiler will use them to implicitly convert objects of other types into
  objects of your class. You can avoid this by using the explicit keyword in
  front of your constructor. You can also delete functions within your class,
  including the copy constructor and overloaded assignment operator if desired.
  This will cause a compiler error if a deleted function would be called.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: visible;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0;
          position: absolute;
          top: 0;
          border: 0;
          width: 1027px;
          height: 280px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="280"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3813415542&amp;adf=2628353018&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750619441&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-21-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963367570&amp;bpp=1&amp;bdt=769&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=1062617669541&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1023&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365226%2C95365234%2C95359265%2C95365116%2C95365797&amp;oid=2&amp;pvsid=8102076845046152&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;fsb=1&amp;dtd=19"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CNa0hJHsrI4DFRlEwgUdtKgOrg"
      ></iframe></div
  ></ins>
</div>
<p>
  The assignment operator can be overloaded to allow assignment to your class.
  If you do not provide an overloaded assignment operator, the compiler will
  create one for you. Overloaded assignment operators should always include a
  self-assignment check (unless it’s handled naturally, or you’re using the copy
  and swap idiom).
</p>
<p>
  New programmers often mix up when the assignment operator vs copy constructor
  are used, but it’s fairly straightforward:
</p>
<ul>
  <li>
    If a new object has to be created before the copying can occur, the copy
    constructor is used (note: this includes passing or returning objects by
    value).
  </li>
  <li>
    If a new object does not have to be created before the copying can occur,
    the assignment operator is used.
  </li>
</ul>
<p>
  By default, the copy constructor and assignment operators provided by the
  compiler do a memberwise initialization or assignment, which is a shallow
  copy. If your class dynamically allocates memory, this will likely lead to
  problems, as multiple objects will end up pointing to the same allocated
  memory. In this case, you’ll need to explicitly define these in order to do a
  deep copy. Even better, avoid doing your own memory management if you can and
  use classes from the standard library.
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">Quiz time</p>
<p class="cpp-quiz-question" style="clear: both">Question #1</p>
<ol start="1">
  <li>
    Assuming <code>Point</code> is a class and <code>point</code> is an instance
    of that class, should you use a normal/friend or member function overload
    for the following operators?
  </li>
</ol>
<p>a) <code>point + point</code></p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3813415542&amp;adf=821845900&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750619441&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-21-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963367570&amp;bpp=1&amp;bdt=769&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=1062617669541&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1681&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365226%2C95365234%2C95359265%2C95365116%2C95365797&amp;oid=2&amp;pvsid=8102076845046152&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=1&amp;fsb=1&amp;dtd=20"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CK60hJHsrI4DFWZFwgUdkZEAYQ"
      ></iframe></div
  ></ins>
</div>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_0'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_0" style="display: none">
  binary <code>operator+</code> is best implemented as a normal/friend function.
</div>
<p>b) <code>-point</code></p>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_1'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_1" style="display: none">
  unary <code>operator-</code> is best implemented as a member function.
</div>
<p>c) <code>std::cout &lt;&lt; point</code></p>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_2'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_2" style="display: none">
  <code>operator&lt;&lt;</code> must be implemented as a normal/friend function.
</div>
<p>d) <code>point = 5;</code></p>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_3'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_3" style="display: none">
  <code>operator=</code> must be implemented as a member function.
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">Question #2</p>
<p>
  Write a class named Average that will keep track of the average of all
  integers passed to it. Use two members: The first one should be type
  <code>std::int32_t</code>, and used to keep track of the sum of all the
  numbers you’ve seen so far. The second should keep track of how many numbers
  you’ve seen so far. You can divide them to find your average.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3813415542&amp;adf=1287598377&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750619441&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-21-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963367570&amp;bpp=1&amp;bdt=769&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=1062617669541&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2322&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365226%2C95365234%2C95359265%2C95365116%2C95365797&amp;oid=2&amp;pvsid=8102076845046152&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=2&amp;fsb=1&amp;dtd=21"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CJ3IhJHsrI4DFeJDwgUdEKcBrg"
      ></iframe></div
  ></ins>
</div>
<p>a) Write all of the functions necessary for the following program to run:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-0-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-0-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-4-close">{</span>
	Average avg<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-2-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-2-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	avg <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// 4 / 1 = 4</span>

	avg <span class="token operator">+=</span> <span class="token number">8</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// (4 + 8) / 2 = 6</span>

	avg <span class="token operator">+=</span> <span class="token number">24</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// (4 + 8 + 24) / 3 = 12</span>

	avg <span class="token operator">+=</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// (4 + 8 + 24 - 10) / 4 = 6.5</span>

	<span class="token punctuation brace-round brace-open brace-level-2" id="pair-1-close">(</span>avg <span class="token operator">+=</span> <span class="token number">6</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-1-open">)</span> <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 2 calls chained together</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// (4 + 8 + 24 - 10 + 6 + 10) / 6 = 7</span>

	Average copy<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-3-close">{</span> avg <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-3-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> copy <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-4-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3813415542&amp;adf=1917856535&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750619441&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-21-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963367570&amp;bpp=1&amp;bdt=769&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=1062617669541&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3083&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365226%2C95365234%2C95359265%2C95365116%2C95365797&amp;oid=2&amp;pvsid=8102076845046152&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=3&amp;fsb=1&amp;dtd=22"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CMvQhJHsrI4DFY9FwgUdqtYZ-A"
      ></iframe></div
  ></ins>
</div>
<p>and produce the result:</p>
<pre>
0
4
6
12
6.5
7
7
</pre>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_4'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_4" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdint&gt;</span> <span class="token comment">// for fixed width integers</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Average</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-18-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int32_t">int32_t</span> m_total<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-12-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-12-open">}</span><span class="token punctuation">;</span> <span class="token comment">// the sum of all numbers we've seen so far</span>
	<span class="token keyword keyword-int">int</span> m_numbers<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-13-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-13-open">}</span><span class="token punctuation">;</span> <span class="token comment">// the count of numbers we've seen so far</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Average</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-5-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-5-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-14-close">{</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-14-open">}</span>

	<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-6-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Average<span class="token operator">&amp;</span> average<span class="token punctuation brace-round brace-close brace-level-2" id="pair-6-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-16-close">{</span>
        <span class="token comment">// Handle case where we haven't seen any numbers yet</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-7-close">(</span>average<span class="token punctuation">.</span>m_numbers <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-7-open">)</span>
		<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-15-close">{</span>
			out <span class="token operator">&lt;&lt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
		<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-15-open">}</span>

		<span class="token comment">// Our average is the sum of the numbers we've seen divided by the count of the numbers we've seen</span>
		<span class="token comment">// We need to remember to do a floating point division here, not an integer division</span>
		out <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-8-close">(</span>average<span class="token punctuation">.</span>m_total<span class="token punctuation brace-round brace-close brace-level-3" id="pair-8-open">)</span> <span class="token operator">/</span> average<span class="token punctuation">.</span>m_numbers<span class="token punctuation">;</span>

		<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-16-open">}</span>

	<span class="token comment">// Because operator+= modifies its left operand, we'll write it as a member</span>
	Average<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">+=</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-9-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int32_t">int32_t</span> num<span class="token punctuation brace-round brace-close brace-level-2" id="pair-9-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-17-close">{</span>
		<span class="token comment">// Increment our total by the new number</span>
		m_total <span class="token operator">+=</span> num<span class="token punctuation">;</span>
		<span class="token comment">// And increase the count by 1</span>
		<span class="token operator">++</span>m_numbers<span class="token punctuation">;</span>

		<span class="token comment">// return *this in case someone wants to chain +='s together</span>
		<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-17-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-18-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-10-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-10-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-21-close">{</span>
	Average avg<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-19-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-19-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	avg <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	avg <span class="token operator">+=</span> <span class="token number">8</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	avg <span class="token operator">+=</span> <span class="token number">24</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	avg <span class="token operator">+=</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	<span class="token punctuation brace-round brace-open brace-level-2" id="pair-11-close">(</span>avg <span class="token operator">+=</span> <span class="token number">6</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-11-open">)</span> <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 2 calls chained together</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> avg <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	Average copy<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-20-close">{</span> avg <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-20-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> copy <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-21-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p>
  b) Should you provide a user-defined copy constructor or assignment operator
  for this class?
</p>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_5'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_5" style="display: none">
  <p>
    No. Because using memberwise initialization/copy is fine here, using the
    compiler provided defaults is acceptable.
  </p>
</div>
<p>c) Why use <code>std::int32_t</code> instead of <code>int</code>?</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3813415542&amp;adf=2787001278&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750619441&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-21-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963367570&amp;bpp=1&amp;bdt=769&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=6&amp;correlator=1062617669541&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3727&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365226%2C95365234%2C95359265%2C95365116%2C95365797&amp;oid=2&amp;pvsid=8102076845046152&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=4&amp;fsb=1&amp;dtd=23"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CM7RhJHsrI4DFa1FwgUd14gpaQ"
      ></iframe></div
  ></ins>
</div>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_6'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_6" style="display: none">
  <p>
    <code>int</code> may be 16-bits on some platforms, which would mean our
    <code>Average</code> object could only have a maximum numerator value of
    32,767. Using <code>std::int32_t</code> guarantees a 32-bit integral value,
    which gives us much more range to work with.
  </p>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">Question #3</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p>
  Write your own integer array class named <code>IntArray</code> from scratch
  (do not use std::array or std::vector). Users should pass in the size of the
  array when it is created, and the array should be dynamically allocated. Use
  assert statements to guard against bad data. Create any constructors or
  overloaded operators needed to make the following program operate correctly:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

IntArray <span class="token function">fillArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-22-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-22-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-33-close">{</span>
	IntArray <span class="token function">a</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-23-close">(</span><span class="token number">5</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-23-open">)</span><span class="token punctuation">;</span>

	a<span class="token punctuation brace-square brace-open brace-level-2" id="pair-27-close">[</span><span class="token number">0</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-27-open">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
	a<span class="token punctuation brace-square brace-open brace-level-2" id="pair-28-close">[</span><span class="token number">1</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-28-open">]</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
	a<span class="token punctuation brace-square brace-open brace-level-2" id="pair-29-close">[</span><span class="token number">2</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-29-open">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	a<span class="token punctuation brace-square brace-open brace-level-2" id="pair-30-close">[</span><span class="token number">3</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-30-open">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	a<span class="token punctuation brace-square brace-open brace-level-2" id="pair-31-close">[</span><span class="token number">4</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-31-open">]</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-33-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-24-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-24-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-36-close">{</span>
	IntArray a<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-34-close">{</span> <span class="token function">fillArray</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-25-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-25-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-34-open">}</span><span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> ref<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-35-close">{</span> a <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-35-open">}</span><span class="token punctuation">;</span> <span class="token comment">// we're using this reference to avoid compiler self-assignment errors</span>
	a <span class="token operator">=</span> ref<span class="token punctuation">;</span>

	IntArray <span class="token function">b</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-26-close">(</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-26-open">)</span><span class="token punctuation">;</span>
	b <span class="token operator">=</span> a<span class="token punctuation">;</span>

	a<span class="token punctuation brace-square brace-open brace-level-2" id="pair-32-close">[</span><span class="token number">4</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-32-open">]</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-36-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_10"
        name="aswift_10"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3813415542&amp;adf=43884760&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750619441&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-21-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963367572&amp;bpp=1&amp;bdt=771&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=7&amp;correlator=1062617669541&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3613&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365226%2C95365234%2C95359265%2C95365116%2C95365797&amp;oid=2&amp;pvsid=8102076845046152&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=11&amp;uci=a!b&amp;btvi=5&amp;fsb=1&amp;dtd=294"
        data-google-container-id="a!b"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="COySlZHsrI4DFUpFwgUdG54FZA"
      ></iframe></div
  ></ins>
</div>
<p>This program should print:</p>
<pre>
5 8 2 3 6
5 8 2 3 6
</pre>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_7'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_7" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span> <span class="token comment">// for assert</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-93-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-int">int</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-76-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-76-open">}</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span><span class="token operator">*</span> m_array<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-77-close">{</span> <span class="token keyword keyword-nullptr">nullptr</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-77-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token keyword keyword-explicit">explicit</span> <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-37-close">(</span><span class="token keyword keyword-int">int</span> length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-37-open">)</span>
		<span class="token operator">:</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-78-close">{</span> length <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-78-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-80-close">{</span>
		<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-38-close">(</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"IntArray length should be a positive integer"</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-38-open">)</span><span class="token punctuation">;</span>

		m_array <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-58-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-39-close">(</span>m_length<span class="token punctuation brace-round brace-close brace-level-4" id="pair-39-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-58-open">]</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-79-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-79-open">}</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-80-open">}</span>

	<span class="token comment">// Copy constructor that does a deep copy</span>
	<span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-40-close">(</span><span class="token keyword keyword-const">const</span> IntArray<span class="token operator">&amp;</span> array<span class="token punctuation brace-round brace-close brace-level-2" id="pair-40-open">)</span>
		<span class="token operator">:</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-81-close">{</span> array<span class="token punctuation">.</span>m_length <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-81-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-84-close">{</span>
		<span class="token comment">// Allocate a new array</span>
		m_array <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-59-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-41-close">(</span>m_length<span class="token punctuation brace-round brace-close brace-level-4" id="pair-41-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-59-open">]</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-82-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-82-open">}</span><span class="token punctuation">;</span>

		<span class="token comment">// Copy elements from original array to new array</span>
		<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-42-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-83-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-83-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>m_length<span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-3" id="pair-42-open">)</span>
			m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-60-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-3" id="pair-60-open">]</span> <span class="token operator">=</span> array<span class="token punctuation">.</span>m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-61-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-3" id="pair-61-open">]</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-84-open">}</span>

	<span class="token operator">~</span><span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-43-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-43-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-85-close">{</span>
		<span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-62-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-62-open">]</span> m_array<span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-85-open">}</span>

	<span class="token comment">// If you're getting crazy values here you probably forgot to do a deep copy in your copy constructor</span>
	<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-44-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> IntArray<span class="token operator">&amp;</span> array<span class="token punctuation brace-round brace-close brace-level-2" id="pair-44-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-88-close">{</span>
		<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-45-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-86-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-86-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>m_length<span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-3" id="pair-45-open">)</span>
		<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-87-close">{</span>
			out <span class="token operator">&lt;&lt;</span> array<span class="token punctuation">.</span>m_array<span class="token punctuation brace-square brace-open brace-level-4" id="pair-63-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-4" id="pair-63-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
		<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-87-open">}</span>
		<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-88-open">}</span>

	<span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-64-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-64-open">]</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-46-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-46-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-89-close">{</span>
		<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-47-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-47-open">)</span><span class="token punctuation">;</span>
		<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-48-close">(</span>index <span class="token operator">&lt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-48-open">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-65-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-65-open">]</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-89-open">}</span>

	<span class="token comment">// Assignment operator that does a deep copy</span>
	IntArray<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-49-close">(</span><span class="token keyword keyword-const">const</span> IntArray<span class="token operator">&amp;</span> array<span class="token punctuation brace-round brace-close brace-level-2" id="pair-49-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-92-close">{</span>
		<span class="token comment">// self-assignment guard</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-50-close">(</span><span class="token keyword keyword-this">this</span> <span class="token operator">==</span> <span class="token operator">&amp;</span>array<span class="token punctuation brace-round brace-close brace-level-3" id="pair-50-open">)</span>
			<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>

		<span class="token comment">// If this array already exists, delete it so we don't leak memory</span>
		<span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-66-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-66-open">]</span> m_array<span class="token punctuation">;</span>

		m_length <span class="token operator">=</span> array<span class="token punctuation">.</span>m_length<span class="token punctuation">;</span>

		<span class="token comment">// Allocate a new array</span>
		m_array <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-67-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-51-close">(</span>m_length<span class="token punctuation brace-round brace-close brace-level-4" id="pair-51-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-67-open">]</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-90-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-90-open">}</span><span class="token punctuation">;</span>

		<span class="token comment">// Copy elements from original array to new array</span>
		<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-52-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-91-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-91-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>m_length<span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-3" id="pair-52-open">)</span>
			m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-68-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-3" id="pair-68-open">]</span> <span class="token operator">=</span> array<span class="token punctuation">.</span>m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-69-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-3" id="pair-69-open">]</span><span class="token punctuation">;</span>

		<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-92-open">}</span>

<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-93-open">}</span><span class="token punctuation">;</span>

IntArray <span class="token function">fillArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-53-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-53-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-94-close">{</span>
	IntArray <span class="token function">a</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-54-close">(</span><span class="token number">5</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-54-open">)</span><span class="token punctuation">;</span>
	a<span class="token punctuation brace-square brace-open brace-level-2" id="pair-70-close">[</span><span class="token number">0</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-70-open">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
	a<span class="token punctuation brace-square brace-open brace-level-2" id="pair-71-close">[</span><span class="token number">1</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-71-open">]</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
	a<span class="token punctuation brace-square brace-open brace-level-2" id="pair-72-close">[</span><span class="token number">2</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-72-open">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	a<span class="token punctuation brace-square brace-open brace-level-2" id="pair-73-close">[</span><span class="token number">3</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-73-open">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	a<span class="token punctuation brace-square brace-open brace-level-2" id="pair-74-close">[</span><span class="token number">4</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-74-open">]</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-94-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-55-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-55-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-97-close">{</span>
	IntArray a<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-95-close">{</span> <span class="token function">fillArray</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-56-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-56-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-95-open">}</span><span class="token punctuation">;</span>

	<span class="token comment">// If you're getting crazy values here you probably forgot to do a deep copy in your copy constructor</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> ref<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-96-close">{</span> a <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-96-open">}</span><span class="token punctuation">;</span> <span class="token comment">// we're using this reference to avoid compiler self-assignment errors</span>
	a <span class="token operator">=</span> ref<span class="token punctuation">;</span>

	IntArray <span class="token function">b</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-57-close">(</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-57-open">)</span><span class="token punctuation">;</span>
	b <span class="token operator">=</span> a<span class="token punctuation">;</span>

	a<span class="token punctuation brace-square brace-open brace-level-2" id="pair-75-close">[</span><span class="token number">4</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-75-open">]</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">// change value in a, b should not change</span>

	<span class="token comment">// If you're getting crazy values here you probably forgot to do self-assignment check</span>
	<span class="token comment">// If b ends in 7, you probably forgot to do a deep copy in your copy assignment</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-97-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">Question #4</p>
<p>Extra credit: This one is a little more tricky.</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<p>
  A floating point number is a number with a decimal where the number of digits
  after the decimal can be variable. A fixed point number is a number with a
  fractional component where the number of digits in the fractional portion is
  fixed.
</p>
<p>
  In this quiz, we’re going to write a class to implement a fixed point number
  with two fractional digits (e.g. 12.34, 3.00, or 1278.99). Assume that the
  range of the class should be -32768.99 to 32767.99, that the fractional
  component should hold any two digits, that we don’t want precision errors, and
  that we want to conserve space.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_11_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_11"
        name="aswift_11"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3813415542&amp;adf=2922246675&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750619441&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-21-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963367574&amp;bpp=1&amp;bdt=773&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=8&amp;correlator=1062617669541&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3951&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365226%2C95365234%2C95359265%2C95365116%2C95365797&amp;oid=2&amp;pvsid=8102076845046152&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=12&amp;uci=a!c&amp;btvi=6&amp;fsb=1&amp;dtd=448"
        data-google-container-id="a!c"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CMnvnpHsrI4DFZ5HwgUd3Ckhkw"
      ></iframe></div
  ></ins>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #1</p>
<p>
  What type of member variable(s) do you think we should use to implement our
  fixed point number with 2 digits after the decimal? (Make sure you read the
  answer before proceeding with the next questions)
</p>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_8'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_8" style="display: none">
  <p>
    There are many different ways to implement a fixed point number. Because a
    fixed point number is essentially a subcase of a floating point number
    (where the number of digits after the decimal is fixed instead of variable),
    using a floating point number might seem like an obvious choice. But
    floating point numbers have precision issues. With a fixed number of decimal
    digits, we can reasonably enumerate all the possible fractional values (in
    our case, .00 to .99), so using a data type that has precision issues isn’t
    the best choice.
  </p>
  <p>
    A better solution would be to use a 16-bit signed integer to hold the
    non-fractional part of the number, and an 8-bit signed integer to hold the
    fractional component.
  </p>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #2</p>
<p>
  Write a class named <code>FixedPoint2</code> that implements the recommended
  solution from the previous question. If either (or both) of the non-fractional
  and fractional part of the number are negative, the number should be treated
  as negative. Provide the overloaded operators and constructors required for
  the following program to run. For now, don’t worry about the fractional
  portion being out of bounds (&gt;99 or &lt;-99).
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-98-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-98-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-118-close">{</span>
	FixedPoint2 a<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-112-close">{</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">56</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-112-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-99-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-2" id="pair-99-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-101-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-100-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-100-open">)</span> <span class="token operator">==</span> <span class="token number">34.56</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-101-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 b<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-113-close">{</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-113-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-103-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-102-close">(</span>b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-102-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2.08</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-103-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 c<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-114-close">{</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-114-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-105-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-104-close">(</span>c<span class="token punctuation brace-round brace-close brace-level-3" id="pair-104-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2.08</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-105-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 d<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-115-close">{</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-115-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-107-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-106-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-3" id="pair-106-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2.08</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-107-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 e<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-116-close">{</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-116-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-109-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-108-close">(</span>e<span class="token punctuation brace-round brace-close brace-level-3" id="pair-108-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">0.05</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-109-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 f<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-117-close">{</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-117-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-111-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-110-close">(</span>f<span class="token punctuation brace-round brace-close brace-level-3" id="pair-110-open">)</span> <span class="token operator">==</span> <span class="token number">0.1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-111-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-118-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_12_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>This program should produce the result:</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<pre>
34.56
34.56
</pre>
<p>Hint: To output your number, static_cast it to a double.</p>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_9'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_9" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdint&gt;</span> <span class="token comment">// for fixed width integers</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">FixedPoint2</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-149-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int16_t">int16_t</span> m_base<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-142-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-142-open">}</span><span class="token punctuation">;</span> <span class="token comment">// here's our non-fractional part</span>
	std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int8_t">int8_t</span> m_decimal<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-143-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-143-open">}</span><span class="token punctuation">;</span> <span class="token comment">// here's our factional part</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">FixedPoint2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-119-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int16_t">int16_t</span> base <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int8_t">int8_t</span> decimal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-119-open">)</span>
		<span class="token operator">:</span> m_base<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-144-close">{</span> base <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-144-open">}</span><span class="token punctuation">,</span> m_decimal<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-145-close">{</span> decimal <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-145-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-147-close">{</span>
		<span class="token comment">// If either (or both) of the non-fractional and fractional part of the number are negative, the number should be treated as negative</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-120-close">(</span>m_base <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> m_decimal <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-120-open">)</span>
		<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-146-close">{</span>
			<span class="token comment">// Make sure base is negative</span>
			<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-4" id="pair-121-close">(</span>m_base <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-121-open">)</span>
				m_base <span class="token operator">=</span> <span class="token operator">-</span>m_base<span class="token punctuation">;</span>
			<span class="token comment">// Make sure decimal is negative</span>
			<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-4" id="pair-122-close">(</span>m_decimal <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-122-open">)</span>
				m_decimal <span class="token operator">=</span> <span class="token operator">-</span>m_decimal<span class="token punctuation">;</span>
		<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-146-open">}</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-147-open">}</span>

	<span class="token keyword keyword-explicit">explicit</span> <span class="token keyword keyword-operator">operator</span> <span class="token keyword keyword-double">double</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-123-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-123-open">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-148-close">{</span>
		<span class="token keyword keyword-return">return</span> m_base <span class="token operator">+</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-125-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-124-close">(</span>m_decimal<span class="token punctuation brace-round brace-close brace-level-4" id="pair-124-open">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-125-open">)</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-148-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-149-open">}</span><span class="token punctuation">;</span>

<span class="token comment">// This doesn't require access to the internals of the class, so it can be defined outside the class</span>
std<span class="token operator">:</span><span class="token base-clause"><span class="token operator">:</span><span class="token class-name">ostream</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-126-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token class-name">ostream</span><span class="token operator">&amp;</span> <span class="token class-name">out</span><span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token class-name">FixedPoint2</span><span class="token operator">&amp;</span> <span class="token class-name">fp</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-126-open">)</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-150-close">{</span>
	out <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-127-close">(</span>fp<span class="token punctuation brace-round brace-close brace-level-2" id="pair-127-open">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-150-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-128-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-128-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-157-close">{</span>
	FixedPoint2 a<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-151-close">{</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">56</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-151-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-129-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-2" id="pair-129-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-131-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-130-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-130-open">)</span> <span class="token operator">==</span> <span class="token number">34.56</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-131-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 b<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-152-close">{</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-152-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-133-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-132-close">(</span>b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-132-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2.08</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-133-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 c<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-153-close">{</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-153-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-135-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-134-close">(</span>c<span class="token punctuation brace-round brace-close brace-level-3" id="pair-134-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2.08</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-135-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 d<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-154-close">{</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-154-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-137-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-136-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-3" id="pair-136-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2.08</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-137-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 e<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-155-close">{</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-155-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-139-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-138-close">(</span>e<span class="token punctuation brace-round brace-close brace-level-3" id="pair-138-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">0.05</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-139-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 f<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-156-close">{</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-156-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-141-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-140-close">(</span>f<span class="token punctuation brace-round brace-close brace-level-3" id="pair-140-open">)</span> <span class="token operator">==</span> <span class="token number">0.1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-141-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-157-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #3</p>
<p>
  Now let’s handle the case where the fractional portion is out of bounds. We
  have two reasonable strategies here:
</p>
<ul>
  <li>Clamp the fraction portion (if &gt;99, set to 99).</li>
  <li>
    Treat overflow as relevant (if &gt;99, reduce by 100 and add 1 to base).
  </li>
</ul>
<p>
  In this exercise, we’ll treat decimal overflow as relevant, as this will be
  useful in the next step.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_13_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>The following should run:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token comment">// You will need to make testDecimal a friend of FixedPoint2</span>
<span class="token comment">// so the function can access the private members of FixedPoint2</span>
<span class="token keyword keyword-bool">bool</span> <span class="token function">testDecimal</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-158-close">(</span><span class="token keyword keyword-const">const</span> FixedPoint2 <span class="token operator">&amp;</span>fp<span class="token punctuation brace-round brace-close brace-level-1" id="pair-158-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-178-close">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-159-close">(</span>fp<span class="token punctuation">.</span>m_base <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-159-open">)</span>
        <span class="token keyword keyword-return">return</span> fp<span class="token punctuation">.</span>m_decimal <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> fp<span class="token punctuation">.</span>m_decimal <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-else">else</span>
        <span class="token keyword keyword-return">return</span> fp<span class="token punctuation">.</span>m_decimal <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> fp<span class="token punctuation">.</span>m_decimal <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-178-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-160-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-160-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-183-close">{</span>
	FixedPoint2 a<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-179-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">104</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-179-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-161-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-2" id="pair-161-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-163-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-162-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-162-open">)</span> <span class="token operator">==</span> <span class="token number">2.04</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-163-open">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-165-close">(</span><span class="token function">testDecimal</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-164-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-164-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-165-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 b<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-180-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">104</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-180-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-167-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-166-close">(</span>b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-166-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2.04</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-167-open">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-169-close">(</span><span class="token function">testDecimal</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-168-close">(</span>b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-168-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-169-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 c<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-181-close">{</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">104</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-181-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-171-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-170-close">(</span>c<span class="token punctuation brace-round brace-close brace-level-3" id="pair-170-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2.04</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-171-open">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-173-close">(</span><span class="token function">testDecimal</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-172-close">(</span>c<span class="token punctuation brace-round brace-close brace-level-3" id="pair-172-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-173-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 d<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-182-close">{</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">104</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-182-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-175-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-174-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-3" id="pair-174-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2.04</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-175-open">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-177-close">(</span><span class="token function">testDecimal</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-176-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-3" id="pair-176-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-177-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-183-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>And produce the output:</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>

<pre>
2.04
2.04
</pre>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_10'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_10" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdint&gt;</span> <span class="token comment">// for fixed width integers</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">FixedPoint2</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-221-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int16_t">int16_t</span> m_base<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-214-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-214-open">}</span><span class="token punctuation">;</span> <span class="token comment">// here's our non-fractional part</span>
	std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int8_t">int8_t</span> m_decimal<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-215-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-215-open">}</span><span class="token punctuation">;</span> <span class="token comment">// here's our factional part</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">FixedPoint2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-184-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int16_t">int16_t</span> base <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int8_t">int8_t</span> decimal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-184-open">)</span>
		<span class="token operator">:</span> m_base<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-216-close">{</span> base <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-216-open">}</span><span class="token punctuation">,</span> m_decimal<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-217-close">{</span> decimal <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-217-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-219-close">{</span>
		<span class="token comment">// If either (or both) of the non-fractional and fractional part of the number are negative, the number should be treated as negative</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-185-close">(</span>m_base <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> m_decimal <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-185-open">)</span>
		<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-218-close">{</span>
			<span class="token comment">// Make sure base is negative</span>
			<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-4" id="pair-186-close">(</span>m_base <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-186-open">)</span>
				m_base <span class="token operator">=</span> <span class="token operator">-</span>m_base<span class="token punctuation">;</span>
			<span class="token comment">// Make sure decimal is negative</span>
			<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-4" id="pair-187-close">(</span>m_decimal <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-187-open">)</span>
				m_decimal <span class="token operator">=</span> <span class="token operator">-</span>m_decimal<span class="token punctuation">;</span>
		<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-218-open">}</span>

		<span class="token comment">// If decimal is out of bounds (in either direction),</span>
		<span class="token comment">// adjust the decimal so it's in bounds,</span>
		<span class="token comment">// and adjust base to account for the number of units removed from the decimal</span>
		<span class="token comment">// h/t to reader David Pinheiro for simplifying this</span>
		m_base <span class="token operator">+=</span> m_decimal <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>    <span class="token comment">// integer division</span>
		m_decimal <span class="token operator">=</span> m_decimal <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>  <span class="token comment">// integer remainder</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-219-open">}</span>

	<span class="token keyword keyword-explicit">explicit</span> <span class="token keyword keyword-operator">operator</span> <span class="token keyword keyword-double">double</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-188-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-188-open">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-220-close">{</span>
		<span class="token keyword keyword-return">return</span> m_base <span class="token operator">+</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-190-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-189-close">(</span>m_decimal<span class="token punctuation brace-round brace-close brace-level-4" id="pair-189-open">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-190-open">)</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-220-open">}</span>

	<span class="token keyword keyword-friend">friend</span> <span class="token keyword keyword-bool">bool</span> <span class="token function">testDecimal</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-191-close">(</span><span class="token keyword keyword-const">const</span> FixedPoint2 <span class="token operator">&amp;</span>fp<span class="token punctuation brace-round brace-close brace-level-2" id="pair-191-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-221-open">}</span><span class="token punctuation">;</span>

<span class="token comment">// This doesn't require access to the internals of the class, so it can be defined outside the class</span>
std<span class="token operator">:</span><span class="token base-clause"><span class="token operator">:</span><span class="token class-name">ostream</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-192-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token class-name">ostream</span><span class="token operator">&amp;</span> <span class="token class-name">out</span><span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token class-name">FixedPoint2</span><span class="token operator">&amp;</span> <span class="token class-name">fp</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-192-open">)</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-222-close">{</span>
	out <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-193-close">(</span>fp<span class="token punctuation brace-round brace-close brace-level-2" id="pair-193-open">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-222-open">}</span>

<span class="token comment">// You will need to make testDecimal a friend of FixedPoint2</span>
<span class="token comment">// so the function can access the private members of FixedPoint2</span>
<span class="token keyword keyword-bool">bool</span> <span class="token function">testDecimal</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-194-close">(</span><span class="token keyword keyword-const">const</span> FixedPoint2 <span class="token operator">&amp;</span>fp<span class="token punctuation brace-round brace-close brace-level-1" id="pair-194-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-223-close">{</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-195-close">(</span>fp<span class="token punctuation">.</span>m_base <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-195-open">)</span>
		<span class="token keyword keyword-return">return</span> fp<span class="token punctuation">.</span>m_decimal <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> fp<span class="token punctuation">.</span>m_decimal <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-else">else</span>
		<span class="token keyword keyword-return">return</span> fp<span class="token punctuation">.</span>m_decimal <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> fp<span class="token punctuation">.</span>m_decimal <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-223-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-196-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-196-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-228-close">{</span>
	FixedPoint2 a<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-224-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">104</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-224-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-197-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-2" id="pair-197-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-199-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-198-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-198-open">)</span> <span class="token operator">==</span> <span class="token number">2.04</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-199-open">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-201-close">(</span><span class="token function">testDecimal</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-200-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-200-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-201-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 b<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-225-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">104</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-225-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-203-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-202-close">(</span>b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-202-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2.04</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-203-open">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-205-close">(</span><span class="token function">testDecimal</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-204-close">(</span>b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-204-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-205-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 c<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-226-close">{</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">104</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-226-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-207-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-206-close">(</span>c<span class="token punctuation brace-round brace-close brace-level-3" id="pair-206-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2.04</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-207-open">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-209-close">(</span><span class="token function">testDecimal</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-208-close">(</span>c<span class="token punctuation brace-round brace-close brace-level-3" id="pair-208-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-209-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 d<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-227-close">{</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">104</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-227-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-211-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-210-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-3" id="pair-210-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2.04</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-211-open">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-213-close">(</span><span class="token function">testDecimal</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-212-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-3" id="pair-212-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-213-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-228-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #4</p>
<p>Now add a constructor that takes a double. The follow program should run:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-229-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-229-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-251-close">{</span>
	FixedPoint2 a<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-244-close">{</span> <span class="token number">0.01</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-244-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-231-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-230-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-230-open">)</span> <span class="token operator">==</span> <span class="token number">0.01</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-231-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 b<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-245-close">{</span> <span class="token operator">-</span><span class="token number">0.01</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-245-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-233-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-232-close">(</span>b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-232-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">0.01</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-233-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 c<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-246-close">{</span> <span class="token number">1.9</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-246-open">}</span><span class="token punctuation">;</span> <span class="token comment">// make sure we handle single digit decimal</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-235-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-234-close">(</span>c<span class="token punctuation brace-round brace-close brace-level-3" id="pair-234-open">)</span> <span class="token operator">==</span> <span class="token number">1.9</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-235-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 d<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-247-close">{</span> <span class="token number">5.01</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-247-open">}</span><span class="token punctuation">;</span> <span class="token comment">// stored as 5.0099999... so we'll need to round this</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-237-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-236-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-3" id="pair-236-open">)</span> <span class="token operator">==</span> <span class="token number">5.01</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-237-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 e<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-248-close">{</span> <span class="token operator">-</span><span class="token number">5.01</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-248-open">}</span><span class="token punctuation">;</span> <span class="token comment">// stored as -5.0099999... so we'll need to round this</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-239-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-238-close">(</span>e<span class="token punctuation brace-round brace-close brace-level-3" id="pair-238-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">5.01</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-239-open">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Handle case where the argument's decimal rounds to 100 (need to increase base by 1)</span>
	FixedPoint2 f <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-249-close">{</span> <span class="token number">106.9978</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-249-open">}</span><span class="token punctuation">;</span> <span class="token comment">// should be stored with base 107 and decimal 0</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-241-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-240-close">(</span>f<span class="token punctuation brace-round brace-close brace-level-3" id="pair-240-open">)</span> <span class="token operator">==</span> <span class="token number">107.0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-241-open">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Handle case where the argument's decimal rounds to -100 (need to decrease base by 1)</span>
	FixedPoint2 g <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-250-close">{</span> <span class="token operator">-</span><span class="token number">106.9978</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-250-open">}</span><span class="token punctuation">;</span> <span class="token comment">// should be stored with base -107 and decimal 0</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-243-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-242-close">(</span>g<span class="token punctuation brace-round brace-close brace-level-3" id="pair-242-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-243-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-251-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Recommendation: This one will be a bit tricky. Do this one in three steps.
  First, solve for the cases where the double parameter is representable
  directly (variables <code>a</code> through <code>c</code> above). Then, update
  your code to handle the cases where the double parameter has a rounding error
  (variables <code>d</code> &amp; <code>e</code>). Variables <code>f</code> and
  <code>g</code> should be handled by the overflow handling we added in the
  prior step.
</p>
<p>
  For all cases:
  <a
    class="hint_link_show"
    href="javascript:void(0)"
    onclick="cppHintToggle(document.getElementById('cpp_hint_id_0'), this, 'Show Hint', '')"
    >Show Hint</a
  >
</p>
<div
  class="wphint"
  id="cpp_hint_id_0"
  style="display: none; margin-bottom: 1em"
>
  Hint: You can move a digit from the right of the decimal to the left of the
  decimal by multiplying by 10. Multiply by 100 to move two places.
</div>
<p>
  For variables <code>a</code> through <code>c</code>:
  <a
    class="hint_link_show"
    href="javascript:void(0)"
    onclick="cppHintToggle(document.getElementById('cpp_hint_id_1'), this, 'Show Hint', '')"
    >Show Hint</a
  >
</p>
<div class="code-block code-block-8" style="margin: 8px 0; clear: both"></div>

<div
  class="wphint"
  id="cpp_hint_id_1"
  style="display: none; margin-bottom: 1em"
>
  Hint: You can get the non-fractional part of a double by static casting the
  double to an integer. To get the fractional part, you can subtract out the
  base part.
</div>
<p>
  For variables <code>d</code> &amp; <code>e</code>:
  <a
    class="hint_link_show"
    href="javascript:void(0)"
    onclick="cppHintToggle(document.getElementById('cpp_hint_id_2'), this, 'Show Hint', '')"
    >Show Hint</a
  >
</p>
<div
  class="wphint"
  id="cpp_hint_id_2"
  style="display: none; margin-bottom: 1em"
>
  Hint: You can round a number (on the left of the decimal) by using the
  <code>std::round()</code> function (included in header
  <code>&lt;cmath&gt;</code>), and take the floor of the number (towards zero)
  using <code>std::trunc()</code>.
</div>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_11'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_11" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cmath&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdint&gt;</span> <span class="token comment">// for fixed width integers</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">FixedPoint2</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-291-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int16_t">int16_t</span> m_base<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-283-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-283-open">}</span><span class="token punctuation">;</span> <span class="token comment">// here's our non-fractional part</span>
	std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int8_t">int8_t</span> m_decimal<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-284-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-284-open">}</span><span class="token punctuation">;</span> <span class="token comment">// here's our factional part</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">FixedPoint2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-252-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int16_t">int16_t</span> base <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int8_t">int8_t</span> decimal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-252-open">)</span>
		<span class="token operator">:</span> m_base<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-285-close">{</span> base <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-285-open">}</span><span class="token punctuation">,</span> m_decimal<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-286-close">{</span> decimal <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-286-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-288-close">{</span>
		<span class="token comment">// If either (or both) of the non-fractional and fractional part of the number are negative, the number should be treated as negative</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-253-close">(</span>m_base <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> m_decimal <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-253-open">)</span>
		<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-287-close">{</span>
			<span class="token comment">// Make sure base is negative</span>
			<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-4" id="pair-254-close">(</span>m_base <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-254-open">)</span>
				m_base <span class="token operator">=</span> <span class="token operator">-</span>m_base<span class="token punctuation">;</span>
			<span class="token comment">// Make sure decimal is negative</span>
			<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-4" id="pair-255-close">(</span>m_decimal <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-255-open">)</span>
				m_decimal <span class="token operator">=</span> <span class="token operator">-</span>m_decimal<span class="token punctuation">;</span>
		<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-287-open">}</span>

		<span class="token comment">// If decimal is out of bounds (in either direction),</span>
		<span class="token comment">// adjust the decimal so it's in bounds,</span>
		<span class="token comment">// and adjust base to account for the number of units removed from the decimal</span>
		<span class="token comment">// h/t to reader David Pinheiro for simplifying this</span>
		m_base <span class="token operator">+=</span> m_decimal <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>    <span class="token comment">// integer division</span>
		m_decimal <span class="token operator">=</span> m_decimal <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>  <span class="token comment">// integer remainder</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-288-open">}</span>

	<span class="token comment">// We'll delegate to the prior constructor so we don't have to duplicate the negative number and overflow handling logic</span>
	<span class="token function">FixedPoint2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-256-close">(</span><span class="token keyword keyword-double">double</span> d<span class="token punctuation brace-round brace-close brace-level-2" id="pair-256-open">)</span> <span class="token operator">:</span>
		<span class="token function">FixedPoint2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-262-close">(</span>
			<span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int16_t">int16_t</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-258-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">trunc</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-257-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-4" id="pair-257-open">)</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-258-open">)</span><span class="token punctuation">,</span>
			<span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int8_t">int8_t</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-261-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">round</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-259-close">(</span>d <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-259-open">)</span> <span class="token operator">-</span> std<span class="token double-colon punctuation">::</span><span class="token function">trunc</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-260-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-4" id="pair-260-open">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-261-open">)</span>
		<span class="token punctuation brace-round brace-close brace-level-2" id="pair-262-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-289-close">{</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-289-open">}</span>

	<span class="token keyword keyword-explicit">explicit</span> <span class="token keyword keyword-operator">operator</span> <span class="token keyword keyword-double">double</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-263-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-263-open">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-290-close">{</span>
		<span class="token keyword keyword-return">return</span> m_base <span class="token operator">+</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-265-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-264-close">(</span>m_decimal<span class="token punctuation brace-round brace-close brace-level-4" id="pair-264-open">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-265-open">)</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-290-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-291-open">}</span><span class="token punctuation">;</span>

<span class="token comment">// This doesn't require access to the internals of the class, so it can be defined outside the class</span>
std<span class="token operator">:</span><span class="token base-clause"><span class="token operator">:</span><span class="token class-name">ostream</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-266-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token class-name">ostream</span><span class="token operator">&amp;</span> <span class="token class-name">out</span><span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token class-name">FixedPoint2</span><span class="token operator">&amp;</span> <span class="token class-name">fp</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-266-open">)</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-292-close">{</span>
	out <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-267-close">(</span>fp<span class="token punctuation brace-round brace-close brace-level-2" id="pair-267-open">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-292-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-268-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-268-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-300-close">{</span>
	FixedPoint2 a<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-293-close">{</span> <span class="token number">0.01</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-293-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-270-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-269-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-269-open">)</span> <span class="token operator">==</span> <span class="token number">0.01</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-270-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 b<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-294-close">{</span> <span class="token operator">-</span><span class="token number">0.01</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-294-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-272-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-271-close">(</span>b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-271-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">0.01</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-272-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 c<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-295-close">{</span> <span class="token number">1.9</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-295-open">}</span><span class="token punctuation">;</span> <span class="token comment">// make sure we handle single digit decimal</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-274-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-273-close">(</span>c<span class="token punctuation brace-round brace-close brace-level-3" id="pair-273-open">)</span> <span class="token operator">==</span> <span class="token number">1.9</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-274-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 d<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-296-close">{</span> <span class="token number">5.01</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-296-open">}</span><span class="token punctuation">;</span> <span class="token comment">// stored as 5.0099999... so we'll need to round this</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-276-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-275-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-3" id="pair-275-open">)</span> <span class="token operator">==</span> <span class="token number">5.01</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-276-open">)</span><span class="token punctuation">;</span>

	FixedPoint2 e<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-297-close">{</span> <span class="token operator">-</span><span class="token number">5.01</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-297-open">}</span><span class="token punctuation">;</span> <span class="token comment">// stored as -5.0099999... so we'll need to round this</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-278-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-277-close">(</span>e<span class="token punctuation brace-round brace-close brace-level-3" id="pair-277-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">5.01</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-278-open">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Handle case where the argument's decimal rounds to 100 (need to increase base by 1)</span>
	FixedPoint2 f <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-298-close">{</span> <span class="token number">106.9978</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-298-open">}</span><span class="token punctuation">;</span> <span class="token comment">// should be stored with base 107 and decimal 0</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-280-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-279-close">(</span>f<span class="token punctuation brace-round brace-close brace-level-3" id="pair-279-open">)</span> <span class="token operator">==</span> <span class="token number">107.0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-280-open">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Handle case where the argument's decimal rounds to -100 (need to decrease base by 1)</span>
	FixedPoint2 g <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-299-close">{</span> <span class="token operator">-</span><span class="token number">106.9978</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-299-open">}</span><span class="token punctuation">;</span> <span class="token comment">// should be stored with base -107 and decimal 0</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-282-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-281-close">(</span>g<span class="token punctuation brace-round brace-close brace-level-3" id="pair-281-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-282-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-300-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #5</p>
<p>
  Overload <code>operator==</code>, <code>operator&gt;&gt;</code>,
  <code>operator-</code> (unary), and <code>operator+</code> (binary).
</p>
<p>The following program should run:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-301-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-301-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-348-close">{</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-302-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-319-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-319-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-320-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-320-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-302-open">)</span><span class="token punctuation">;</span>    <span class="token comment">// Test equality true</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-304-close">(</span><span class="token operator">!</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-303-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-321-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-321-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-322-close">{</span> <span class="token number">0.76</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-322-open">}</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-303-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-304-open">)</span><span class="token punctuation">;</span> <span class="token comment">// Test equality false</span>

	<span class="token comment">// Test additional cases -- h/t to reader Sharjeel Safdar for these test cases</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-305-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-323-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-323-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-324-close">{</span> <span class="token number">1.23</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-324-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-325-close">{</span> <span class="token number">1.98</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-325-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-305-open">)</span><span class="token punctuation">;</span>    <span class="token comment">// both positive, no decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-306-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-326-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-326-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-327-close">{</span> <span class="token number">1.50</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-327-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-328-close">{</span> <span class="token number">2.25</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-328-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-306-open">)</span><span class="token punctuation">;</span>    <span class="token comment">// both positive, with decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-307-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-329-close">{</span> <span class="token operator">-</span><span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-329-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-330-close">{</span> <span class="token operator">-</span><span class="token number">1.23</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-330-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-331-close">{</span> <span class="token operator">-</span><span class="token number">1.98</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-331-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-307-open">)</span><span class="token punctuation">;</span> <span class="token comment">// both negative, no decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-308-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-332-close">{</span> <span class="token operator">-</span><span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-332-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-333-close">{</span> <span class="token operator">-</span><span class="token number">1.50</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-333-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-334-close">{</span> <span class="token operator">-</span><span class="token number">2.25</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-334-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-308-open">)</span><span class="token punctuation">;</span> <span class="token comment">// both negative, with decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-309-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-335-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-335-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-336-close">{</span> <span class="token operator">-</span><span class="token number">1.23</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-336-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-337-close">{</span> <span class="token operator">-</span><span class="token number">0.48</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-337-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-309-open">)</span><span class="token punctuation">;</span>  <span class="token comment">// second negative, no decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-310-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-338-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-338-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-339-close">{</span> <span class="token operator">-</span><span class="token number">1.50</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-339-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-340-close">{</span> <span class="token operator">-</span><span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-340-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-310-open">)</span><span class="token punctuation">;</span>  <span class="token comment">// second negative, possible decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-311-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-341-close">{</span> <span class="token operator">-</span><span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-341-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-342-close">{</span> <span class="token number">1.23</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-342-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-343-close">{</span> <span class="token number">0.48</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-343-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-311-open">)</span><span class="token punctuation">;</span>   <span class="token comment">// first negative, no decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-312-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-344-close">{</span> <span class="token operator">-</span><span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-344-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-345-close">{</span> <span class="token number">1.50</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-345-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-346-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-346-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-312-open">)</span><span class="token punctuation">;</span>   <span class="token comment">// first negative, possible decimal overflow</span>

	FixedPoint2 a<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-347-close">{</span> <span class="token operator">-</span><span class="token number">0.48</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-347-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-314-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-313-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-313-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">0.48</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-314-open">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-316-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-315-close">(</span><span class="token operator">-</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-315-open">)</span> <span class="token operator">==</span> <span class="token number">0.48</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-316-open">)</span><span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter a number: "</span><span class="token punctuation">;</span> <span class="token comment">// enter 5.678</span>
	std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You entered: "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-318-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-317-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-317-open">)</span> <span class="token operator">==</span> <span class="token number">5.68</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-318-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-348-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  <a
    class="hint_link_show"
    href="javascript:void(0)"
    onclick="cppHintToggle(document.getElementById('cpp_hint_id_3'), this, 'Show Hint', '')"
    >Show Hint</a
  >
</p>
<div
  class="wphint"
  id="cpp_hint_id_3"
  style="display: none; margin-bottom: 1em"
>
  Hint: Add your two <code>FixedPoint2</code> together by leveraging the double
  cast, adding the results, and converting back to a <code>FixedPoint2</code>.
  This elegantly handles overflowing decimals.
</div>
<p>
  <a
    class="hint_link_show"
    href="javascript:void(0)"
    onclick="cppHintToggle(document.getElementById('cpp_hint_id_4'), this, 'Show Hint', '')"
    >Show Hint</a
  >
</p>
<div
  class="wphint"
  id="cpp_hint_id_4"
  style="display: none; margin-bottom: 1em"
>
  Hint: For <code>operator&gt;&gt;</code>, use your double constructor to create
  an anonymous object of type <code>FixedPoint2</code>, and assign it to your
  <code>FixedPoint2</code> function parameter.
</div>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_12'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_12" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cmath&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstdint&gt;</span> <span class="token comment">// for fixed width integers</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">FixedPoint2</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-401-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int16_t">int16_t</span> m_base<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-390-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-390-open">}</span><span class="token punctuation">;</span> <span class="token comment">// here's our non-fractional part</span>
	std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int8_t">int8_t</span> m_decimal<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-391-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-391-open">}</span><span class="token punctuation">;</span> <span class="token comment">// here's our factional part</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">FixedPoint2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-349-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int16_t">int16_t</span> base <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int8_t">int8_t</span> decimal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-349-open">)</span>
		<span class="token operator">:</span> m_base<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-392-close">{</span> base <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-392-open">}</span><span class="token punctuation">,</span> m_decimal<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-393-close">{</span> decimal <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-393-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-395-close">{</span>
		<span class="token comment">// If either (or both) of the non-fractional and fractional part of the number are negative, the number should be treated as negative</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-350-close">(</span>m_base <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> m_decimal <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-350-open">)</span>
		<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-394-close">{</span>
			<span class="token comment">// Make sure base is negative</span>
			<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-4" id="pair-351-close">(</span>m_base <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-351-open">)</span>
				m_base <span class="token operator">=</span> <span class="token operator">-</span>m_base<span class="token punctuation">;</span>
			<span class="token comment">// Make sure decimal is negative</span>
			<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-4" id="pair-352-close">(</span>m_decimal <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-352-open">)</span>
				m_decimal <span class="token operator">=</span> <span class="token operator">-</span>m_decimal<span class="token punctuation">;</span>
		<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-394-open">}</span>

		<span class="token comment">// If decimal is out of bounds (in either direction),</span>
		<span class="token comment">// adjust the decimal so it's in bounds,</span>
		<span class="token comment">// and adjust base to account for the number of units removed from the decimal</span>
		<span class="token comment">// h/t to reader David Pinheiro for simplifying this</span>
		m_base <span class="token operator">+=</span> m_decimal <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>    <span class="token comment">// integer division</span>
		m_decimal <span class="token operator">=</span> m_decimal <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>  <span class="token comment">// integer remainder</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-395-open">}</span>

	<span class="token function">FixedPoint2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-353-close">(</span><span class="token keyword keyword-double">double</span> d<span class="token punctuation brace-round brace-close brace-level-2" id="pair-353-open">)</span> <span class="token operator">:</span>
		<span class="token function">FixedPoint2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-359-close">(</span>
			<span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int16_t">int16_t</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-355-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">trunc</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-354-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-4" id="pair-354-open">)</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-355-open">)</span><span class="token punctuation">,</span>
			<span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span><span class="token keyword keyword-int8_t">int8_t</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-358-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">round</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-356-close">(</span>d <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-356-open">)</span> <span class="token operator">-</span> std<span class="token double-colon punctuation">::</span><span class="token function">trunc</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-357-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-4" id="pair-357-open">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-358-open">)</span>
		<span class="token punctuation brace-round brace-close brace-level-2" id="pair-359-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-396-close">{</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-396-open">}</span>

	<span class="token keyword keyword-explicit">explicit</span> <span class="token keyword keyword-operator">operator</span> <span class="token keyword keyword-double">double</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-360-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-360-open">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-397-close">{</span>
		<span class="token keyword keyword-return">return</span> m_base <span class="token operator">+</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-362-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-361-close">(</span>m_decimal<span class="token punctuation brace-round brace-close brace-level-4" id="pair-361-open">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-362-open">)</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-397-open">}</span>

	<span class="token keyword keyword-friend">friend</span> <span class="token keyword keyword-bool">bool</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">==</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-363-close">(</span><span class="token keyword keyword-const">const</span> FixedPoint2<span class="token operator">&amp;</span> fp1<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> FixedPoint2<span class="token operator">&amp;</span> fp2<span class="token punctuation brace-round brace-close brace-level-2" id="pair-363-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-398-close">{</span>
		<span class="token keyword keyword-return">return</span> fp1<span class="token punctuation">.</span>m_base <span class="token operator">==</span> fp2<span class="token punctuation">.</span>m_base <span class="token operator">&amp;&amp;</span> fp1<span class="token punctuation">.</span>m_decimal <span class="token operator">==</span> fp2<span class="token punctuation">.</span>m_decimal<span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-398-open">}</span>

	FixedPoint2 <span class="token keyword keyword-operator">operator</span><span class="token operator">-</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-364-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-364-open">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-400-close">{</span>
		<span class="token comment">// Cast to double, make the double negative, then convert back to FixedPoint2</span>
		<span class="token comment">// h/t to reader EmtyC for this version</span>
		<span class="token keyword keyword-return">return</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-399-close">{</span> <span class="token operator">-</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-365-close">(</span><span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-365-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-399-open">}</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-400-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-401-open">}</span><span class="token punctuation">;</span>

<span class="token comment">// This doesn't require access to the internals of the class, so it can be defined outside the class</span>
std<span class="token operator">:</span><span class="token base-clause"><span class="token operator">:</span><span class="token class-name">ostream</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-366-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token class-name">ostream</span><span class="token operator">&amp;</span> <span class="token class-name">out</span><span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token class-name">FixedPoint2</span><span class="token operator">&amp;</span> <span class="token class-name">fp</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-366-open">)</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-402-close">{</span>
	out <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-367-close">(</span>fp<span class="token punctuation brace-round brace-close brace-level-2" id="pair-367-open">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-402-open">}</span>

std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-368-close">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> in<span class="token punctuation">,</span> FixedPoint2<span class="token operator">&amp;</span> fp<span class="token punctuation brace-round brace-close brace-level-1" id="pair-368-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-405-close">{</span>
	<span class="token keyword keyword-double">double</span> d<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-403-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-403-open">}</span><span class="token punctuation">;</span>
	in <span class="token operator">&gt;&gt;</span> d<span class="token punctuation">;</span>
	fp <span class="token operator">=</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-404-close">{</span> d <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-404-open">}</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> in<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-405-open">}</span>

FixedPoint2 <span class="token keyword keyword-operator">operator</span><span class="token operator">+</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-369-close">(</span><span class="token keyword keyword-const">const</span> FixedPoint2<span class="token operator">&amp;</span> fp1<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> FixedPoint2<span class="token operator">&amp;</span> fp2<span class="token punctuation brace-round brace-close brace-level-1" id="pair-369-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-407-close">{</span>
	<span class="token keyword keyword-return">return</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-406-close">{</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-370-close">(</span>fp1<span class="token punctuation brace-round brace-close brace-level-3" id="pair-370-open">)</span> <span class="token operator">+</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-371-close">(</span>fp2<span class="token punctuation brace-round brace-close brace-level-3" id="pair-371-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-406-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-407-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-372-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-372-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-437-close">{</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-373-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-408-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-408-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-409-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-409-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-373-open">)</span><span class="token punctuation">;</span>    <span class="token comment">// Test equality true</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-375-close">(</span><span class="token operator">!</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-374-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-410-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-410-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-411-close">{</span> <span class="token number">0.76</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-411-open">}</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-374-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-375-open">)</span><span class="token punctuation">;</span> <span class="token comment">// Test equality false</span>

	<span class="token comment">// Test additional cases -- h/t to reader Sharjeel Safdar for these test cases</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-376-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-412-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-412-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-413-close">{</span> <span class="token number">1.23</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-413-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-414-close">{</span> <span class="token number">1.98</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-414-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-376-open">)</span><span class="token punctuation">;</span>    <span class="token comment">// both positive, no decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-377-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-415-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-415-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-416-close">{</span> <span class="token number">1.50</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-416-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-417-close">{</span> <span class="token number">2.25</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-417-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-377-open">)</span><span class="token punctuation">;</span>    <span class="token comment">// both positive, with decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-378-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-418-close">{</span> <span class="token operator">-</span><span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-418-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-419-close">{</span> <span class="token operator">-</span><span class="token number">1.23</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-419-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-420-close">{</span> <span class="token operator">-</span><span class="token number">1.98</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-420-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-378-open">)</span><span class="token punctuation">;</span> <span class="token comment">// both negative, no decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-379-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-421-close">{</span> <span class="token operator">-</span><span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-421-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-422-close">{</span> <span class="token operator">-</span><span class="token number">1.50</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-422-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-423-close">{</span> <span class="token operator">-</span><span class="token number">2.25</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-423-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-379-open">)</span><span class="token punctuation">;</span> <span class="token comment">// both negative, with decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-380-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-424-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-424-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-425-close">{</span> <span class="token operator">-</span><span class="token number">1.23</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-425-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-426-close">{</span> <span class="token operator">-</span><span class="token number">0.48</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-426-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-380-open">)</span><span class="token punctuation">;</span>  <span class="token comment">// second negative, no decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-381-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-427-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-427-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-428-close">{</span> <span class="token operator">-</span><span class="token number">1.50</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-428-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-429-close">{</span> <span class="token operator">-</span><span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-429-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-381-open">)</span><span class="token punctuation">;</span>  <span class="token comment">// second negative, possible decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-382-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-430-close">{</span> <span class="token operator">-</span><span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-430-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-431-close">{</span> <span class="token number">1.23</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-431-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-432-close">{</span> <span class="token number">0.48</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-432-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-382-open">)</span><span class="token punctuation">;</span>   <span class="token comment">// first negative, no decimal overflow</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-383-close">(</span>FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-433-close">{</span> <span class="token operator">-</span><span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-433-open">}</span> <span class="token operator">+</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-434-close">{</span> <span class="token number">1.50</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-434-open">}</span> <span class="token operator">==</span> FixedPoint2<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-435-close">{</span> <span class="token number">0.75</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-435-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-383-open">)</span><span class="token punctuation">;</span>   <span class="token comment">// first negative, possible decimal overflow</span>

	FixedPoint2 a<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-436-close">{</span> <span class="token operator">-</span><span class="token number">0.48</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-436-open">}</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-385-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-384-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-384-open">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">0.48</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-385-open">)</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-387-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-386-close">(</span><span class="token operator">-</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-386-open">)</span> <span class="token operator">==</span> <span class="token number">0.48</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-387-open">)</span><span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter a number: "</span><span class="token punctuation">;</span> <span class="token comment">// enter 5.678</span>
	std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You entered: "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-389-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-388-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-3" id="pair-388-open">)</span> <span class="token operator">==</span> <span class="token number">5.68</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-389-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-437-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/chapter-21-project/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">21.y</span>Chapter 21 project
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/overloading-operators-and-function-templates/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">21.14</span>Overloading
            operators and function templates
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
