<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  To address some common challenges with inheritance, C++ has two
  inheritance-related identifiers: <code>override</code> and <code>final</code>.
  Note that these identifiers are not keywords -- they are normal words that
  have special meaning only when used in certain contexts. The C++ standard
  calls them “identifiers with special meaning”, but they are often referred to
  as “specifiers”.
</p>
<p>
  Although final isn’t used very much, override is a fantastic addition that you
  should use regularly. In this lesson, we’ll take a look at both, as well as
  one exception to the rule that virtual function override return types must
  match.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  The override specifier
</p>
<p>
  As we mentioned in the previous lesson, a derived class virtual function is
  only considered an override if its signature and return types match exactly.
  That can lead to inadvertent issues, where a function that was intended to be
  an override actually isn’t.
</p>
<p>Consider the following example:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">A</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-9-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token keyword keyword-virtual">virtual</span> std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName1</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-0-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation brace-round brace-close brace-level-2" id="pair-0-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-7-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"A"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-7-open">}</span>
	<span class="token keyword keyword-virtual">virtual</span> std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-1-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation brace-round brace-close brace-level-2" id="pair-1-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-8-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"A"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-8-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-9-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">A</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-12-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token keyword keyword-virtual">virtual</span> std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName1</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-2-close">(</span><span class="token keyword keyword-short">short</span> x<span class="token punctuation brace-round brace-close brace-level-2" id="pair-2-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-10-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"B"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-10-open">}</span> <span class="token comment">// note: parameter is a short</span>
	<span class="token keyword keyword-virtual">virtual</span> std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-3-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation brace-round brace-close brace-level-2" id="pair-3-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-11-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"B"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-11-open">}</span> <span class="token comment">// note: function is const</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-12-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-4-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-4-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-15-close">{</span>
	B b<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-13-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-13-open">}</span><span class="token punctuation">;</span>
	A<span class="token operator">&amp;</span> rBase<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-14-close">{</span> b <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-14-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> rBase<span class="token punctuation">.</span><span class="token function">getName1</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-5-close">(</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-5-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> rBase<span class="token punctuation">.</span><span class="token function">getName2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-6-close">(</span><span class="token number">2</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-6-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-15-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Because rBase is an A reference to a B object, the intention here is to use
  virtual functions to access B::getName1() and B::getName2(). However, because
  B::getName1() takes a different parameter (a short instead of an int), it’s
  not considered an override of A::getName1(). More insidiously, because
  B::getName2() is const and A::getName2() isn’t, B::getName2() isn’t considered
  an override of A::getName2().
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=684714402&amp;adf=2001256055&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750852175&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fthe-override-and-final-specifiers-and-covariant-return-types%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963604373&amp;bpp=2&amp;bdt=936&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=1343607819210&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1177&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365225%2C95365235%2C95365460%2C95365699%2C95344787%2C95359265%2C95365115%2C95365798&amp;oid=2&amp;pvsid=1285671710432327&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=18"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CIba-YHtrI4DFdnBTAIdmtUMTw"
      ></iframe></div
  ></ins>
</div>
<p>Consequently, this program prints:</p>
<pre>
A
A
</pre>
<p>
  In this particular case, because A and B just print their names, it’s fairly
  easy to see that we messed up our overrides, and that the wrong virtual
  function is being called. However, in a more complicated program, where the
  functions have behaviors or return values that aren’t printed, such issues can
  be very difficult to debug.
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p>
  To help address the issue of functions that are meant to be overrides but
  aren’t, the <code>override</code> specifier can be applied to any virtual
  function to tell the compiler to enforce that the function is an override. The
  <code>override</code> specifier is placed at the end of a member function
  declaration (in the same place where a function-level
  <code>const</code> goes). If a member function is <code>const</code> and an
  override, the <code>const</code> must come before <code>override</code>.
</p>
<p>
  If a function marked as <code>override</code> does not override a base class
  function (or is applied to a non-virtual function), the compiler will flag the
  function as an error.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">A</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-26-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token keyword keyword-virtual">virtual</span> std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName1</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-16-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation brace-round brace-close brace-level-2" id="pair-16-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-23-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"A"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-23-open">}</span>
	<span class="token keyword keyword-virtual">virtual</span> std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-17-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation brace-round brace-close brace-level-2" id="pair-17-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-24-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"A"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-24-open">}</span>
	<span class="token keyword keyword-virtual">virtual</span> std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName3</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-18-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation brace-round brace-close brace-level-2" id="pair-18-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-25-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"A"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-25-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-26-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">A</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-30-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName1</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-19-close">(</span><span class="token keyword keyword-short">short</span> <span class="token keyword keyword-int">int</span> x<span class="token punctuation brace-round brace-close brace-level-2" id="pair-19-open">)</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-27-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"B"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-27-open">}</span> <span class="token comment">// compile error, function is not an override</span>
	std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-20-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation brace-round brace-close brace-level-2" id="pair-20-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-28-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"B"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-28-open">}</span> <span class="token comment">// compile error, function is not an override</span>
	std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName3</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-21-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation brace-round brace-close brace-level-2" id="pair-21-open">)</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-29-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"B"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-29-open">}</span> <span class="token comment">// okay, function is an override of A::getName3(int)</span>

<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-30-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-22-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-22-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-31-close">{</span>
	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-31-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  The above program produces two compile errors: one for B::getName1(), and one
  for B::getName2(), because neither override a prior function. B::getName3()
  does override A::getName3(), so no error is produced for that line.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=684714402&amp;adf=72645825&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750852175&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fthe-override-and-final-specifiers-and-covariant-return-types%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963604373&amp;bpp=1&amp;bdt=937&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=1343607819210&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2216&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365225%2C95365235%2C95365460%2C95365699%2C95344787%2C95359265%2C95365115%2C95365798&amp;oid=2&amp;pvsid=1285671710432327&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=19"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CKDX-YHtrI4DFeX0TAIde_YuPw"
      ></iframe></div
  ></ins>
</div>
<p>
  Because there is no performance penalty for using the override specifier and
  it helps ensure you’ve actually overridden the function you think you have,
  all virtual override functions should be tagged using the override specifier.
  Additionally, because the override specifier implies virtual, there’s no need
  to tag functions using the override specifier with the virtual keyword.
</p>
<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>Use the virtual keyword on virtual functions in a base class.</p>
  <p>
    Use the override specifier (but not the virtual keyword) on override
    functions in derived classes. This includes virtual destructors.
  </p>
</div>
<div class="cpp-note cpp-lightpurplebackground">
  <p class="cpp-note-title cpp-bottomline">Rule</p>
  <p>
    If a member function is both <code>const</code> and an
    <code>override</code>, the <code>const</code> must be listed first.
    <code>const override</code> is correct, <code>override const</code> is not.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">The final specifier</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=684714402&amp;adf=2456461873&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750852175&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fthe-override-and-final-specifiers-and-covariant-return-types%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963604373&amp;bpp=1&amp;bdt=937&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=1343607819210&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2849&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365225%2C95365235%2C95365460%2C95365699%2C95344787%2C95359265%2C95365115%2C95365798&amp;oid=2&amp;pvsid=1285671710432327&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=20"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CPzi-YHtrI4DFY3xTAIdEUIoUA"
      ></iframe></div
  ></ins>
</div>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>
  There may be cases where you don’t want someone to be able to override a
  virtual function, or inherit from a class. The final specifier can be used to
  tell the compiler to enforce this. If the user tries to override a function or
  inherit from a class that has been specified as final, the compiler will give
  a compile error.
</p>
<p>
  In the case where we want to restrict the user from overriding a function, the
  <strong>final specifier</strong> is used in the same place the override
  specifier is, like so:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">A</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-36-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token keyword keyword-virtual">virtual</span> std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-32-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-32-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-35-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"A"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-35-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-36-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">A</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-38-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token comment">// note use of final specifier on following line -- that makes this function not able to be overridden in derived classes</span>
	std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-33-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-33-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-override">override</span> <span class="token keyword keyword-final">final</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-37-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"B"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-37-open">}</span> <span class="token comment">// okay, overrides A::getName()</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-38-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">C</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">B</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-40-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-34-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-34-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-39-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"C"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-39-open">}</span> <span class="token comment">// compile error: overrides B::getName(), which is final</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-40-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In the above code, B::getName() overrides A::getName(), which is fine. But
  B::getName() has the final specifier, which means that any further overrides
  of that function should be considered an error. And indeed, C::getName() tries
  to override B::getName() (the override specifier here isn’t relevant, it’s
  just there for good practice), so the compiler will give a compile error.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=684714402&amp;adf=240656300&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750852175&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fthe-override-and-final-specifiers-and-covariant-return-types%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963604373&amp;bpp=1&amp;bdt=936&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=1343607819210&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3670&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365225%2C95365235%2C95365460%2C95365699%2C95344787%2C95359265%2C95365115%2C95365798&amp;oid=2&amp;pvsid=1285671710432327&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;cms=2&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=21"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="COPq-YHtrI4DFVv9TAIdRi04AA"
      ></iframe></div
  ></ins>
</div>
<p>
  In the case where we want to prevent inheriting from a class, the final
  specifier is applied after the class name:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">A</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-45-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token keyword keyword-virtual">virtual</span> std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-41-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-41-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-44-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"A"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-44-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-45-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token keyword keyword-final">final</span> <span class="token operator">:</span> <span class="token keyword keyword-public">public</span> A <span class="token comment">// note use of final specifier here</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-47-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-42-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-42-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-46-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"B"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-46-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-47-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">C</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">B</span> <span class="token comment">// compile error: cannot inherit from final class</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-49-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-43-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-43-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-48-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token string">"C"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-48-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-49-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In the above example, class B is declared final. Thus, when C tries to inherit
  from B, the compiler will give a compile error.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: visible;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0;
          position: absolute;
          top: 0;
          border: 0;
          width: 1027px;
          height: 280px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="280"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=684714402&amp;adf=2123726232&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750852175&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fthe-override-and-final-specifiers-and-covariant-return-types%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963604376&amp;bpp=1&amp;bdt=939&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=6&amp;correlator=1343607819210&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3809&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365225%2C95365235%2C95365460%2C95365699%2C95344787%2C95359265%2C95365115%2C95365798&amp;oid=2&amp;pvsid=1285671710432327&amp;tmod=1708485235&amp;uas=3&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=5&amp;fsb=1&amp;dtd=931"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
      ></iframe></div
  ></ins>
</div>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  Covariant return types
</p>
<p>
  There is one special case in which a derived class virtual function override
  can have a different return type than the base class and still be considered a
  matching override. If the return type of a virtual function is a pointer or a
  reference to some class, override functions can return a pointer or a
  reference to a derived class. These are called
  <strong>covariant return types</strong>. Here is an example:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-61-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token comment">// This version of getThis() returns a pointer to a Base class</span>
	<span class="token keyword keyword-virtual">virtual</span> Base<span class="token operator">*</span> <span class="token function">getThis</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-50-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-50-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-59-close">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"called Base::getThis()\n"</span><span class="token punctuation">;</span> <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-59-open">}</span>
	<span class="token keyword keyword-void">void</span> <span class="token function">printType</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-51-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-51-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-60-close">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"returned a Base\n"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-60-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-61-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-64-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token comment">// Normally override functions have to return objects of the same type as the base function</span>
	<span class="token comment">// However, because Derived is derived from Base, it's okay to return Derived* instead of Base*</span>
	Derived<span class="token operator">*</span> <span class="token function">getThis</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-52-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-52-open">)</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-62-close">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"called Derived::getThis()\n"</span><span class="token punctuation">;</span>  <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-62-open">}</span>
	<span class="token keyword keyword-void">void</span> <span class="token function">printType</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-53-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-53-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-63-close">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"returned a Derived\n"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-63-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-64-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-54-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-54-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-67-close">{</span>
	Derived d<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-65-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-65-open">}</span><span class="token punctuation">;</span>
	Base<span class="token operator">*</span> b<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-66-close">{</span> <span class="token operator">&amp;</span>d <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-66-open">}</span><span class="token punctuation">;</span>
	d<span class="token punctuation">.</span><span class="token function">getThis</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-55-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-55-open">)</span><span class="token operator">-&gt;</span><span class="token function">printType</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-56-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-56-open">)</span><span class="token punctuation">;</span> <span class="token comment">// calls Derived::getThis(), returns a Derived*, calls Derived::printType</span>
	b<span class="token operator">-&gt;</span><span class="token function">getThis</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-57-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-57-open">)</span><span class="token operator">-&gt;</span><span class="token function">printType</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-58-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-58-open">)</span><span class="token punctuation">;</span> <span class="token comment">// calls Derived::getThis(), returns a Base*, calls Base::printType</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-67-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This prints:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<pre>
called Derived::getThis()
returned a Derived
called Derived::getThis()
returned a Base
</pre>
<p>
  One interesting note about covariant return types: C++ can’t dynamically
  select types, so you’ll always get the type that matches the actual version of
  the function being called.
</p>
<p>
  In the above example, we first call d.getThis(). Since d is a Derived, this
  calls Derived::getThis(), which returns a <code>Derived*</code>. This
  <code>Derived*</code> is then used to call non-virtual function
  Derived::printType().
</p>
<p>
  Now the interesting case. We then call b-&gt;getThis(). Variable b is a Base
  pointer to a Derived object. Base::getThis() is a virtual function, so this
  calls Derived::getThis(). Although Derived::getThis() returns a
  <code>Derived*</code>, because Base version of the function returns a
  <code>Base*</code>, the returned Derived* is upcast to a <code>Base*</code>.
  Because Base::printType() is non-virtual, Base::printType() is called.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_11_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<p>
  In other words, in the above example, you only get a <code>Derived*</code> if
  you call getThis() with an object that is typed as a Derived object in the
  first place.
</p>
<p>
  Note that if printType() were virtual instead of non-virtual, the result of
  b-&gt;getThis() (an object of type <code>Base*</code>) would have undergone
  virtual function resolution, and Derived::printType() would have been called.
</p>
<p>
  Covariant return types are often used in cases where a virtual member function
  returns a pointer or reference to the class containing the member function
  (e.g. Base::getThis() returns a <code>Base*</code>, and Derived::getThis()
  returns a <code>Derived*</code>). However, this isn’t strictly necessary.
  Covariant return types can be used in any case where the return type of the
  override member function is derived from the return type of the base virtual
  member function.
</p>
<p class="cpp-section cpp-topline" style="clear: both">Quiz time</p>
<p class="cpp-quiz-question" style="clear: both">Question #1</p>
<p>What does the following program output?</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">A</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-89-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-68-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-68-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-87-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-87-open">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">vprint</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-69-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-69-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-88-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-88-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-89-open">}</span><span class="token punctuation">;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">B</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">A</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-92-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-70-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-70-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-90-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"B"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-90-open">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">vprint</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-71-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-71-open">)</span> <span class="token keyword keyword-override">override</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-91-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"B"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-91-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-92-open">}</span><span class="token punctuation">;</span>


<span class="token keyword keyword-class">class</span> <span class="token class-name">C</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-95-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    A m_a<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-93-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-93-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-virtual">virtual</span> A<span class="token operator">&amp;</span> <span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-72-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-72-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-94-close">{</span>
        <span class="token keyword keyword-return">return</span> m_a<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-94-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-95-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">D</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">C</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-98-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    B m_b<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-96-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-96-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    B<span class="token operator">&amp;</span> <span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-73-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-73-open">)</span> <span class="token keyword keyword-override">override</span> <span class="token comment">// covariant return type</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-97-close">{</span>
        <span class="token keyword keyword-return">return</span> m_b<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-97-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-98-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-74-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-74-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-102-close">{</span>
    <span class="token comment">// case 1</span>
    D d <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-99-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-99-open">}</span><span class="token punctuation">;</span>
    d<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-75-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-75-open">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-76-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-76-open">)</span><span class="token punctuation">;</span>
    d<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-77-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-77-open">)</span><span class="token punctuation">.</span><span class="token function">vprint</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-78-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-78-open">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token comment">// case 2</span>
    C c <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-100-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-100-open">}</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-79-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-79-open">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-80-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-80-open">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-81-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-81-open">)</span><span class="token punctuation">.</span><span class="token function">vprint</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-82-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-82-open">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token comment">// case 3</span>
    C<span class="token operator">&amp;</span> ref<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-101-close">{</span> d <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-101-open">}</span><span class="token punctuation">;</span>
    ref<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-83-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-83-open">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-84-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-84-open">)</span><span class="token punctuation">;</span>
    ref<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-85-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-85-open">)</span><span class="token punctuation">.</span><span class="token function">vprint</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-86-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-86-open">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-102-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_0'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<div class="wpsolution" id="cpp_solution_id_0" style="display: none">
  <pre>
BB
AA
AB
</pre
  >
  <p>
    In all cases, because <code>get()</code> has a covariant return type, the
    return type of <code>get()</code> will be the return type of the
    <code>get()</code> member function of the implicit object.
  </p>
  <p>
    Case 1 is straightforward. In both statements, <code>d.get()</code> calls
    <code>D::get()</code>, which returns <code>m_b</code>. Because
    <code>get()</code> is being called on <code>d</code>, which is of type
    <code>D</code>, the return type of <code>D::get()</code> is used, which is
    type <code>B&amp;</code>. The calls to <code>print()</code> and
    <code>vprint()</code> resolve to <code>B::print()</code> and
    <code>B::vprint()</code> respectively.
  </p>
  <p>
    Case 2 is also straightforward. In both statements,
    <code>c.get()</code> calls <code>C::get()</code>, which returns
    <code>m_a</code>. Because <code>get()</code> is being called on
    <code>c</code>, which is of type <code>C</code>, the return type of
    <code>C::get()</code> is used, which is type <code>A&amp;</code>. The calls
    to <code>print()</code> and <code>vprint()</code> resolve to
    <code>A::print()</code> and <code>A::vprint()</code> respectively.
  </p>
  <p>
    Case 3 is the interesting one. <code>ref</code> is a
    <code>C&amp;</code> referencing a <code>D</code>. <code>ref.get()</code> is
    a virtual function, so <code>ref.get()</code> virtually resolves to
    <code>D::get()</code>, which returns <code>m_b</code>. However,
    <code>get()</code> has a covariant return type, so the return type of
    <code>get()</code> is determined by the type of the implicit object that
    <code>get()</code> is called on. Since <code>ref</code> is a
    <code>C&amp;</code>, the return type of <code>C::get()</code> is used, which
    means the return type of <code>ref.get()</code> is
    <code>A&amp;</code> (referencing object <code>m_b</code>, which is a
    <code>B</code>).
  </p>
  <p>
    Because the return type of <code>ref.get()</code> is an <code>A&amp;</code>,
    non-virtual function call <code>ref.get().print()</code> resolves to
    <code>A::print()</code>.
  </p>
  <p>
    When virtual function <code>ref.get().vprint()</code> is called, virtual
    function resolution is used. Although the return type of
    <code>ref.get()</code> is an <code>A&amp;</code>, the object being reference
    is actually a <code>B</code>. Therefore, <code>B::vprint()</code> is called.
  </p>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">Question #2</p>
<p>When would we use function overloading vs function overriding?</p>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_1'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_1" style="display: none">
  <p>
    Function overloading is used when we need a member or non-member function to
    behave differently when passed parameters of different types.
  </p>
  <p>
    Function overriding is used when we need a member function to behave
    differently when the implicit object is a derived class.
  </p>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/virtual-destructors-virtual-assignment-and-overriding-virtualization/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">25.4</span>Virtual
            destructors, virtual assignment, and overriding virtualization
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/virtual-functions/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">25.2</span>Virtual functions
            and polymorphism
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
