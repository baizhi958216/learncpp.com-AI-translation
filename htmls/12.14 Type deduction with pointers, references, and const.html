<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  In lesson
  <a
    href="https://www.learncpp.com/cpp-tutorial/type-deduction-for-objects-using-the-auto-keyword/"
    >10.8 -- Type deduction for objects using the auto keyword</a
  >, we discussed how the <code>auto</code> keyword can be used to have the
  compiler deduce the type of a variable from the initializer:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-0-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-0-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-3-close">{</span>
    <span class="token keyword keyword-int">int</span> a <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-1-close">{</span> <span class="token number">5</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-1-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-auto">auto</span> b <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-2-close">{</span> a <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-2-open">}</span><span class="token punctuation">;</span> <span class="token comment">// b deduced as an int</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-3-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  We also noted that by default, type deduction will drop
  <code>const</code> from types:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-4-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-4-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-9-close">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-double">double</span> a <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-5-close">{</span> <span class="token number">7.8</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-5-open">}</span><span class="token punctuation">;</span> <span class="token comment">// a has type const double</span>
    <span class="token keyword keyword-auto">auto</span> b <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-6-close">{</span> a <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-6-open">}</span><span class="token punctuation">;</span>           <span class="token comment">// b has type double (const dropped)</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-double">double</span> c <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-7-close">{</span> <span class="token number">7.8</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-7-open">}</span><span class="token punctuation">;</span> <span class="token comment">// c has type const double (constexpr implicitly applies const)</span>
    <span class="token keyword keyword-auto">auto</span> d <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-8-close">{</span> c <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-8-open">}</span><span class="token punctuation">;</span>               <span class="token comment">// d has type double (const dropped)</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-9-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Const (or constexpr) can be reapplied by adding the <code>const</code> (or
  <code>constexpr</code>) qualifier to the definition of the deduced type:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-10-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-10-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-16-close">{</span>
    <span class="token keyword keyword-double">double</span> a <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-11-close">{</span> <span class="token number">7.8</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-11-open">}</span><span class="token punctuation">;</span>    <span class="token comment">// a has type double</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span> b <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-12-close">{</span> a <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-12-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// b has type const double (const applied)</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-double">double</span> c <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-13-close">{</span> <span class="token number">7.8</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-13-open">}</span><span class="token punctuation">;</span> <span class="token comment">// c has type const double (constexpr implicitly applies const)</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span> d <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-14-close">{</span> c <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-14-open">}</span><span class="token punctuation">;</span>         <span class="token comment">// d is const double (const dropped, const reapplied)</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-auto">auto</span> e <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-15-close">{</span> c <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-15-open">}</span><span class="token punctuation">;</span>     <span class="token comment">// e is constexpr double (const dropped, constexpr reapplied)</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-16-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Type deduction drops references
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3422533489&amp;adf=3180659474&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750826930&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftype-deduction-with-pointers-references-and-const%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962757911&amp;bpp=1&amp;bdt=744&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962604%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=3602001529965&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1204&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353387%2C95362655%2C95365225%2C95365235%2C95365700%2C95344790%2C95359266%2C95365122%2C95365797&amp;oid=2&amp;pvsid=1022297106681767&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=20"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CPbiqe7prI4DFYHsFgUd5HU6fQ"
      ></iframe></div
  ></ins>
</div>
<p>In addition to dropping const, type deduction will also drop references:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> <span class="token function">getRef</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-17-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-17-open">)</span><span class="token punctuation">;</span> <span class="token comment">// some function that returns a reference</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-18-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-18-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-21-close">{</span>
    <span class="token keyword keyword-auto">auto</span> ref <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-20-close">{</span> <span class="token function">getRef</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-19-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-19-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-20-open">}</span><span class="token punctuation">;</span> <span class="token comment">// type deduced as std::string (not std::string&amp;)</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-21-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In the above example, variable <code>ref</code> is using type deduction.
  Although function <code>getRef()</code> returns a
  <code>std::string&amp;</code>, the reference qualifier is dropped, so the type
  of <code>ref</code> is deduced as <code>std::string</code>.
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p>
  Just like with dropped <code>const</code>, if you want the deduced type to be
  a reference, you can reapply the reference at the point of definition:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> <span class="token function">getRef</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-22-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-22-open">)</span><span class="token punctuation">;</span> <span class="token comment">// some function that returns a reference</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-23-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-23-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-28-close">{</span>
    <span class="token keyword keyword-auto">auto</span> ref1 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-26-close">{</span> <span class="token function">getRef</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-24-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-24-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-26-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// std::string (reference dropped)</span>
    <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> ref2 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-27-close">{</span> <span class="token function">getRef</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-25-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-25-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-27-open">}</span><span class="token punctuation">;</span> <span class="token comment">// std::string&amp; (reference dropped, reference reapplied)</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-28-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Top-level const and low-level const
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3422533489&amp;adf=1929568898&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750826930&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftype-deduction-with-pointers-references-and-const%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962757911&amp;bpp=1&amp;bdt=744&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962604%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=3602001529965&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2086&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353387%2C95362655%2C95365225%2C95365235%2C95365700%2C95344790%2C95359266%2C95365122%2C95365797&amp;oid=2&amp;pvsid=1022297106681767&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=21"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CK_2qe7prI4DFWrJFgUdeo4r-g"
      ></iframe></div
  ></ins>
</div>
<p>
  A <strong>top-level const</strong> is a const qualifier that applies to an
  object itself. For example:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> x<span class="token punctuation">;</span>    <span class="token comment">// this const applies to x, so it is top-level</span>
<span class="token keyword keyword-int">int</span><span class="token operator">*</span> <span class="token keyword keyword-const">const</span> ptr<span class="token punctuation">;</span> <span class="token comment">// this const applies to ptr, so it is top-level</span>
<span class="token comment">// references don't have a top-level const syntax, as they are implicitly top-level const</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In contrast, a <strong>low-level const</strong> is a const qualifier that
  applies to the object being referenced or pointed to:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> ref<span class="token punctuation">;</span> <span class="token comment">// this const applies to the object being referenced, so it is low-level</span>
<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span><span class="token operator">*</span> ptr<span class="token punctuation">;</span> <span class="token comment">// this const applies to the object being pointed to, so it is low-level</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  A reference to a const value is always a low-level const. A pointer can have a
  top-level, low-level, or both kinds of const:
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span><span class="token operator">*</span> <span class="token keyword keyword-const">const</span> ptr<span class="token punctuation">;</span> <span class="token comment">// the left const is low-level, the right const is top-level</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  When we say that type deduction drops const qualifiers, it only drops
  top-level consts. Low-level consts are not dropped. We’ll see examples of this
  in just a moment.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3422533489&amp;adf=3663518078&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750826930&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftype-deduction-with-pointers-references-and-const%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962757911&amp;bpp=1&amp;bdt=744&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962604%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=3602001529965&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2739&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353387%2C95362655%2C95365225%2C95365235%2C95365700%2C95344790%2C95359266%2C95365122%2C95365797&amp;oid=2&amp;pvsid=1022297106681767&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=22"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CPT4qe7prI4DFdPJFgUdfNoxGQ"
      ></iframe></div
  ></ins>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Type deduction and const references
</p>
<p>
  If the initializer is a reference to const, the reference is dropped first
  (and then reapplied if applicable), and then any top-level const is dropped
  from the result.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> <span class="token function">getConstRef</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-29-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-29-open">)</span><span class="token punctuation">;</span> <span class="token comment">// some function that returns a reference to const</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-30-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-30-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-33-close">{</span>
    <span class="token keyword keyword-auto">auto</span> ref1<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-32-close">{</span> <span class="token function">getConstRef</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-31-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-31-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-32-open">}</span><span class="token punctuation">;</span> <span class="token comment">// std::string (reference dropped, then top-level const dropped from result)</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-33-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In the above example, since <code>getConstRef()</code> returns a
  <code>const std::string&amp;</code>, the reference is dropped first, leaving
  us with a <code>const std::string</code>. This const is now a top-level const,
  so it is also dropped, leaving the deduced type as <code>std::string</code>.
</p>
<div class="cpp-note cpp-lightbluebackground" style="height: auto !important">
  <p class="cpp-note-title cpp-bottomline">Key insight</p>
  <div
    class="google-auto-placed ap_container"
    style="width: 100%; height: auto; clear: both; text-align: center"
  >
    <ins
      data-ad-format="auto"
      class="adsbygoogle adsbygoogle-noablate"
      data-ad-client="ca-pub-0588844875925051"
      data-adsbygoogle-status="done"
      style="
        display: block;
        margin: auto;
        background-color: transparent;
        height: 0px;
      "
      data-ad-status="unfilled"
      ><div
        id="aswift_8_host"
        style="
          border: none;
          height: 0px;
          width: 995px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
          overflow: hidden;
          opacity: 0;
        "
      >
        <iframe
          id="aswift_8"
          name="aswift_8"
          browsingtopics="true"
          style="
            left: 0px;
            position: absolute;
            top: 0px;
            border: 0px;
            width: 995px;
            height: 0px;
            min-height: auto;
            max-height: none;
            min-width: auto;
            max-width: none;
          "
          sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
          width="995"
          height="0"
          frameborder="0"
          marginwidth="0"
          marginheight="0"
          vspace="0"
          hspace="0"
          allowtransparency="true"
          scrolling="no"
          allow="attribution-reporting; run-ad-auction"
          src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3842315603&amp;adf=474732539&amp;w=995&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750826930&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=995x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftype-deduction-with-pointers-references-and-const%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=994&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962757911&amp;bpp=1&amp;bdt=744&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962604%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=3602001529965&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=43&amp;ady=3411&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353387%2C95362655%2C95365225%2C95365235%2C95365700%2C95344790%2C95359266%2C95365122%2C95365797&amp;oid=2&amp;pvsid=1022297106681767&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=23"
          data-google-container-id="a!9"
          tabindex="0"
          title="Advertisement"
          aria-label="Advertisement"
          data-load-complete="true"
          data-google-query-id="CIeAqu7prI4DFUzJFgUdXL4wkQ"
        ></iframe></div
    ></ins>
  </div>
  <p>
    Dropping a reference may change a low-level const to a top-level const:
    <code>const std::string&amp;</code> is a low-level const, but dropping the
    reference yields <code>const std::string</code>, which is a top-level const.
  </p>
</div>
<p>We can reapply a reference and/or const:</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> <span class="token function">getConstRef</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-34-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-34-open">)</span><span class="token punctuation">;</span> <span class="token comment">// some function that returns a const reference</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-35-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-35-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-44-close">{</span>
    <span class="token keyword keyword-auto">auto</span> ref1<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-40-close">{</span> <span class="token function">getConstRef</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-36-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-36-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-40-open">}</span><span class="token punctuation">;</span>        <span class="token comment">// std::string (reference and top-level const dropped)</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span> ref2<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-41-close">{</span> <span class="token function">getConstRef</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-37-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-37-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-41-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// const std::string (reference dropped, const dropped, const reapplied)</span>

    <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> ref3<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-42-close">{</span> <span class="token function">getConstRef</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-38-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-38-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-42-open">}</span><span class="token punctuation">;</span>       <span class="token comment">// const std::string&amp; (reference dropped and reapplied, low-level const not dropped)</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> ref4<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-43-close">{</span> <span class="token function">getConstRef</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-39-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-39-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-43-open">}</span><span class="token punctuation">;</span> <span class="token comment">// const std::string&amp; (reference dropped and reapplied, low-level const not dropped)</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-44-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  We covered the case for <code>ref1</code> in the prior example. For
  <code>ref2</code>, this is similar to the <code>ref1</code> case, except we’re
  reapplying the <code>const</code> qualifier, so the deduced type is
  <code>const std::string</code>.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3422533489&amp;adf=3456821733&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750826930&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftype-deduction-with-pointers-references-and-const%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962757914&amp;bpp=1&amp;bdt=747&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962604%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C995x280&amp;nras=6&amp;correlator=3602001529965&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3565&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353387%2C95362655%2C95365225%2C95365235%2C95365700%2C95344790%2C95359266%2C95365122%2C95365797&amp;oid=2&amp;pvsid=1022297106681767&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=5&amp;fsb=1&amp;dtd=177"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CPbDs-7prI4DFRbKFgUdGOAxoQ"
      ></iframe></div
  ></ins>
</div>
<p>
  Things get more interesting with <code>ref3</code>. Normally the reference
  would be dropped first, but since we’ve reapplied the reference, it is not
  dropped. That means the type is still <code>const std::string&amp;</code>. And
  since this const is a low-level const, it is not dropped. Thus the deduced
  type is <code>const std::string&amp;</code>.
</p>
<p>
  The <code>ref4</code> case works similarly to <code>ref3</code>, except we’ve
  reapplied the <code>const</code> qualifier as well. Since the type is already
  deduced as a reference to const, us reapplying <code>const</code> here is
  redundant. That said, using <code>const</code> here makes it explicitly clear
  that our result will be const (whereas in the <code>ref3</code> case, the
  constness of the result is implicit and not obvious).
</p>
<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>
    If you want a const reference, reapply the <code>const</code> qualifier even
    when it’s not strictly necessary, as it makes your intent clear and helps
    prevent mistakes.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  What about constexpr references?
</p>
<p>
  Constexpr is not part of an expression’s type, so it is not deduced by
  <code>auto</code>.
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<div class="cpp-note cpp-lightgraybackground" style="height: auto !important">
  <p class="cpp-note-title cpp-bottomline">A reminder</p>
  <div
    class="google-auto-placed ap_container"
    style="width: 100%; height: auto; clear: both; text-align: center"
  >
    <ins
      data-ad-format="auto"
      class="adsbygoogle adsbygoogle-noablate"
      data-ad-client="ca-pub-0588844875925051"
      data-adsbygoogle-status="done"
      style="
        display: block;
        margin: auto;
        background-color: transparent;
        height: 0px;
      "
      data-ad-status="unfilled"
      ><div
        id="aswift_10_host"
        style="
          border: none;
          height: 0px;
          width: 995px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
          overflow: hidden;
          opacity: 0;
        "
      >
        <iframe
          id="aswift_10"
          name="aswift_10"
          browsingtopics="true"
          style="
            left: 0px;
            position: absolute;
            top: 0px;
            border: 0px;
            width: 995px;
            height: 0px;
            min-height: auto;
            max-height: none;
            min-width: auto;
            max-width: none;
          "
          sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
          width="995"
          height="0"
          frameborder="0"
          marginwidth="0"
          marginheight="0"
          vspace="0"
          hspace="0"
          allowtransparency="true"
          scrolling="no"
          allow="attribution-reporting; run-ad-auction"
          src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3842315603&amp;adf=2861085171&amp;w=995&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750826930&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=995x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftype-deduction-with-pointers-references-and-const%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=994&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962757916&amp;bpp=1&amp;bdt=749&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962604%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C995x280%2C1027x280&amp;nras=7&amp;correlator=3602001529965&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=43&amp;ady=3933&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353387%2C95362655%2C95365225%2C95365235%2C95365700%2C95344790%2C95359266%2C95365122%2C95365797&amp;oid=2&amp;pvsid=1022297106681767&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=11&amp;uci=a!b&amp;btvi=6&amp;fsb=1&amp;dtd=215"
          data-google-container-id="a!b"
          tabindex="0"
          title="Advertisement"
          aria-label="Advertisement"
          data-load-complete="true"
          data-google-query-id="COmEtu7prI4DFXDfFgUdKUcLVQ"
        ></iframe></div
    ></ins>
  </div>
  <p>
    When defining a const reference (e.g. <code>const int&amp;</code>), the
    const applies to the object being referenced, not the reference itself.
  </p>
  <p>
    When defining a constexpr reference to a const variable (e.g.
    <code>constexpr const int&amp;</code>), we need to apply both
    <code>constexpr</code> (which applies to the reference) and
    <code>const</code> (which applies to the type being referenced).
  </p>
  <p>
    This is covered in lesson
    <a href="https://www.learncpp.com/cpp-tutorial/lvalue-references-to-const/"
      >12.4 -- Lvalue references to const</a
    >.
  </p>
</div>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>string_view hello <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-51-close">{</span> <span class="token string">"Hello"</span> <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-51-open">}</span><span class="token punctuation">;</span>   <span class="token comment">// implicitly const</span>

<span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string_view<span class="token operator">&amp;</span> <span class="token function">getConstRef</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-45-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-45-open">)</span> <span class="token comment">// function is constexpr, returns a const std::string_view&amp;</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-52-close">{</span>
    <span class="token keyword keyword-return">return</span> hello<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-52-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-46-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-46-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-57-close">{</span>
    <span class="token keyword keyword-auto">auto</span> ref1<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-53-close">{</span> <span class="token function">getConstRef</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-47-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-47-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-53-open">}</span><span class="token punctuation">;</span>                  <span class="token comment">// std::string_view (reference dropped and top-level const dropped)</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-auto">auto</span> ref2<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-54-close">{</span> <span class="token function">getConstRef</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-48-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-48-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-54-open">}</span><span class="token punctuation">;</span>        <span class="token comment">// constexpr const std::string_view (reference dropped and top-level const dropped, constexpr applied, implicitly const)</span>

    <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> ref3<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-55-close">{</span> <span class="token function">getConstRef</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-49-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-49-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-55-open">}</span><span class="token punctuation">;</span>                 <span class="token comment">// const std::string_view&amp; (reference reapplied, low-level const not dropped)</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> ref4<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-56-close">{</span> <span class="token function">getConstRef</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-50-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-50-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-56-open">}</span><span class="token punctuation">;</span> <span class="token comment">// constexpr const std::string_view&amp; (reference reapplied, low-level const not dropped, constexpr applied)</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-57-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Type deduction and pointers
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_11_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_11"
        name="aswift_11"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3422533489&amp;adf=1625256489&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750826930&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftype-deduction-with-pointers-references-and-const%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962757918&amp;bpp=1&amp;bdt=751&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962604%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C995x280%2C1027x280%2C995x280&amp;nras=8&amp;correlator=3602001529965&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3960&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353387%2C95362655%2C95365225%2C95365235%2C95365700%2C95344790%2C95359266%2C95365122%2C95365797&amp;oid=2&amp;pvsid=1022297106681767&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=12&amp;uci=a!c&amp;btvi=7&amp;fsb=1&amp;dtd=756"
        data-google-container-id="a!c"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CMHZ1-7prI4DFTPJFgUdHhs5fA"
      ></iframe></div
  ></ins>
</div>
<p>Unlike references, type deduction does not drop pointers:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

std<span class="token double-colon punctuation">::</span>string<span class="token operator">*</span> <span class="token function">getPtr</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-58-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-58-open">)</span><span class="token punctuation">;</span> <span class="token comment">// some function that returns a pointer</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-59-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-59-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-62-close">{</span>
    <span class="token keyword keyword-auto">auto</span> ptr1<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-61-close">{</span> <span class="token function">getPtr</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-60-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-60-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-61-open">}</span><span class="token punctuation">;</span> <span class="token comment">// std::string*</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-62-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  We can also use an asterisk in conjunction with pointer type deduction
  (<code>auto*</code>) to make it clearer that the deduced type is a pointer:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

std<span class="token double-colon punctuation">::</span>string<span class="token operator">*</span> <span class="token function">getPtr</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-63-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-63-open">)</span><span class="token punctuation">;</span> <span class="token comment">// some function that returns a pointer</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-64-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-64-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-69-close">{</span>
    <span class="token keyword keyword-auto">auto</span> ptr1<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-67-close">{</span> <span class="token function">getPtr</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-65-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-65-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-67-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// std::string*</span>
    <span class="token keyword keyword-auto">auto</span><span class="token operator">*</span> ptr2<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-68-close">{</span> <span class="token function">getPtr</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-66-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-66-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-68-open">}</span><span class="token punctuation">;</span> <span class="token comment">// std::string*</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-69-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Key insight</p>
  <div
    class="google-auto-placed ap_container"
    style="width: 100%; height: auto; clear: both; text-align: center"
  >
    <ins
      data-ad-format="auto"
      class="adsbygoogle adsbygoogle-noablate"
      data-ad-client="ca-pub-0588844875925051"
      data-adsbygoogle-status="done"
      style="
        display: block;
        margin: auto;
        background-color: transparent;
        height: 280px;
      "
      ><div
        id="aswift_12_host"
        style="
          border: none;
          height: 280px;
          width: 995px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
        "
      ></div
    ></ins>
  </div>
  <p>
    The reason that references are dropped during type deduction but pointers
    are not dropped is because references and pointers have different semantics.
  </p>
  <p>
    When we evaluate a reference, we’re really evaluating the object being
    referenced. Therefore, when deducing a type, it makes sense that we should
    deduce the type of the thing being referenced, not the reference itself.
    Also, since we deduce a non-reference, it’s really easy to make it a
    reference by using <code>auto&amp;</code>. If type deduction were to deduce
    a reference instead, the syntax for removing a reference if we didn’t want
    it is much more complicated.
  </p>
  <p>
    On the other hand, pointers hold the address of an object. When we evaluate
    a pointer, we are evaluating the pointer, not the object being pointed to
    (if we want that, we can dereference the pointer). Therefore, it makes sense
    that we should deduce the type of the pointer, not the thing being pointed
    to.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  The difference between auto and auto*
  <span class="cpp-section-pill cpp-section-optional">Optional</span>
</p>
<p>
  When we use <code>auto</code> with a pointer type initializer, the type
  deduced for <code>auto</code> includes the pointer. So for
  <code>ptr1</code> above, the type substituted for <code>auto</code> is
  <code>std::string*</code>.
</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<p>
  When we use <code>auto*</code> with a pointer type initializer, the type
  deduced for auto does <em>not</em> include the pointer -- the pointer is
  reapplied afterward after the type is deduced. So for <code>ptr2</code> above,
  the type substituted for <code>auto</code> is <code>std::string</code>, and
  then the pointer is reapplied.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_13_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  In most cases, the practical effect is the same (<code>ptr1</code> and
  <code>ptr2</code> both deduce to <code>std::string*</code> in the above
  example).
</p>
<p>
  However, there are a couple of difference between <code>auto</code> and
  <code>auto*</code> in practice. First, <code>auto*</code> must resolve to a
  pointer initializer, otherwise a compile error will result:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

std<span class="token double-colon punctuation">::</span>string<span class="token operator">*</span> <span class="token function">getPtr</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-70-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-70-open">)</span><span class="token punctuation">;</span> <span class="token comment">// some function that returns a pointer</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-71-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-71-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-76-close">{</span>
    <span class="token keyword keyword-auto">auto</span> ptr3<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-74-close">{</span> <span class="token operator">*</span><span class="token function">getPtr</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-72-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-72-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-74-open">}</span><span class="token punctuation">;</span>      <span class="token comment">// std::string (because we dereferenced getPtr())</span>
    <span class="token keyword keyword-auto">auto</span><span class="token operator">*</span> ptr4<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-75-close">{</span> <span class="token operator">*</span><span class="token function">getPtr</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-73-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-73-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-75-open">}</span><span class="token punctuation">;</span>     <span class="token comment">// does not compile (initializer not a pointer)</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-76-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This makes sense: in the <code>ptr4</code> case, <code>auto</code> deduces to
  <code>std::string</code>, then the pointer is reapplied. Thus
  <code>ptr4</code> has type <code>std::string*</code>, and we can’t initialize
  a <code>std::string*</code> with an initializer that is not a pointer.
</p>
<p>
  Second, there are differences in how <code>auto</code> and
  <code>auto*</code> behave when we introduce <code>const</code> into the
  equation. We’ll cover this below.
</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  Type deduction and const pointers
  <span class="cpp-section-pill cpp-section-optional">Optional</span>
</p>
<p>
  Since pointers aren’t dropped, we don’t have to worry about that. But with
  pointers, we have both the const pointer and the pointer to const cases to
  think about, and we also have <code>auto</code> vs <code>auto*</code>. Just
  like with references, only top-level const is dropped during pointer type
  deduction.
</p>
<p>Let’s start with a simple case:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

std<span class="token double-colon punctuation">::</span>string<span class="token operator">*</span> <span class="token function">getPtr</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-77-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-77-open">)</span><span class="token punctuation">;</span> <span class="token comment">// some function that returns a pointer</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-78-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-78-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-87-close">{</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span> ptr1<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-83-close">{</span> <span class="token function">getPtr</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-79-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-79-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-83-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// std::string* const</span>
    <span class="token keyword keyword-auto">auto</span> <span class="token keyword keyword-const">const</span> ptr2 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-84-close">{</span> <span class="token function">getPtr</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-80-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-80-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-84-open">}</span><span class="token punctuation">;</span> <span class="token comment">// std::string* const</span>

    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">*</span> ptr3<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-85-close">{</span> <span class="token function">getPtr</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-81-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-81-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-85-open">}</span><span class="token punctuation">;</span> <span class="token comment">// const std::string*</span>
    <span class="token keyword keyword-auto">auto</span><span class="token operator">*</span> <span class="token keyword keyword-const">const</span> ptr4<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-86-close">{</span> <span class="token function">getPtr</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-82-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-82-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-86-open">}</span><span class="token punctuation">;</span> <span class="token comment">// std::string* const</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-87-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  When we use either <code>auto const</code> or <code>const auto</code>, we’re
  saying, “make the deduced pointer a const pointer”. So in the case of
  <code>ptr1</code> and <code>ptr2</code>, the deduced type is
  <code>std::string*</code>, and then const is applied, making the final type
  <code>std::string* const</code>. This is similar to how
  <code>const int</code> and <code>int const</code> mean the same thing.
</p>
<p>
  However, when we use <code>auto*</code>, the order of the const qualifier
  matters. A <code>const</code> on the left means “make the deduced pointer a
  pointer to const”, whereas a <code>const</code> on the right means “make the
  deduced pointer type a const pointer”. Thus <code>ptr3</code> ends up as a
  pointer to const, and <code>ptr4</code> ends up as a const pointer.
</p>
<div class="code-block code-block-8" style="margin: 8px 0; clear: both"></div>

<p>
  Now let’s look at an example where the initializer is a const pointer to
  const.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-88-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-88-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-99-close">{</span>
    std<span class="token double-colon punctuation">::</span>string s<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-89-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-89-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">*</span> <span class="token keyword keyword-const">const</span> ptr <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-90-close">{</span> <span class="token operator">&amp;</span>s <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-90-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-auto">auto</span> ptr1<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-91-close">{</span> ptr <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-91-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// const std::string*</span>
    <span class="token keyword keyword-auto">auto</span><span class="token operator">*</span> ptr2<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-92-close">{</span> ptr <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-92-open">}</span><span class="token punctuation">;</span> <span class="token comment">// const std::string*</span>

    <span class="token keyword keyword-auto">auto</span> <span class="token keyword keyword-const">const</span> ptr3<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-93-close">{</span> ptr <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-93-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// const std::string* const</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span> ptr4<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-94-close">{</span> ptr <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-94-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// const std::string* const</span>

    <span class="token keyword keyword-auto">auto</span><span class="token operator">*</span> <span class="token keyword keyword-const">const</span> ptr5<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-95-close">{</span> ptr <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-95-open">}</span><span class="token punctuation">;</span> <span class="token comment">// const std::string* const</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">*</span> ptr6<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-96-close">{</span> ptr <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-96-open">}</span><span class="token punctuation">;</span> <span class="token comment">// const std::string*</span>

    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span> <span class="token keyword keyword-const">const</span> ptr7<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-97-close">{</span> ptr <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-97-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// error: const qualifer can not be applied twice</span>
    <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">*</span> <span class="token keyword keyword-const">const</span> ptr8<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-98-close">{</span> ptr <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-98-open">}</span><span class="token punctuation">;</span> <span class="token comment">// const std::string* const</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-99-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  The <code>ptr1</code> and <code>ptr2</code> cases are straightforward. The
  top-level const (the const on the pointer itself) is dropped. The low-level
  const on the object being pointed to is not dropped. So in both cases, the
  final type is <code>const std::string*</code>.
</p>
<p>
  The <code>ptr3</code> and <code>ptr4</code> cases are also straightforward.
  The top-level const is dropped, but we’re reapplying it. The low-level const
  on the object being pointed to is not dropped. So in both cases, the final
  type is <code>const std::string* const</code>.
</p>
<p>
  The <code>ptr5</code> and <code>ptr6</code> cases are analogous to the cases
  we showed in the prior example. In both cases, the top-level const is dropped.
  For <code>ptr5</code>, the <code>auto* const</code> reapplies the top-level
  const, so the final type is <code>const std::string* const</code>. For
  <code>ptr6</code>, the <code>const auto*</code> applies const to the type
  being pointed to (which in this case was already const), so the final type is
  <code>const std::string*</code>.
</p>
<p>
  In the <code>ptr7</code> case, we’re applying the const qualifier twice, which
  is disallowed, and will cause a compile error.
</p>
<p>
  And finally, in the <code>ptr8</code> case, we’re applying const on both sides
  of the pointer (which is allowed since <code>auto*</code> must be a pointer
  type), so the resulting types is <code>const std::string* const</code>.
</p>
<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>
    If you want a const pointer, pointer to const, or const pointer to const,
    reapply the <code>const</code> qualifier(s) even when it’s not strictly
    necessary, as it makes your intent clear and helps prevent mistakes.
  </p>
</div>
<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Tip</p>
  <p>
    Consider using <code>auto*</code> when deducing a pointer type. Using
    <code>auto*</code> in this case makes it clearer that we are deducing a
    pointer type, enlists the compiler’s help to ensure we don’t deduce a
    non-pointer type, and gives you more control over const.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">Summary</p>
<p>
  Sorry to hear about your headache. Let’s recap the most important points
  quickly.
</p>
<p>Top-level vs low-level const:</p>
<ul>
  <li>
    A top-level const applies to the object itself (e.g.
    <code>const int x</code> or <code>int* const ptr</code>).
  </li>
  <li>
    A low-level const applies to the object accessed through a reference or
    pointer (e.g. <code>const int&amp; ref</code>, <code>const int* ptr</code>).
  </li>
</ul>
<p>What type deduction deduces:</p>
<ul>
  <li>
    Type deduction first drops any references (unless the deduced type is
    defined as a reference). For a const reference, dropping the reference will
    cause the (low-level) const to become a top-level const.
  </li>
  <li>
    Type deduction then drops any top-level const (unless the deduced type is
    defined as <code>const</code> or <code>constexpr</code>).
  </li>
  <li>
    Constexpr is not part of the type system, so is never deduced. It must
    always be explicitly applied to the deduced type.
  </li>
  <li>Type deduction does not drop pointers.</li>
  <li>
    Always explicitly define the deduced type as a reference,
    <code>const</code>, or <code>constexpr</code> (as applicable), and even if
    these qualifiers are redundant because they would be deduced. This helps
    prevent errors and makes it clear what your intent is.
  </li>
</ul>
<p>Type deduction and pointers:</p>
<ul>
  <li>
    When using <code>auto</code>, the deduced type will be a pointer only if the
    initializer is a pointer. When using <code>auto*</code>, the deduced type is
    always a pointer, even if the initializer is not a pointer.
  </li>
  <li>
    <code>auto const</code> and <code>const auto</code> both make the deduced
    pointer a const pointer. There is no way to explicitly specify a low-level
    const (pointer-to-const) using <code>auto</code>.
  </li>
  <li>
    <code>auto* const</code> also makes the deduced pointer a const pointer.
    <code>const auto*</code> makes the deduced pointer a pointer-to-const. If
    these are hard to remember, <code>int* const</code> is a const pointer (to
    int), so <code>auto* const</code> must be a const pointer.
    <code>const int*</code> is a pointer-to-const (int), so
    <code>const auto*</code> must be a pointer-to-const)
  </li>
  <li>
    Consider using <code>auto*</code> over <code>auto</code> when deducing a
    pointer type, as it allows you to explicitly reapply both the top-level and
    low-level const, and will error if a pointer type is not deduced.
  </li>
</ul>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/stdoptional/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">12.15</span>std::optional
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/in-and-out-parameters/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">12.13</span>In and out
            parameters
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
