<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  In the prior lesson (<a
    href="https://www.learncpp.com/cpp-tutorial/multidimensional-c-style-arrays/"
    >17.12 -- Multidimensional C-style Arrays</a
  >), we discussed C-style multidimensional arrays.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// C-style 2d array</span>
<span class="token keyword keyword-int">int</span> arr<span class="token punctuation brace-square brace-open brace-level-1" id="pair-0-close">[</span><span class="token number">3</span><span class="token punctuation brace-square brace-close brace-level-1" id="pair-0-open">]</span><span class="token punctuation brace-square brace-open brace-level-1" id="pair-1-close">[</span><span class="token number">4</span><span class="token punctuation brace-square brace-close brace-level-1" id="pair-1-open">]</span> <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-5-close">{</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-2-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-2-open">}</span><span class="token punctuation">,</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-3-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-3-open">}</span><span class="token punctuation">,</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-4-close">{</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-4-open">}</span><span class="token punctuation brace-curly brace-close brace-level-1" id="pair-5-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  But as you’re aware, we generally want to avoid C-style arrays (unless they
  are being used to store global data).
</p>
<p>
  In this lesson, we’ll take a look at how multidimensional arrays work with
  <code>std::array</code>.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  There is no standard library multidimensional array class
</p>
<p>
  Note that <code>std::array</code> is implemented as a single-dimensional
  array. So the first question you should ask is, “is there a standard library
  class for multidimensional arrays?” And the answer is… no. Too bad. Womp womp.
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  A two-dimensional <code>std::array</code>
</p>
<p>
  The canonical way to create a two-dimensional array of
  <code>std::array</code> is to create a <code>std::array</code> where the
  template type argument is another <code>std::array</code>. That leads to
  something like this:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">&gt;</span> arr <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-10-close">{</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-9-close">{</span>  <span class="token comment">// note double braces</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-6-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-6-open">}</span><span class="token punctuation">,</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-7-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-7-open">}</span><span class="token punctuation">,</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-8-close">{</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-8-open">}</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-9-open">}</span><span class="token punctuation brace-curly brace-close brace-level-1" id="pair-10-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>There are a number of “interesting” things to note about this:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3863147317&amp;adf=3181657235&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751397281&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fmultidimensional-stdarray%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963185323&amp;bpp=1&amp;bdt=552&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=419304869557&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1050&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C31093234%2C95353387%2C95362656%2C95365225%2C95365234%2C95365112%2C95359266%2C95365121%2C95365798&amp;oid=2&amp;pvsid=799846200513059&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=21"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CJyBkbrrrI4DFVREwgUdsrYRQg"
      ></iframe></div
  ></ins>
</div>
<ul>
  <li>
    When initializing a multidimensional <code>std::array</code>, we need to use
    double-braces (we discuss why in lesson
    <a
      href="https://www.learncpp.com/cpp-tutorial/stdarray-of-class-types-and-brace-elision/"
      >17.4 -- std::array of class types, and brace elision</a
    >).
  </li>
  <li>The syntax is verbose and hard to read.</li>
  <li>
    Because of the way templates get nested, the array dimensions are switched.
    We want an array with 3 rows of 4 elements, so <code>arr[3][4]</code> is
    natural. <code>std::array&lt;std::array&lt;int, 4&gt;, 3&gt;</code> is
    backwards.
  </li>
</ul>
<p>
  Indexing a two-dimensional <code>std::array</code> element works just like
  indexing a two-dimensional C-style array:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation brace-square brace-open brace-level-1" id="pair-11-close">[</span><span class="token number">1</span><span class="token punctuation brace-square brace-close brace-level-1" id="pair-11-open">]</span><span class="token punctuation brace-square brace-open brace-level-1" id="pair-12-close">[</span><span class="token number">2</span><span class="token punctuation brace-square brace-close brace-level-1" id="pair-12-open">]</span><span class="token punctuation">;</span> <span class="token comment">// print the element in row 1, column 2</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  We can also pass a two-dimensional <code>std::array</code> to a function just
  like a one-dimensional <code>std::array</code>:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Row<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Col<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">printArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-13-close">(</span><span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Col<span class="token operator">&gt;</span><span class="token punctuation">,</span> Row<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>arr<span class="token punctuation brace-round brace-close brace-level-1" id="pair-13-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-19-close">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-14-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> arow<span class="token operator">:</span> arr<span class="token punctuation brace-round brace-close brace-level-2" id="pair-14-open">)</span>   <span class="token comment">// get each array row</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-18-close">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-15-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> e<span class="token operator">:</span> arow<span class="token punctuation brace-round brace-close brace-level-3" id="pair-15-open">)</span> <span class="token comment">// get each element of the row</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-18-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-19-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-16-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-16-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-25-close">{</span>
    std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">&gt;</span>  arr <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-24-close">{</span><span class="token punctuation brace-curly brace-open brace-level-3" id="pair-23-close">{</span>
        <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-20-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-20-open">}</span><span class="token punctuation">,</span>
        <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-21-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-21-open">}</span><span class="token punctuation">,</span>
        <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-22-close">{</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-22-open">}</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-23-open">}</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-24-open">}</span><span class="token punctuation">;</span>

    <span class="token function">printArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-17-close">(</span>arr<span class="token punctuation brace-round brace-close brace-level-2" id="pair-17-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-25-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Yuck. And this is for a two-dimensional <code>std::array</code>. A
  three-dimensional or higher <code>std::array</code> is even more verbose!
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3863147317&amp;adf=4209451319&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751397281&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fmultidimensional-stdarray%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963185323&amp;bpp=1&amp;bdt=552&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=419304869557&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2061&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C31093234%2C95353387%2C95362656%2C95365225%2C95365234%2C95365112%2C95359266%2C95365121%2C95365798&amp;oid=2&amp;pvsid=799846200513059&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=22"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CN2BkbrrrI4DFeZIwgUddfINfA"
      ></iframe></div
  ></ins>
</div>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  Making two-dimensional <code>std::array</code> easier using an alias templates
</p>
<p>
  In lesson
  <a href="https://www.learncpp.com/cpp-tutorial/typedefs-and-type-aliases/"
    >10.7 -- Typedefs and type aliases</a
  >, we introduced type aliases, and noted that one of the uses of type aliases
  is to make complex types simpler to use. However, with a normal type alias, we
  must explicitly specify all template arguments. e.g.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-using">using</span> Array2dint34 <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This allows us to use <code>Array2dint34</code> wherever we want a 3×4
  two-dimensional std::array of <code>int</code>. But note we’d need one such
  alias for every combination of element type and dimensions we want to use!
</p>
<p>
  This is a perfect place to use an alias template, which will lets us specify
  the element type, row length, and column length for a type alias as template
  arguments!
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// An alias template for a two-dimensional std::array</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Row<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Col<span class="token operator">&gt;</span>
<span class="token keyword keyword-using">using</span> Array2d <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Col<span class="token operator">&gt;</span><span class="token punctuation">,</span> Row<span class="token operator">&gt;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  We can then use <code>Array2d&lt;int, 3, 4&gt;</code> anywhere we want a 3×4
  two-dimensional std::array of <code>int</code>. That’s much better!
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3863147317&amp;adf=2030875249&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751397281&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fmultidimensional-stdarray%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963185323&amp;bpp=1&amp;bdt=552&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=419304869557&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2737&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C31093234%2C95353387%2C95362656%2C95365225%2C95365234%2C95365112%2C95359266%2C95365121%2C95365798&amp;oid=2&amp;pvsid=799846200513059&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=23"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="COKdkbrrrI4DFadDwgUdfj0AnQ"
      ></iframe></div
  ></ins>
</div>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p>Here’s a full example:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token comment">// An alias template for a two-dimensional std::array</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Row<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Col<span class="token operator">&gt;</span>
<span class="token keyword keyword-using">using</span> Array2d <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Col<span class="token operator">&gt;</span><span class="token punctuation">,</span> Row<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// When using Array2d as a function parameter, we need to respecify the template parameters</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Row<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Col<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">printArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-26-close">(</span><span class="token keyword keyword-const">const</span> Array2d<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Row<span class="token punctuation">,</span> Col<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>arr<span class="token punctuation brace-round brace-close brace-level-1" id="pair-26-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-32-close">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-27-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> arow<span class="token operator">:</span> arr<span class="token punctuation brace-round brace-close brace-level-2" id="pair-27-open">)</span>   <span class="token comment">// get each array row</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-31-close">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-28-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> e<span class="token operator">:</span> arow<span class="token punctuation brace-round brace-close brace-level-3" id="pair-28-open">)</span> <span class="token comment">// get each element of the row</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> e <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-31-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-32-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-29-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-29-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-38-close">{</span>
    <span class="token comment">// Define a two-dimensional array of int with 3 rows and 4 columns</span>
    Array2d<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span> arr <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-37-close">{</span><span class="token punctuation brace-curly brace-open brace-level-3" id="pair-36-close">{</span>
        <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-33-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-33-open">}</span><span class="token punctuation">,</span>
        <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-34-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-34-open">}</span><span class="token punctuation">,</span>
        <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-35-close">{</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-35-open">}</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-36-open">}</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-37-open">}</span><span class="token punctuation">;</span>

    <span class="token function">printArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-30-close">(</span>arr<span class="token punctuation brace-round brace-close brace-level-2" id="pair-30-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-38-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Note how much more concise and easy to use this is!</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3863147317&amp;adf=1183987529&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751397281&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fmultidimensional-stdarray%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963185323&amp;bpp=1&amp;bdt=552&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=419304869557&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3652&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C31093234%2C95353387%2C95362656%2C95365225%2C95365234%2C95365112%2C95359266%2C95365121%2C95365798&amp;oid=2&amp;pvsid=799846200513059&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=24"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CP_2kbrrrI4DFU9PwgUdDkACzw"
      ></iframe></div
  ></ins>
</div>
<p>
  One neat thing about our alias template is that we can define our template
  parameters in whatever order we like. Since a
  <code>std::array</code> specifies element type first and then dimension, we
  stick with that convention. But we have the flexibility to define either
  <code>Row</code> or <code>Col</code> first. Since C-style array definitions
  are defined row-first, we define our alias template with
  <code>Row</code> before <code>Col</code>.
</p>
<p>
  This method also scales up nicely to higher-dimensional
  <code>std::array</code>:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// An alias template for a three-dimensional std::array</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Row<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Col<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Depth<span class="token operator">&gt;</span>
<span class="token keyword keyword-using">using</span> Array3d <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Depth<span class="token operator">&gt;</span><span class="token punctuation">,</span> Col<span class="token operator">&gt;</span><span class="token punctuation">,</span> Row<span class="token operator">&gt;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Getting the dimensional lengths of a two-dimensional array
</p>
<p>
  With a one-dimensional <code>std::array</code>, we can use the
  <code>size()</code> member function (or <code>std::size()</code>) to get the
  length of the array. But what do we do when we have a two-dimensional
  <code>std::array</code>? In this case, <code>size()</code> will only return
  the length of the first dimension.
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<p>
  One seemingly appealing (but potentially dangerous) option is to get an
  element of the desired dimension, and then call <code>size()</code> on that
  element:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token comment">// An alias template for a two-dimensional std::array</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Row<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Col<span class="token operator">&gt;</span>
<span class="token keyword keyword-using">using</span> Array2d <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Col<span class="token operator">&gt;</span><span class="token punctuation">,</span> Row<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-39-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-39-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-48-close">{</span>
    <span class="token comment">// Define a two-dimensional array of int with 3 rows and 4 columns</span>
    Array2d<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span> arr <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-47-close">{</span><span class="token punctuation brace-curly brace-open brace-level-3" id="pair-46-close">{</span>
        <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-43-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-43-open">}</span><span class="token punctuation">,</span>
        <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-44-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-44-open">}</span><span class="token punctuation">,</span>
        <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-45-close">{</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-45-open">}</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-46-open">}</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-47-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Rows: "</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-40-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-40-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>    <span class="token comment">// get length of first dimension (rows)</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Cols: "</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation brace-square brace-open brace-level-2" id="pair-42-close">[</span><span class="token number">0</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-42-open">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-41-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-41-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// get length of second dimension (cols), undefined behavior if length of first dimension is zero!</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-48-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In order to get the length of the first dimension, we call
  <code>size()</code> on the array. To get the length of the second dimension,
  we first call <code>arr[0]</code> to get the first element, and then call
  <code>size()</code> on that. To get the length of the third dimension of a
  3-dimensional array, we would call <code>arr[0][0].size()</code>.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3863147317&amp;adf=3836715769&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751397281&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fmultidimensional-stdarray%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963185325&amp;bpp=1&amp;bdt=553&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=6&amp;correlator=419304869557&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3600&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C31093234%2C95353387%2C95362656%2C95365225%2C95365234%2C95365112%2C95359266%2C95365121%2C95365798&amp;oid=2&amp;pvsid=799846200513059&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=5&amp;fsb=1&amp;dtd=337"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CN25pLrrrI4DFTlEwgUd4u8mVA"
      ></iframe></div
  ></ins>
</div>
<p>
  However, the above code is flawed, as it will produce undefined behavior if
  any dimension other than the last has a length of 0!
</p>
<p>
  A better option is to use a function template to return the length of the
  dimension directly from the associated non-type template parameter:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token comment">// An alias template for a two-dimensional std::array</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Row<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Col<span class="token operator">&gt;</span>
<span class="token keyword keyword-using">using</span> Array2d <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Col<span class="token operator">&gt;</span><span class="token punctuation">,</span> Row<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// Fetch the number of rows from the Row non-type template parameter</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Row<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Col<span class="token operator">&gt;</span>
<span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> <span class="token function">rowLength</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-49-close">(</span><span class="token keyword keyword-const">const</span> Array2d<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Row<span class="token punctuation">,</span> Col<span class="token operator">&gt;</span><span class="token operator">&amp;</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-49-open">)</span> <span class="token comment">// you can return std::size_t if you prefer</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-54-close">{</span>
    <span class="token keyword keyword-return">return</span> Row<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-54-open">}</span>

<span class="token comment">// Fetch the number of cols from the Col non-type template parameter</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Row<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Col<span class="token operator">&gt;</span>
<span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> <span class="token function">colLength</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-50-close">(</span><span class="token keyword keyword-const">const</span> Array2d<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Row<span class="token punctuation">,</span> Col<span class="token operator">&gt;</span><span class="token operator">&amp;</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-50-open">)</span> <span class="token comment">// you can return std::size_t if you prefer</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-55-close">{</span>
    <span class="token keyword keyword-return">return</span> Col<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-55-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-51-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-51-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-61-close">{</span>
    <span class="token comment">// Define a two-dimensional array of int with 3 rows and 4 columns</span>
    Array2d<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span> arr <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-60-close">{</span><span class="token punctuation brace-curly brace-open brace-level-3" id="pair-59-close">{</span>
        <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-56-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-56-open">}</span><span class="token punctuation">,</span>
        <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-57-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-57-open">}</span><span class="token punctuation">,</span>
        <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-58-close">{</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-58-open">}</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-59-open">}</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-60-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Rows: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">rowLength</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-52-close">(</span>arr<span class="token punctuation brace-round brace-close brace-level-2" id="pair-52-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// get length of first dimension (rows)</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Cols: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">colLength</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-53-close">(</span>arr<span class="token punctuation brace-round brace-close brace-level-2" id="pair-53-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// get length of second dimension (cols)</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-61-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This avoids any undefined behavior if the length of any dimension is zero, as
  it only uses the type information of the array, rather than the actual data of
  the array. This also allows us to easily return the length as an
  <code>int</code> if we desire (no static_cast is required, as converting from
  a <code>constexpr std::size_t</code> to <code>constexpr int</code> is
  non-narrowing, so an implicit conversion is fine).
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  Flatting a two-dimensional array
</p>
<p>Arrays with two or more dimensions have some challenges:</p>
<ul>
  <li>They are more verbose to define and work with.</li>
  <li>It is awkward to get the length of dimensions greater than the first.</li>
  <li>
    They are increasingly hard to iterate over (requiring one more loop for each
    dimension).
  </li>
</ul>
<p>
  One approach to make multidimensional arrays easier to work with is to flatten
  them. <strong>Flattening</strong> an array is a process of reducing the
  dimensionality of an array (often down to a single dimension).
</p>
<p>
  For example, instead of creating a two-dimensional array with
  <code>Row</code> rows and <code>Col</code> columns, we can create a
  one-dimensional array with <code>Row * Col</code> elements. This gives us the
  same amount of storage using a single dimension.
</p>
<p>
  However, because our one-dimensional array only has a single dimension, we
  cannot work with it as a multidimensional array. To address this, we can
  provide an interface that mimics a multidimensional array. This interface will
  accept two-dimensional coordinates, and then map them to a unique position in
  the one-dimensional array.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_11_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>Here’s an example of that approach that works in C++11 or newer:</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span></span>

<span class="token comment">// An alias template to allow us to define a one-dimensional std::array using two dimensions</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Row<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Col<span class="token operator">&gt;</span>
<span class="token keyword keyword-using">using</span> ArrayFlat2d <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Row <span class="token operator">*</span> Col<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// A modifiable view that allows us to work with an ArrayFlat2d using two dimensions</span>
<span class="token comment">// This is a view, so the ArrayFlat2d being viewed must stay in scope</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Row<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Col<span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">ArrayView2d</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-112-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token comment">// You might be tempted to make m_arr a reference to an ArrayFlat2d,</span>
    <span class="token comment">// but this makes the view non-copy-assignable since references can't be reseated.</span>
    <span class="token comment">// Using std::reference_wrapper gives us reference semantics and copy assignability.</span>
    std<span class="token double-colon punctuation">::</span>reference_wrapper<span class="token operator">&lt;</span>ArrayFlat2d<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Row<span class="token punctuation">,</span> Col<span class="token operator">&gt;&gt;</span> m_arr <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-102-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-102-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">ArrayView2d</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-62-close">(</span>ArrayFlat2d<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Row<span class="token punctuation">,</span> Col<span class="token operator">&gt;</span> <span class="token operator">&amp;</span>arr<span class="token punctuation brace-round brace-close brace-level-2" id="pair-62-open">)</span>
        <span class="token operator">:</span> m_arr <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-103-close">{</span> arr <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-103-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-104-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-104-open">}</span>

    <span class="token comment">// Get element via single subscript (using operator[])</span>
    T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-95-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-95-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-63-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-63-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-105-close">{</span> <span class="token keyword keyword-return">return</span> m_arr<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-64-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-64-open">)</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-96-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-65-close">(</span>i<span class="token punctuation brace-round brace-close brace-level-4" id="pair-65-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-96-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-105-open">}</span>
    <span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-97-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-97-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-66-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-66-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-106-close">{</span> <span class="token keyword keyword-return">return</span> m_arr<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-67-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-67-open">)</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-98-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-68-close">(</span>i<span class="token punctuation brace-round brace-close brace-level-4" id="pair-68-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-98-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-106-open">}</span>

    <span class="token comment">// Get element via 2d subscript (using operator(), since operator[] doesn't support multiple dimensions prior to C++23)</span>
    T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-69-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-69-open">)</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-70-close">(</span><span class="token keyword keyword-int">int</span> row<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> col<span class="token punctuation brace-round brace-close brace-level-2" id="pair-70-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-107-close">{</span> <span class="token keyword keyword-return">return</span> m_arr<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-71-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-71-open">)</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-99-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-73-close">(</span>row <span class="token operator">*</span> <span class="token function">cols</span><span class="token punctuation brace-round brace-open brace-level-5" id="pair-72-close">(</span><span class="token punctuation brace-round brace-close brace-level-5" id="pair-72-open">)</span> <span class="token operator">+</span> col<span class="token punctuation brace-round brace-close brace-level-4" id="pair-73-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-99-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-107-open">}</span>
    <span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-74-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-74-open">)</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-75-close">(</span><span class="token keyword keyword-int">int</span> row<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> col<span class="token punctuation brace-round brace-close brace-level-2" id="pair-75-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-108-close">{</span> <span class="token keyword keyword-return">return</span> m_arr<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-76-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-76-open">)</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-100-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-78-close">(</span>row <span class="token operator">*</span> <span class="token function">cols</span><span class="token punctuation brace-round brace-open brace-level-5" id="pair-77-close">(</span><span class="token punctuation brace-round brace-close brace-level-5" id="pair-77-open">)</span> <span class="token operator">+</span> col<span class="token punctuation brace-round brace-close brace-level-4" id="pair-78-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-100-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-108-open">}</span>

    <span class="token comment">// in C++23, you can uncomment these since multidimensional operator[] is supported</span>
<span class="token comment">//    T&amp; operator[](int row, int col) { return m_arr.get()[static_cast&lt;std::size_t&gt;(row * cols() + col)]; }</span>
<span class="token comment">//    const T&amp; operator[](int row, int col) const { return m_arr.get()[static_cast&lt;std::size_t&gt;(row * cols() + col)]; }</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">rows</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-79-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-79-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-109-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-80-close">(</span>Row<span class="token punctuation brace-round brace-close brace-level-3" id="pair-80-open">)</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-109-open">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">cols</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-81-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-81-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-110-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-82-close">(</span>Col<span class="token punctuation brace-round brace-close brace-level-3" id="pair-82-open">)</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-110-open">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">length</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-83-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-83-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-111-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-84-close">(</span>Row <span class="token operator">*</span> Col<span class="token punctuation brace-round brace-close brace-level-3" id="pair-84-open">)</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-111-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-112-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-85-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-85-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-116-close">{</span>
    <span class="token comment">// Define a one-dimensional std::array of int (with 3 rows and 4 columns)</span>
    ArrayFlat2d<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span> arr <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-113-close">{</span>
        <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span>
        <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-113-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Define a two-dimensional view into our one-dimensional array</span>
    ArrayView2d<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span> arrView <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-114-close">{</span> arr <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-114-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// print array dimensions</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Rows: "</span> <span class="token operator">&lt;&lt;</span> arrView<span class="token punctuation">.</span><span class="token function">rows</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-86-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-86-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Cols: "</span> <span class="token operator">&lt;&lt;</span> arrView<span class="token punctuation">.</span><span class="token function">cols</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-87-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-87-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token comment">// print array using a single dimension</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-89-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arrView<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-88-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-88-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-89-open">)</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> arrView<span class="token punctuation brace-square brace-open brace-level-2" id="pair-101-close">[</span>i<span class="token punctuation brace-square brace-close brace-level-2" id="pair-101-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token comment">// print array using two dimensions</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-91-close">(</span><span class="token keyword keyword-int">int</span> row<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> row <span class="token operator">&lt;</span> arrView<span class="token punctuation">.</span><span class="token function">rows</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-90-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-90-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>row<span class="token punctuation brace-round brace-close brace-level-2" id="pair-91-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-115-close">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-93-close">(</span><span class="token keyword keyword-int">int</span> col<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> col <span class="token operator">&lt;</span> arrView<span class="token punctuation">.</span><span class="token function">cols</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-92-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-92-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>col<span class="token punctuation brace-round brace-close brace-level-3" id="pair-93-open">)</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">arrView</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-94-close">(</span>row<span class="token punctuation">,</span> col<span class="token punctuation brace-round brace-close brace-level-3" id="pair-94-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-115-open">}</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-116-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This prints:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_12_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<pre>
Rows: 3
Cols: 4
1 2 3 4 5 6 7 8 9 10 11 12
1 2 3 4
5 6 7 8
9 10 11 12
</pre>
<p>
  Because <code>operator[]</code> can only accept a single subscript prior to
  C++23, there are two alternate approaches:
</p>
<ul>
  <li>
    Use <code>operator()</code> instead, which can accept multiple subscripts.
    This lets you use <code>[]</code> for single index indexing and
    <code>()</code> for multiple-dimension indexing. We’ve opted for this
    approach above.
  </li>
  <li>
    Have <code>operator[]</code> return a subview that also overloads
    <code>operator[]</code> so that you can chain <code>operator[]</code>. This
    is more complex and doesn’t scale well to higher dimensions.
  </li>
</ul>
<p>
  In C++23, <code>operator[]</code> was extended to accept multiple subscripts,
  so you can overload it to handle both single and multiple subscripts (instead
  of using <code>operator()</code> for multiple subscripts).
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">Related content</p>
  <div
    class="google-auto-placed ap_container"
    style="width: 100%; height: auto; clear: both; text-align: center"
  >
    <ins
      data-ad-format="auto"
      class="adsbygoogle adsbygoogle-noablate"
      data-ad-client="ca-pub-0588844875925051"
      data-adsbygoogle-status="done"
      style="
        display: block;
        margin: auto;
        background-color: transparent;
        height: 280px;
      "
      ><div
        id="aswift_13_host"
        style="
          border: none;
          height: 280px;
          width: 995px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
        "
      ></div
    ></ins>
  </div>
  <p>
    We cover <code>std::reference_wrapper</code> in lesson
    <a
      href="https://www.learncpp.com/cpp-tutorial/arrays-of-references-via-stdreference_wrapper/"
      >17.5 -- Arrays of references via std::reference_wrapper</a
    >.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  std::mdspan <span class="cpp-section-pill cpp-section-standard">C++23</span>
</p>
<p>
  Introduced in C++23, <code>std::mdspan</code> is a modifiable view that
  provides a multidimensional array interface for a contiguous sequence of
  elements. By modifiable view, we mean that a <code>std::mdspan</code> is not
  just a read-only view (like <code>std::string_view</code>) -- if the
  underlying sequence of elements is non-const, those elements can be modified.
</p>
<p>
  The following example prints the same output as the prior example, but uses
  <code>std::mdspan</code> instead of our own custom view:
</p>
<div class="code-block code-block-8" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mdspan&gt;</span></span>

<span class="token comment">// An alias template to allow us to define a one-dimensional std::array using two dimensions</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Row<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t Col<span class="token operator">&gt;</span>
<span class="token keyword keyword-using">using</span> ArrayFlat2d <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> Row <span class="token operator">*</span> Col<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-117-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-117-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-135-close">{</span>
    <span class="token comment">// Define a one-dimensional std::array of int (with 3 rows and 4 columns)</span>
    ArrayFlat2d<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span> arr <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-130-close">{</span>
        <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span>
        <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-130-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Define a two-dimensional span into our one-dimensional array</span>
    <span class="token comment">// We must pass std::mdspan a pointer to the sequence of elements</span>
    <span class="token comment">// which we can do via the data() member function of std::array or std::vector</span>
    std<span class="token double-colon punctuation">::</span>mdspan mdView <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-131-close">{</span> arr<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-118-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-118-open">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-131-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// print array dimensions</span>
    <span class="token comment">// std::mdspan calls these extents</span>
    std<span class="token double-colon punctuation">::</span>size_t rows <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-132-close">{</span> mdView<span class="token punctuation">.</span><span class="token function">extents</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-119-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-119-open">)</span><span class="token punctuation">.</span><span class="token function">extent</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-120-close">(</span><span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-120-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-132-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>size_t cols <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-133-close">{</span> mdView<span class="token punctuation">.</span><span class="token function">extents</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-121-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-121-open">)</span><span class="token punctuation">.</span><span class="token function">extent</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-122-close">(</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-122-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-133-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Rows: "</span> <span class="token operator">&lt;&lt;</span> rows <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Cols: "</span> <span class="token operator">&lt;&lt;</span> cols <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token comment">// print array in 1d</span>
    <span class="token comment">// The data_handle() member gives us a pointer to the sequence of elements</span>
    <span class="token comment">// which we can then index</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-124-close">(</span>std<span class="token double-colon punctuation">::</span>size_t i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> mdView<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-123-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-123-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-124-open">)</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> mdView<span class="token punctuation">.</span><span class="token function">data_handle</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-125-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-125-open">)</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-128-close">[</span>i<span class="token punctuation brace-square brace-close brace-level-2" id="pair-128-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token comment">// print array in 2d</span>
    <span class="token comment">// We use multidimensional [] to access elements</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-126-close">(</span>std<span class="token double-colon punctuation">::</span>size_t row<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> row <span class="token operator">&lt;</span> rows<span class="token punctuation">;</span> <span class="token operator">++</span>row<span class="token punctuation brace-round brace-close brace-level-2" id="pair-126-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-134-close">{</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-127-close">(</span>std<span class="token double-colon punctuation">::</span>size_t col<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> col <span class="token operator">&lt;</span> cols<span class="token punctuation">;</span> <span class="token operator">++</span>col<span class="token punctuation brace-round brace-close brace-level-3" id="pair-127-open">)</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> mdView<span class="token punctuation brace-square brace-open brace-level-3" id="pair-129-close">[</span>row<span class="token punctuation">,</span> col<span class="token punctuation brace-square brace-close brace-level-3" id="pair-129-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-134-open">}</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-135-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This should be fairly straightforward, but there are a few things worth
  noting:
</p>
<ul>
  <li>
    <code>std::mdspan</code> let us define a view with as many dimensions as we
    want.
  </li>
  <li>
    The first parameter to the constructor of <code>std::mdspan</code> should be
    a pointer to the array data. This can be a decayed C-style array, or we can
    use the <code>data()</code> member function of <code>std::array</code> or
    <code>std::vector</code> to get this data.
  </li>
  <li>
    To index a <code>std::mdspan</code> in one-dimension, we must fetch the
    pointer to the array data, which we can do using the
    <code>data_handle()</code> member function. We can then subscript that.
  </li>
  <li>
    In C++23, <code>operator[]</code> accepts multiple indices, so we use
    <code>[row, col]</code> as our index instead of <code>[row][col]</code>.
  </li>
</ul>
<p>
  C++26 will include <code>std::mdarray</code>, which essentially combines
  <code>std::array</code> and <code>std::mdspan</code> into an owning
  multidimensional array!
</p>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/chapter-17-summary-and-quiz/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">17.x</span>Chapter 17 summary
            and quiz
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/multidimensional-c-style-arrays/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">17.12</span>Multidimensional
            C-style Arrays
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
