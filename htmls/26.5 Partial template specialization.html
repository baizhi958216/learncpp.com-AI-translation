<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  This lesson and the next are optional reading for those desiring a deeper
  knowledge of C++ templates. Partial template specialization is not used all
  that often (but can be useful in specific cases).
</p>
<p>
  In lesson
  <a href="https://www.learncpp.com/cpp-tutorial/template-non-type-parameters/"
    >26.2 -- Template non-type parameters</a
  >, you learned how expression parameters could be used to parameterize
  template classes.
</p>
<p>
  Let’s take another look at the Static Array class we used in one of our
  previous examples:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span> <span class="token comment">// size is the expression parameter</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">StaticArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-12-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token comment">// The expression parameter controls the size of the array</span>
    T m_array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-3-close">[</span>size<span class="token punctuation brace-square brace-close brace-level-2" id="pair-3-open">]</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-8-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-8-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    T<span class="token operator">*</span> <span class="token function">getArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-0-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-0-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-9-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-9-open">}</span>

    <span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-4-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-4-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-1-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-1-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-10-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-5-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-5-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-10-open">}</span>
    T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-6-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-6-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-2-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-2-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-11-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-7-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-7-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-11-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-12-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This class takes two template parameters: one type parameter and one
  expression parameter.
</p>
<p>
  Now, let’s say we wanted to write a function to print out the whole array.
  Although we could implement this as a member function, we’re going to do it as
  a non-member function instead because it will make the successive examples
  easier to follow.
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p>Using templates, we might write something like this:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-13-close">(</span><span class="token keyword keyword-const">const</span> StaticArray<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> size<span class="token operator">&gt;</span><span class="token operator">&amp;</span> array<span class="token punctuation brace-round brace-close brace-level-1" id="pair-13-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-17-close">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-14-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-16-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-16-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-14-open">)</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-15-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-15-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-17-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This would allow us to do the following:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span> <span class="token comment">// size is a template non-type parameter</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">StaticArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-39-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	T m_array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-25-close">[</span>size<span class="token punctuation brace-square brace-close brace-level-2" id="pair-25-open">]</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-35-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-35-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	T<span class="token operator">*</span> <span class="token function">getArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-18-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-18-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-36-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-36-open">}</span>

	<span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-26-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-26-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-19-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-19-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-37-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-27-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-27-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-37-open">}</span>
	T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-28-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-28-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-20-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-20-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-38-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-29-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-29-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-38-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-39-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-21-close">(</span><span class="token keyword keyword-const">const</span> StaticArray<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> size<span class="token operator">&gt;</span><span class="token operator">&amp;</span> array<span class="token punctuation brace-round brace-close brace-level-1" id="pair-21-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-41-close">{</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-22-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-40-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-40-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-22-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-30-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-30-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-41-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-23-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-23-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-43-close">{</span>
	<span class="token comment">// declare an int array</span>
	StaticArray<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span> int4<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-42-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-42-open">}</span><span class="token punctuation">;</span>
	int4<span class="token punctuation brace-square brace-open brace-level-2" id="pair-31-close">[</span><span class="token number">0</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-31-open">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	int4<span class="token punctuation brace-square brace-open brace-level-2" id="pair-32-close">[</span><span class="token number">1</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-32-open">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	int4<span class="token punctuation brace-square brace-open brace-level-2" id="pair-33-close">[</span><span class="token number">2</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-33-open">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	int4<span class="token punctuation brace-square brace-open brace-level-2" id="pair-34-close">[</span><span class="token number">3</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-34-open">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

	<span class="token comment">// Print the array</span>
	<span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-24-close">(</span>int4<span class="token punctuation brace-round brace-close brace-level-2" id="pair-24-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-43-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>and get the following result:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2413907383&amp;adf=4194091325&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751640716&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fpartial-template-specialization%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963699161&amp;bpp=1&amp;bdt=1173&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=7428623109746&amp;rume=1&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1713&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95332927%2C95353386%2C95362655%2C95363080%2C95365226%2C95365235%2C95365460%2C95359266%2C95365122%2C95365797%2C31061691%2C31061693&amp;oid=2&amp;pvsid=3317652700838905&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=30"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CLnTk6_trI4DFcxFwgUdBAEOuA"
      ></iframe></div
  ></ins>
</div>
<pre>
0 1 2 3
</pre>
<p>Although this works, it has a design flaw. Consider the following:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-44-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-44-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-52-close">{</span>
    <span class="token comment">// Declare a char array</span>
    StaticArray<span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token operator">&gt;</span> char14<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-50-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-50-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Copy some data into it</span>
    <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>string_view hello<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-51-close">{</span> <span class="token string">"Hello, world!"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-51-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-48-close">(</span>hello<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-45-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-45-open">)</span><span class="token punctuation">,</span> hello<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-46-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-46-open">)</span><span class="token punctuation">,</span> char14<span class="token punctuation">.</span><span class="token function">getArray</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-47-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-47-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-48-open">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Print the array</span>
    <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-49-close">(</span>char14<span class="token punctuation brace-round brace-close brace-level-2" id="pair-49-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-52-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  (We covered std::strcpy in lesson
  <a href="https://www.learncpp.com/cpp-tutorial/c-style-strings/"
    >17.10 -- C-style strings</a
  >
  if you need a refresher)
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2413907383&amp;adf=634386405&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751640716&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fpartial-template-specialization%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963699161&amp;bpp=1&amp;bdt=1174&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=7428623109746&amp;rume=1&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2459&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95332927%2C95353386%2C95362655%2C95363080%2C95365226%2C95365235%2C95365460%2C95359266%2C95365122%2C95365797%2C31061691%2C31061693&amp;oid=2&amp;pvsid=3317652700838905&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=31"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CPDok6_trI4DFexZwgUdjj0zsA"
      ></iframe></div
  ></ins>
</div>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>
  This program will compile, execute, and produce the following value (or one
  similar):
</p>
<pre>
H e l l o ,   w o r l d !
</pre>
<p>
  For non-char types, it makes sense to put a space between each array element,
  so they don’t run together. However, with a char type, it makes more sense to
  print everything run together as a C-style string, which our print() function
  doesn’t do.
</p>
<p>So how can we fix this?</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Template specialization to the rescue?
</p>
<p>
  One might first think of using template specialization. The problem with full
  template specialization is that all template parameters must be explicitly
  defined.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2413907383&amp;adf=2807006670&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751640716&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fpartial-template-specialization%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963699161&amp;bpp=1&amp;bdt=1173&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=7428623109746&amp;rume=1&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3016&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95332927%2C95353386%2C95362655%2C95363080%2C95365226%2C95365235%2C95365460%2C95359266%2C95365122%2C95365797%2C31061691%2C31061693&amp;oid=2&amp;pvsid=3317652700838905&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=32"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CMDfk6_trI4DFeNFwgUdr_Igrw"
      ></iframe></div
  ></ins>
</div>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p>Consider:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span> <span class="token comment">// size is the expression parameter</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">StaticArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-77-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token comment">// The expression parameter controls the size of the array</span>
	T m_array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-66-close">[</span>size<span class="token punctuation brace-square brace-close brace-level-2" id="pair-66-open">]</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-73-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-73-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	T<span class="token operator">*</span> <span class="token function">getArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-53-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-53-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-74-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-74-open">}</span>

	<span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-67-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-67-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-54-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-54-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-75-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-68-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-68-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-75-open">}</span>
	T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-69-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-69-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-55-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-55-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-76-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-70-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-70-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-76-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-77-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-56-close">(</span><span class="token keyword keyword-const">const</span> StaticArray<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> size<span class="token operator">&gt;</span><span class="token operator">&amp;</span> array<span class="token punctuation brace-round brace-close brace-level-1" id="pair-56-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-79-close">{</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-57-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-78-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-78-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-57-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-71-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-71-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-79-open">}</span>

<span class="token comment">// Override print() for fully specialized StaticArray&lt;char, 14&gt;</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-58-close">(</span><span class="token keyword keyword-const">const</span> StaticArray<span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> array<span class="token punctuation brace-round brace-close brace-level-1" id="pair-58-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-81-close">{</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-59-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-80-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-80-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> <span class="token number">14</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-59-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-72-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-72-open">]</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-81-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-60-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-60-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-84-close">{</span>
    <span class="token comment">// Declare a char array</span>
    StaticArray<span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token operator">&gt;</span> char14<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-82-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-82-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Copy some data into it</span>
    <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>string_view hello<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-83-close">{</span> <span class="token string">"Hello, world!"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-83-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-64-close">(</span>hello<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-61-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-61-open">)</span><span class="token punctuation">,</span> hello<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-62-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-62-open">)</span><span class="token punctuation">,</span> char14<span class="token punctuation">.</span><span class="token function">getArray</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-63-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-63-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-64-open">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Print the array</span>
    <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-65-close">(</span>char14<span class="token punctuation brace-round brace-close brace-level-2" id="pair-65-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-84-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  As you can see, we’ve now provided an overloaded print function for fully
  specialized <code>StaticArray&lt;char, 14&gt;</code>. Indeed, this prints:
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2413907383&amp;adf=3260616293&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751640716&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fpartial-template-specialization%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963699164&amp;bpp=1&amp;bdt=1176&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=7428623109746&amp;rume=1&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3892&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95332927%2C95353386%2C95362655%2C95363080%2C95365226%2C95365235%2C95365460%2C95359266%2C95365122%2C95365797%2C31061691%2C31061693&amp;oid=2&amp;pvsid=3317652700838905&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=180"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-google-query-id="CJeTna_trI4DFUxEwgUd3XIlaw"
        data-load-complete="true"
      ></iframe></div
  ></ins>
</div>
<pre>
Hello, world!
</pre>
<p>
  Although this solves the issue of making sure print() can be called with a
  <code>StaticArray&lt;char, 14&gt;</code>, it brings up another problem: using
  full template specialization means we have to explicitly define the length of
  the array this function will accept! Consider the following example:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-85-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-85-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-93-close">{</span>
    <span class="token comment">// Declare a char array</span>
    StaticArray<span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token operator">&gt;</span> char12<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-91-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-91-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Copy some data into it</span>
    <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>string_view hello<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-92-close">{</span> <span class="token string">"Hello, mom!"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-92-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-89-close">(</span>hello<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-86-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-86-open">)</span><span class="token punctuation">,</span> hello<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-87-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-87-open">)</span><span class="token punctuation">,</span> char12<span class="token punctuation">.</span><span class="token function">getArray</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-88-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-88-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-89-open">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Print the array</span>
    <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-90-close">(</span>char12<span class="token punctuation brace-round brace-close brace-level-2" id="pair-90-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-93-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Calling <code>print()</code> with <code>char12</code> will call the version of
  <code>print()</code> that takes a <code>StaticArray&lt;T, size&gt;</code>,
  because <code>char12</code> is of type
  <code>StaticArray&lt;char, 12&gt;</code>, and our overloaded print() will only
  be called when passed a <code>StaticArray&lt;char, 14&gt;</code>.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2413907383&amp;adf=592423627&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751640716&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fpartial-template-specialization%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963699168&amp;bpp=1&amp;bdt=1180&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=6&amp;correlator=7428623109746&amp;rume=1&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=4060&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95332927%2C95353386%2C95362655%2C95363080%2C95365226%2C95365235%2C95365460%2C95359266%2C95365122%2C95365797%2C31061691%2C31061693&amp;oid=2&amp;pvsid=3317652700838905&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=5&amp;fsb=1&amp;dtd=321"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-google-query-id="CMjspa_trI4DFUFFwgUd0Q8bGQ"
        data-load-complete="true"
      ></iframe></div
  ></ins>
</div>
<p>
  Although we could make a copy of print() that handles
  <code>StaticArray&lt;char, 12&gt;</code>, what happens when we want to call
  print() with an array size of 5, or 22? We’d have to copy the function for
  each different array size. That’s redundant.
</p>
<p>
  Obviously full template specialization is too restrictive a solution here. The
  solution we are looking for is partial template specialization.
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  Partial template specialization
</p>
<p>
  Partial template specialization allows us to specialize classes (but not
  individual functions!) where some, but not all, of the template parameters
  have been explicitly defined. For our challenge above, the ideal solution
  would be to have our overloaded print function work with StaticArray of type
  char, but leave the length expression parameter templated so it can vary as
  needed. Partial template specialization allows us to do just that!
</p>
<p>
  Here’s our example with an overloaded print function that takes a partially
  specialized StaticArray:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// overload of print() function for partially specialized StaticArray&lt;char, size&gt;</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span> <span class="token comment">// size is still a template non-type parameter</span>
<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-94-close">(</span><span class="token keyword keyword-const">const</span> StaticArray<span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token punctuation">,</span> size<span class="token operator">&gt;</span><span class="token operator">&amp;</span> array<span class="token punctuation brace-round brace-close brace-level-1" id="pair-94-open">)</span> <span class="token comment">// we're explicitly defining type char here</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-98-close">{</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-95-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-97-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-97-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-95-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-96-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-96-open">]</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-98-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  As you can see here, we’ve explicitly declared that this function will only
  work for StaticArray of type char, but size is still a templated expression
  parameter, so it will work for char arrays of any size. That’s all there is to
  it!
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>Here’s a full program using this:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span> <span class="token comment">// size is the expression parameter</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">StaticArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-128-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token comment">// The expression parameter controls the size of the array</span>
	T m_array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-117-close">[</span>size<span class="token punctuation brace-square brace-close brace-level-2" id="pair-117-open">]</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-124-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-124-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	T<span class="token operator">*</span> <span class="token function">getArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-99-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-99-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-125-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-125-open">}</span>

	<span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-118-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-118-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-100-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-100-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-126-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-119-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-119-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-126-open">}</span>
	T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-120-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-120-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-101-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-101-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-127-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-121-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-121-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-127-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-128-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-102-close">(</span><span class="token keyword keyword-const">const</span> StaticArray<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> size<span class="token operator">&gt;</span><span class="token operator">&amp;</span> array<span class="token punctuation brace-round brace-close brace-level-1" id="pair-102-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-130-close">{</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-103-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-129-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-129-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-103-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-122-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-122-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-130-open">}</span>

<span class="token comment">// overload of print() function for partially specialized StaticArray&lt;char, size&gt;</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-104-close">(</span><span class="token keyword keyword-const">const</span> StaticArray<span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token punctuation">,</span> size<span class="token operator">&gt;</span><span class="token operator">&amp;</span> array<span class="token punctuation brace-round brace-close brace-level-1" id="pair-104-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-132-close">{</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-105-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-131-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-131-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-105-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-123-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-123-open">]</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-132-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-106-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-106-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-137-close">{</span>
	<span class="token comment">// Declare an char array of size 14</span>
	StaticArray<span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token operator">&gt;</span> char14<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-133-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-133-open">}</span><span class="token punctuation">;</span>

	<span class="token comment">// Copy some data into it</span>
	<span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>string_view hello14<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-134-close">{</span> <span class="token string">"Hello, world!"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-134-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-110-close">(</span>hello14<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-107-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-107-open">)</span><span class="token punctuation">,</span> hello14<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-108-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-108-open">)</span><span class="token punctuation">,</span> char14<span class="token punctuation">.</span><span class="token function">getArray</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-109-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-109-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-110-open">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Print the array</span>
	<span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-111-close">(</span>char14<span class="token punctuation brace-round brace-close brace-level-2" id="pair-111-open">)</span><span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

	<span class="token comment">// Now declare an char array of size 12</span>
	StaticArray<span class="token operator">&lt;</span><span class="token keyword keyword-char">char</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token operator">&gt;</span> char12<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-135-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-135-open">}</span><span class="token punctuation">;</span>

	<span class="token comment">// Copy some data into it</span>
	<span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>string_view hello12<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-136-close">{</span> <span class="token string">"Hello, mom!"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-136-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-115-close">(</span>hello12<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-112-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-112-open">)</span><span class="token punctuation">,</span> hello12<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-113-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-113-open">)</span><span class="token punctuation">,</span> char12<span class="token punctuation">.</span><span class="token function">getArray</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-114-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-114-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-115-open">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Print the array</span>
	<span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-116-close">(</span>char12<span class="token punctuation brace-round brace-close brace-level-2" id="pair-116-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-137-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This prints:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_11_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<pre>
Hello, world! Hello, mom!
</pre>
<p>Just as we expect.</p>
<p>
  Partial template specialization can only be used with classes, not template
  functions (functions must be fully specialized). Our
  <code>void print(StaticArray&lt;char, size&gt; &amp;array)</code> example
  works because the print function is not partially specialized (it’s just an
  overloaded template function that happens to have a partially-specialized
  class parameter).
</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  Partial template specialization for member functions
</p>
<p>
  The limitation on the partial specialization of functions can lead to some
  challenges when dealing with member functions. For example, what if we had
  defined StaticArray like this?
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">StaticArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-154-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    T m_array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-144-close">[</span>size<span class="token punctuation brace-square brace-close brace-level-2" id="pair-144-open">]</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-150-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-150-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    T<span class="token operator">*</span> <span class="token function">getArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-138-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-138-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-151-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-151-open">}</span>

    <span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-145-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-145-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-139-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-139-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-152-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-146-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-146-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-152-open">}</span>
    T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-147-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-147-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-140-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-140-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-153-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-148-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-148-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-153-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-141-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-141-open">)</span> <span class="token keyword keyword-const">const</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-154-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token class-name">StaticArray</span><span class="token operator">&lt;</span>T<span class="token punctuation">,</span> size<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-142-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-142-open">)</span> <span class="token keyword keyword-const">const</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-156-close">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-143-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-155-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-155-open">}</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-143-open">)</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> m_array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-149-close">[</span>i<span class="token punctuation brace-square brace-close brace-level-2" id="pair-149-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-156-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  print() is now a member function of class
  <code>StaticArray&lt;T, int&gt;</code>. So what happens when we want to
  partially specialize print(), so that it works differently? You might try
  this:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// Doesn't work, can't partially specialize functions</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token class-name">StaticArray</span><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> size<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-157-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-157-open">)</span> <span class="token keyword keyword-const">const</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-161-close">{</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-158-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-160-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-160-open">}</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-158-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>scientific <span class="token operator">&lt;&lt;</span> m_array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-159-close">[</span>i<span class="token punctuation brace-square brace-close brace-level-2" id="pair-159-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-161-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Unfortunately, this doesn’t work, because we’re trying to partially specialize
  a function, which is disallowed.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_12_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  So how do we get around this? One obvious way is to partially specialize the
  entire class:
</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">StaticArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-198-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	T m_array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-180-close">[</span>size<span class="token punctuation brace-square brace-close brace-level-2" id="pair-180-open">]</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-194-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-194-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	T<span class="token operator">*</span> <span class="token function">getArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-162-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-162-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-195-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-195-open">}</span>

	<span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-181-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-181-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-163-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-163-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-196-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-182-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-182-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-196-open">}</span>
	T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-183-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-183-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-164-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-164-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-197-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-184-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-184-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-197-open">}</span>

	<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-165-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-165-open">)</span> <span class="token keyword keyword-const">const</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-198-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token class-name">StaticArray</span><span class="token operator">&lt;</span>T<span class="token punctuation">,</span> size<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-166-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-166-open">)</span> <span class="token keyword keyword-const">const</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-200-close">{</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-167-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-199-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-199-open">}</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-167-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> m_array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-185-close">[</span>i<span class="token punctuation brace-square brace-close brace-level-2" id="pair-185-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-200-open">}</span>

<span class="token comment">// Partially specialized class</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">StaticArray</span><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> size<span class="token operator">&gt;</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-205-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-double">double</span> m_array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-186-close">[</span>size<span class="token punctuation brace-square brace-close brace-level-2" id="pair-186-open">]</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-201-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-201-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token keyword keyword-double">double</span><span class="token operator">*</span> <span class="token function">getArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-168-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-168-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-202-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-202-open">}</span>

	<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-double">double</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-187-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-187-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-169-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-169-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-203-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-188-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-188-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-203-open">}</span>
	<span class="token keyword keyword-double">double</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-189-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-189-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-170-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-170-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-204-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-190-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-190-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-204-open">}</span>

	<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-171-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-171-open">)</span> <span class="token keyword keyword-const">const</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-205-open">}</span><span class="token punctuation">;</span>

<span class="token comment">// Member function of partially specialized class</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token class-name">StaticArray</span><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> size<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-172-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-172-open">)</span> <span class="token keyword keyword-const">const</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-207-close">{</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-173-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-206-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-206-open">}</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-173-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>scientific <span class="token operator">&lt;&lt;</span> m_array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-191-close">[</span>i<span class="token punctuation brace-square brace-close brace-level-2" id="pair-191-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-207-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-174-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-174-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-212-close">{</span>
	<span class="token comment">// declare an integer array with room for 6 integers</span>
	StaticArray<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token operator">&gt;</span> intArray<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-208-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-208-open">}</span><span class="token punctuation">;</span>

	<span class="token comment">// Fill it up in order, then print it</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-175-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-209-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-209-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-175-open">)</span>
		intArray<span class="token punctuation brace-square brace-open brace-level-2" id="pair-192-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-192-open">]</span> <span class="token operator">=</span> count<span class="token punctuation">;</span>

	intArray<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-176-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-176-open">)</span><span class="token punctuation">;</span>

	<span class="token comment">// declare a double buffer with room for 4 doubles</span>
	StaticArray<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span> doubleArray<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-210-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-210-open">}</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-177-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-211-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-211-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-177-open">)</span>
		doubleArray<span class="token punctuation brace-square brace-open brace-level-2" id="pair-193-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-193-open">]</span> <span class="token operator">=</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-178-close">(</span><span class="token number">4.0</span> <span class="token operator">+</span> <span class="token number">0.1</span> <span class="token operator">*</span> count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-178-open">)</span><span class="token punctuation">;</span>

	doubleArray<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-179-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-179-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-212-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This prints:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_13_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<pre>
0 1 2 3 4 5
4.000000e+00 4.100000e+00 4.200000e+00 4.300000e+00
</pre>
<p>
  This works because <code>StaticArray&lt;double, size&gt;::print()</code> is no
  longer a partially specialized function -- it is a non-specialized member of
  partially specialized class <code>StaticArray&lt;double, size&gt;</code>.
</p>
<p>
  However, this isn’t a great solution, because we have to duplicate a lot of
  code from <code>StaticArray&lt;T, size&gt;</code> to
  <code>StaticArray&lt;double, size&gt;</code>.
</p>
<p>
  If only there were some way to reuse the code in
  <code>StaticArray&lt;T, size&gt;</code> in
  <code>StaticArray&lt;double, size&gt;</code>. Sounds like a job for
  inheritance!
</p>
<p>You might start off trying to write that code like this:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span> <span class="token comment">// size is the expression parameter</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">StaticArray</span><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> size<span class="token operator">&gt;</span><span class="token operator">:</span> <span class="token keyword keyword-public">public</span> StaticArray<span class="token operator">&lt;</span>T<span class="token punctuation">,</span> size<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  But this doesn’t work, because we’ve used <code>T</code> without defining it.
  There is no syntax that allows us to inherit in such a manner.
</p>
<div class="code-block code-block-8" style="margin: 8px 0; clear: both"></div>

<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">As an aside…</p>
  <p>
    Even if we were able to define <code>T</code> as a type template parameter,
    when <code>StaticArray&lt;double, size&gt;</code> was instantiated, the
    compiler would need to replace the <code>T</code> in
    <code>StaticArray&lt;T, size&gt;</code> with an actual type. What actual
    type would it use? The only type that makes sense is <code>T=double</code>,
    but that would leave <code>StaticArray&lt;double, size&gt;</code> inheriting
    from itself!
  </p>
</div>
<p>Fortunately, there’s a workaround, by using a common base class:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">StaticArray_Base</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-241-close">{</span>
<span class="token keyword keyword-protected">protected</span><span class="token operator">:</span>
	T m_array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-226-close">[</span>size<span class="token punctuation brace-square brace-close brace-level-2" id="pair-226-open">]</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-235-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-235-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	T<span class="token operator">*</span> <span class="token function">getArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-213-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-213-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-236-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-236-open">}</span>

	<span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-227-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-227-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-214-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-214-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-237-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-228-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-228-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-237-open">}</span>
	T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-229-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-229-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-215-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-215-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-238-close">{</span> <span class="token keyword keyword-return">return</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-230-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-230-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-238-open">}</span>

	<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-216-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-216-open">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-240-close">{</span>
		<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-217-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-239-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-239-open">}</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-3" id="pair-217-open">)</span>
			std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-231-close">[</span>i<span class="token punctuation brace-square brace-close brace-level-3" id="pair-231-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-240-open">}</span>

	<span class="token comment">// Don't forget a virtual destructor if you're going to use virtual function resolution</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-241-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">StaticArray</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">StaticArray_Base</span><span class="token operator">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">size</span><span class="token operator">&gt;</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-242-close">{</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-242-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span> size<span class="token operator">&gt;</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">StaticArray</span><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> size<span class="token operator">&gt;</span><span class="token operator">:</span> <span class="token keyword keyword-public">public</span> StaticArray_Base<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> size<span class="token operator">&gt;</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-245-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>

	<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-218-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-218-open">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-244-close">{</span>
		<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-219-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-243-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-243-open">}</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-3" id="pair-219-open">)</span>
			std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>scientific <span class="token operator">&lt;&lt;</span> <span class="token keyword keyword-this">this</span><span class="token operator">-&gt;</span>m_array<span class="token punctuation brace-square brace-open brace-level-3" id="pair-232-close">[</span>i<span class="token punctuation brace-square brace-close brace-level-3" id="pair-232-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
<span class="token comment">// note: The this-&gt; prefix in the above line is needed.</span>
<span class="token comment">// See https://stackoverflow.com/a/6592617 or https://isocpp.org/wiki/faq/templates#nondependent-name-lookup-members for more info on why.</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-244-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-245-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-220-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-220-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-250-close">{</span>
	<span class="token comment">// declare an integer array with room for 6 integers</span>
	StaticArray<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token operator">&gt;</span> intArray<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-246-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-246-open">}</span><span class="token punctuation">;</span>

	<span class="token comment">// Fill it up in order, then print it</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-221-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-247-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-247-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-221-open">)</span>
		intArray<span class="token punctuation brace-square brace-open brace-level-2" id="pair-233-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-233-open">]</span> <span class="token operator">=</span> count<span class="token punctuation">;</span>

	intArray<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-222-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-222-open">)</span><span class="token punctuation">;</span>

	<span class="token comment">// declare a double buffer with room for 4 doubles</span>
	StaticArray<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span> doubleArray<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-248-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-248-open">}</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-223-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-249-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-249-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-223-open">)</span>
		doubleArray<span class="token punctuation brace-square brace-open brace-level-2" id="pair-234-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-234-open">]</span> <span class="token operator">=</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-224-close">(</span><span class="token number">4.0</span> <span class="token operator">+</span> <span class="token number">0.1</span> <span class="token operator">*</span> count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-224-open">)</span><span class="token punctuation">;</span>

	doubleArray<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-225-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-225-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-250-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This prints the same as above, but has significantly less duplicated code.
</p>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/partial-template-specialization-for-pointers/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">26.6</span>Partial template
            specialization for pointers
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/class-template-specialization/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">26.4</span>Class template
            specialization
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
