<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p class="cpp-section">Chapter Review</p>
<p>
  <strong>Fixed-size arrays</strong> (or <strong>fixed-length arrays</strong>)
  require that the length of the array be known at the point of instantiation,
  and that length cannot be changed afterward. C-style arrays and
  <code>std::array</code> are both fixed-size arrays. Dynamic arrays can be
  resized at runtime. <code>std::vector</code> is a dynamic array.
</p>
<p>
  The length of a <code>std::array</code> must be a constant expression. Most
  often, the value provided for the length will be an integer literal, constexpr
  variable, or an unscoped enumerator.
</p>
<p>
  <code>std::array</code> is an aggregate. This means it has no constructors,
  and instead is initialized using aggregate initialization.
</p>
<p>
  Define your <code>std::array</code> as constexpr whenever possible. If your
  <code>std::array</code> is not constexpr, consider using a
  <code>std::vector</code> instead.
</p>
<p>
  Use class template argument deduction (CTAD) to have the compiler deduce the
  type and length of a std::array from its initializers.
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p>
  <code>std::array</code> is implemented as a template struct whose declaration
  looks like this:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-template">template</span><span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>size_t N<span class="token operator">&gt;</span> <span class="token comment">// N is a non-type template parameter</span>
<span class="token keyword keyword-struct">struct</span> <span class="token class-name">array</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  The non-type template parameter representing the array length (<code>N</code>)
  has type <code>std::size_t</code>.
</p>
<p>To get the length of a <code>std::array</code>:</p>
<ul>
  <li>
    We can ask a <code>std::array</code> object for its length using the
    <code>size()</code> member function (which returns the length as unsigned
    <code>size_type</code>).
  </li>
  <li>
    In C++17, we can use the <code>std::size()</code> non-member function (which
    for <code>std::array</code> just calls the <code>size()</code> member
    function, thus returning the length as unsigned <code>size_type</code>).
  </li>
  <li>
    In C++20, we can use the <code>std::ssize()</code> non-member function,
    which returns the length as a large <em>signed</em> integral type
    (usually<code>std::ptrdiff_t</code>).
  </li>
</ul>
<p>
  All three of these functions will return the length as a constexpr value,
  except when called on a <code>std::array</code> passed by reference. This
  defect has been addressed in C++23 by
  <a
    href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2280r4.html"
    >P2280</a
  >.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: visible;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0;
          position: absolute;
          top: 0;
          border: 0;
          width: 1027px;
          height: 280px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="280"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2176825630&amp;adf=3770410161&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749238456&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-17-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963189337&amp;bpp=1&amp;bdt=531&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=2884900302753&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=892&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=42532523%2C95353387%2C95362656%2C95363080%2C95365225%2C95365235%2C95344788%2C95359266%2C95365118%2C95365797&amp;oid=2&amp;pvsid=473852210784990&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;fsb=1&amp;dtd=24"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CMejhrzrrI4DFUROwgUd8OYVzg"
      ></iframe></div
  ></ins>
</div>
<p>To index a <code>std::array</code>:</p>
<ul>
  <li>
    Use the subscript operator (<code>operator[]</code>). No bounds checking is
    done in this case, and passing in an invalid index will result in undefined
    behavior.
  </li>
  <li>
    Use the <code>at()</code> member function that does subscripting with
    runtime bounds checking. We recommend avoiding this function since we
    typically want to do bounds checking before indexing, or we want
    compile-time bounds checking.
  </li>
  <li>
    Use the <code>std::get()</code> function template, which takes the index as
    a non-type template argument, and does compile-time bounds checking.
  </li>
</ul>
<p>
  You can pass <code>std::array</code> with different element types and lengths
  to a function using a function template with the template parameter
  declaration <code>template &lt;typename T, std::size_t N&gt;</code>. Or in
  C++20, use <code>template &lt;typename T, auto N&gt;</code>.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2176825630&amp;adf=2162608698&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749238456&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-17-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963189337&amp;bpp=1&amp;bdt=531&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=2884900302753&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1365&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=42532523%2C95353387%2C95362656%2C95363080%2C95365225%2C95365235%2C95344788%2C95359266%2C95365118%2C95365797&amp;oid=2&amp;pvsid=473852210784990&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=1&amp;fsb=1&amp;dtd=25"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-google-query-id="CIKrhrzrrI4DFb1FwgUdUxEBaw"
        data-load-complete="true"
      ></iframe></div
  ></ins>
</div>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>
  Returning a <code>std::array</code> by value will make a copy of the array and
  all elements, but this may be okay if the array is small and the elements
  aren’t expensive to copy. Using an out parameter instead may be a better
  choice in some contexts.
</p>
<p>
  When initializing a <code>std::array</code> with a struct, class, or array and
  not providing the element type with each initializer, you’ll need an extra
  pair of braces so that the compiler will properly interpret what to
  initialize. This is an artifact of aggregate initialization, and other
  standard library container types (that use list constructors) do not require
  the double braces in these cases.
</p>
<p>
  Aggregates in C++ support a concept called <strong>brace elision</strong>,
  which lays out some rules for when multiple braces may be omitted. Generally,
  you can omit braces when initializing a <code>std::array</code> with scalar
  (single) values, or when initializing with class types or arrays where the
  type is explicitly named with each element.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2176825630&amp;adf=3895050840&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749238456&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-17-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963189337&amp;bpp=1&amp;bdt=531&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=2884900302753&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1844&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=42532523%2C95353387%2C95362656%2C95363080%2C95365225%2C95365235%2C95344788%2C95359266%2C95365118%2C95365797&amp;oid=2&amp;pvsid=473852210784990&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=2&amp;fsb=1&amp;dtd=26"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CPazhrzrrI4DFRBUwgUdgpcBsQ"
      ></iframe></div
  ></ins>
</div>
<p>
  You can not have an array of references, but you can have an array of
  <code>std::reference_wrapper</code>, which behaves like a modifiable lvalue
  reference.
</p>
<p>
  There are a few things worth noting about <code>std::reference_wrapper</code>:
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<ul>
  <li>
    <code>Operator=</code> will reseat a
    <code>std::reference_wrapper</code> (change which object is being
    referenced).
  </li>
  <li>
    <code>std::reference_wrapper&lt;T&gt;</code> will implicitly convert to
    <code>T&amp;</code>.
  </li>
  <li>
    The <code>get()</code> member function can be used to get a
    <code>T&amp;</code>. This is useful when we want to update the value of the
    object being referenced.
  </li>
</ul>
<p>
  The <code>std::ref()</code> and <code>std::cref()</code> functions were
  provided as shortcuts to create <code>std::reference_wrapper</code> and
  <code>const std::reference_wrapper</code> wrapped objects.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2176825630&amp;adf=3025471783&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749238456&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-17-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963189337&amp;bpp=1&amp;bdt=531&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=2884900302753&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2331&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=42532523%2C95353387%2C95362656%2C95363080%2C95365225%2C95365235%2C95344788%2C95359266%2C95365118%2C95365797&amp;oid=2&amp;pvsid=473852210784990&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=3&amp;fsb=1&amp;dtd=27"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CObFhrzrrI4DFUZawgUdVkIIsg"
      ></iframe></div
  ></ins>
</div>
<p>
  Use <code>static_assert</code> whenever possible to ensure a
  <code>constexpr std::array</code> using CTAD has the correct number of
  initializers.
</p>
<p>
  C-style arrays were inherited from the C language, and are built-in to the
  core language of C++. Because they are part of the core language, C-style
  arrays have their own special declaration syntax. In an C-style array
  declaration, we use square brackets ([]) to tell the compiler that a declared
  object is a C-style array. Inside the square brackets, we can optionally
  provide the length of the array, which is an integral value of type
  std::size_t that tells the compiler how many elements are in the array. The
  length of a C-style array must be a constant expression.
</p>
<p>
  C-style arrays are aggregates, which means they can be initialized using
  aggregate initialization. When using an initializer list to initialize all
  elements of a C-style array, it’s preferable to omit the length and let the
  compiler calculate the length of the array.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2176825630&amp;adf=1369941306&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749238456&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-17-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963189337&amp;bpp=1&amp;bdt=531&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=6&amp;correlator=2884900302753&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2801&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=42532523%2C95353387%2C95362656%2C95363080%2C95365225%2C95365235%2C95344788%2C95359266%2C95365118%2C95365797&amp;oid=2&amp;pvsid=473852210784990&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=4&amp;fsb=1&amp;dtd=28"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CPHWhrzrrI4DFbpEwgUduWE8-Q"
      ></iframe></div
  ></ins>
</div>
<p>
  C-style arrays can be indexed via <code>operator[]</code>. The index of a
  C-style array can be either a signed or an unsigned integer, or an unscoped
  enumeration. This means that C-style arrays are not subject to all of the sign
  conversion indexing issues that the standard library container classes have!
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<p>C-style arrays can be const or constexpr.</p>
<p>To get the length of a C-style array:</p>
<ul>
  <li>
    In C++17, we can use the <code>std::size()</code> non-member function, which
    returns the length as unsigned <code>std::size_t</code>.
  </li>
  <li>
    In C++20, we can use the <code>std::ssize()</code> non-member function,
    which returns the length as a large <em>signed</em> integral type
    (usually<code>std::ptrdiff_t</code>).
  </li>
</ul>
<p>
  In most cases, when a C-style array is used in an expression, the array will
  be implicitly converted into a pointer to the element type, initialized with
  the address of the first element (with index 0). Colloquially, this is called
  <strong>array decay</strong> (or just decay for short).
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_10"
        name="aswift_10"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2176825630&amp;adf=354163691&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749238456&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-17-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963189337&amp;bpp=1&amp;bdt=531&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=7&amp;correlator=2884900302753&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3320&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=42532523%2C95353387%2C95362656%2C95363080%2C95365225%2C95365235%2C95344788%2C95359266%2C95365118%2C95365797&amp;oid=2&amp;pvsid=473852210784990&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=11&amp;uci=a!b&amp;btvi=5&amp;fsb=1&amp;dtd=29"
        data-google-container-id="a!b"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CJLthrzrrI4DFdJFwgUdu78eVw"
      ></iframe></div
  ></ins>
</div>
<p>
  <strong>Pointer arithmetic</strong> is a feature the allows us to apply
  certain integer arithmetic operators (addition, subtraction, increment, or
  decrement) to a pointer to produce a new memory address. Given some pointer
  <code>ptr</code>, <code>ptr + 1</code> returns the address of the next
  <em>object</em> in memory (based on the type being pointed to).
</p>
<p>
  Use subscripting when indexing from the start of the array (element 0), so the
  array indices line up with the element.<br />
  Use pointer arithmetic when doing relative positioning from a given element.
</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<p>
  C-style strings are just C-style arrays whose element type is
  <code>char</code> or <code>const char</code>. As such, C-style strings will
  decay.
</p>
<p>
  The <strong>dimension</strong> of an array is the number of indices needed to
  select an element.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_11_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_11"
        name="aswift_11"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2176825630&amp;adf=3785188541&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749238456&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-17-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963189337&amp;bpp=1&amp;bdt=531&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=8&amp;correlator=2884900302753&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3782&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=42532523%2C95353387%2C95362656%2C95363080%2C95365225%2C95365235%2C95344788%2C95359266%2C95365118%2C95365797&amp;oid=2&amp;pvsid=473852210784990&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=12&amp;uci=a!c&amp;btvi=6&amp;fsb=1&amp;dtd=30"
        data-google-container-id="a!c"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CMjIh7zrrI4DFc1OwgUdQnIcZQ"
      ></iframe></div
  ></ins>
</div>
<p>
  An array containing only a single dimension is called a
  <strong>single-dimensional array</strong> or a
  <strong>one-dimensional array</strong> (sometimes abbreviated as a
  <strong>1d array</strong>). An array of arrays is called a
  <strong>two-dimensional array</strong> (sometimes abbreviated as a
  <strong>2d array</strong>) because it has two subscripts. Arrays with more
  than one dimension are called <strong>multidimensional arrays</strong>.
  <strong>Flattening</strong> an array is a process of reducing the
  dimensionality of an array (often down to a single dimension).
</p>
<p>
  In C++23, <code>std::mdspan</code> is a view that provides a multidimensional
  array interface for a contiguous sequence of elements.
</p>
<p class="cpp-section cpp-topline" style="clear: both">Quiz time</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_12_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_12"
        name="aswift_12"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2176825630&amp;adf=3337768028&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749238456&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-17-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963189342&amp;bpp=1&amp;bdt=536&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=9&amp;correlator=2884900302753&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3941&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=42532523%2C95353387%2C95362656%2C95363080%2C95365225%2C95365235%2C95344788%2C95359266%2C95365118%2C95365797&amp;oid=2&amp;pvsid=473852210784990&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=13&amp;uci=a!d&amp;btvi=7&amp;fsb=1&amp;dtd=214"
        data-google-container-id="a!d"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CKfQkrzrrI4DFcBHwgUdiqYHKw"
      ></iframe></div
  ></ins>
</div>
<p class="cpp-quiz-question" style="clear: both">Question #1</p>
<p>What’s wrong with each of these snippets, and how would you fix it?</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>

<p>a)</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-0-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-0-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-7-close">{</span>
    std<span class="token double-colon punctuation">::</span>array arr <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-4-close">{</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-4-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-2-close">(</span>std<span class="token double-colon punctuation">::</span>size_t count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-5-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-5-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;=</span> std<span class="token double-colon punctuation">::</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-1-close">(</span>arr<span class="token punctuation brace-round brace-close brace-level-3" id="pair-1-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-2-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-6-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation brace-square brace-open brace-level-3" id="pair-3-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-3" id="pair-3-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-6-open">}</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-7-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_0'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_0" style="display: none">
  <p>
    The for-loop has an off-by-one error, and tries to access the array element
    with index 4, which does not exist.
  </p>
  <p>
    Solution: the conditional in the for loop should use &lt; instead of &lt;=.
  </p>
</div>
<p>b)</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-void">void</span> <span class="token function">printArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-8-close">(</span><span class="token keyword keyword-int">int</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-12-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-12-open">]</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-8-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-15-close">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-9-close">(</span><span class="token keyword keyword-int">int</span> element <span class="token operator">:</span> array<span class="token punctuation brace-round brace-close brace-level-2" id="pair-9-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-14-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> element <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-14-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-15-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-10-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-10-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-17-close">{</span>
    <span class="token keyword keyword-int">int</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-13-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-13-open">]</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-16-close">{</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-16-open">}</span><span class="token punctuation">;</span>

    <span class="token function">printArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-11-close">(</span>array<span class="token punctuation brace-round brace-close brace-level-2" id="pair-11-open">)</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-17-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_1'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_1" style="display: none">
  <p>
    <code>array</code> decays to a pointer when it is passed to
    <code>printArray()</code>. Range-based for-loops can’t work with a pointer
    to an array because the size of the array isn’t known.
  </p>
  <p>Solution: use <code>std::array</code> instead, which doesn’t decay.</p>
</div>
<p>c)</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-18-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-18-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-24-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter the number of test scores: "</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>size_t length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-21-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-21-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> length<span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> length<span class="token operator">&gt;</span> scores<span class="token punctuation">;</span>

    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-19-close">(</span>std<span class="token double-colon punctuation">::</span>size_t i <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-22-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-22-open">}</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-19-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-23-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter score "</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">": "</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> scores<span class="token punctuation brace-square brace-open brace-level-3" id="pair-20-close">[</span>i<span class="token punctuation brace-square brace-close brace-level-3" id="pair-20-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-23-open">}</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-24-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_2'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_2" style="display: none">
  <p>
    <code>length</code> is not a constant expression, and cannot be used to
    define the length of <code>std::array</code>.
  </p>
  <p>Solution: use a <code>std::vector</code> instead.</p>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">Question #2</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_13_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_13"
        name="aswift_13"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2176825630&amp;adf=1914691342&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749238456&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fchapter-17-summary-and-quiz%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963189347&amp;bpp=1&amp;bdt=540&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=10&amp;correlator=2884900302753&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3861&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=42532523%2C95353387%2C95362656%2C95363080%2C95365225%2C95365235%2C95344788%2C95359266%2C95365118%2C95365797&amp;oid=2&amp;pvsid=473852210784990&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=14&amp;uci=a!e&amp;btvi=8&amp;fsb=1&amp;dtd=384"
        data-google-container-id="a!e"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CP3UnLzrrI4DFbtFwgUdKtM7gQ"
      ></iframe></div
  ></ins>
</div>
<p>
  In this quiz, we’re going to implement Roscoe’s potion emporium, the finest
  potion shop in the land! This is going to be a bigger challenge.
</p>
<p>Implement a program that outputs the following:</p>
<div class="code-block code-block-8" style="margin: 8px 0; clear: both"></div>

<pre>
Welcome to Roscoe's potion emporium!
Enter your name: Alex
Hello, Alex, you have 85 gold.

Here is our selection for today:
0) healing costs 20
1) mana costs 30
2) speed costs 12
3) invisibility costs 50
Enter the number of the potion you'd like to buy, or 'q' to quit: a
That is an invalid input.  Try again: 3
You purchased a potion of invisibility.  You have 35 gold left.

Here is our selection for today:
0) healing costs 20
1) mana costs 30
2) speed costs 12
3) invisibility costs 50
Enter the number of the potion you'd like to buy, or 'q' to quit: 4
That is an invalid input.  Try again: 2
You purchased a potion of speed.  You have 23 gold left.

Here is our selection for today:
0) healing costs 20
1) mana costs 30
2) speed costs 12
3) invisibility costs 50
Enter the number of the potion you'd like to buy, or 'q' to quit: 2
You purchased a potion of speed.  You have 11 gold left.

Here is our selection for today:
0) healing costs 20
1) mana costs 30
2) speed costs 12
3) invisibility costs 50
Enter the number of the potion you'd like to buy, or 'q' to quit: 4
You can not afford that.

Here is our selection for today:
0) healing costs 20
1) mana costs 30
2) speed costs 12
3) invisibility costs 50
Enter the number of the potion you'd like to buy, or 'q' to quit: q

Your inventory contains: 
2x potion of speed
1x potion of invisibility
You escaped with 11 gold remaining.

Thanks for shopping at Roscoe's potion emporium!
</pre>
<p>The player starts with a randomized amount of gold, between 80 and 120.</p>
<p>
  Sound fun? Let’s do it! Because this will be hard to implement all at once,
  we’ll develop this in steps.
</p>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #1</p>
<p>
  Create a <code>Potion</code> namespace containing an enum named
  <code>Type</code> containing the potion types. Create two
  <code>std::array</code>: an <code>int</code> array to hold the potion costs,
  and a <code>std::string_view</code> array to hold the potion names.
</p>
<p>
  Also write a function named <code>shop()</code> that enumerates through the
  list of <code>Potions</code> and prints their numbers, names, and cost.
</p>
<p>The program should output the following:</p>
<pre>
Here is our selection for today:
0) healing costs 20
1) mana costs 30
2) speed costs 12
3) invisibility costs 50
</pre>
<p>
  <a
    class="hint_link_show"
    href="javascript:void(0)"
    onclick="cppHintToggle(document.getElementById('cpp_hint_id_0'), this, 'Show Hint', '')"
    >Show Hint</a
  >
</p>
<div
  class="wphint"
  id="cpp_hint_id_0"
  style="display: none; margin-bottom: 1em"
>
  Hint: We show a method for iterating through an enumeration using a
  range-based for-loop in lesson
  <a href="https://www.learncpp.com/cpp-tutorial/stdarray-and-enumerations/"
    >17.6 -- std::array and enumerations</a
  >.
</div>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_3'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_3" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-namespace">namespace</span> Potion
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-41-close">{</span>
    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Type</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-37-close">{</span>
    healing<span class="token punctuation">,</span>
    mana<span class="token punctuation">,</span>
    speed<span class="token punctuation">,</span>
    invisibility<span class="token punctuation">,</span>
    max_potions
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-37-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array types <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-38-close">{</span> healing<span class="token punctuation">,</span> mana<span class="token punctuation">,</span> speed<span class="token punctuation">,</span> invisibility <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-38-open">}</span><span class="token punctuation">;</span> <span class="token comment">// An array of our enumerators</span>

    <span class="token comment">// We could put these in a struct, but since we only have two attributes we'll keep them separate for now</span>
    <span class="token comment">// We will explicitly define the element type so we don't have to use the sv suffix</span>
    <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string_view<span class="token punctuation">,</span> max_potions<span class="token operator">&gt;</span> name <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-39-close">{</span> <span class="token string">"healing"</span><span class="token punctuation">,</span> <span class="token string">"mana"</span><span class="token punctuation">,</span> <span class="token string">"speed"</span><span class="token punctuation">,</span> <span class="token string">"invisibility"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-39-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array cost <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-40-close">{</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-40-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-static_assert">static_assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-26-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-25-close">(</span>types<span class="token punctuation brace-round brace-close brace-level-3" id="pair-25-open">)</span> <span class="token operator">==</span> max_potions<span class="token punctuation brace-round brace-close brace-level-2" id="pair-26-open">)</span><span class="token punctuation">;</span>  <span class="token comment">// ensure 'all' contains the correct number of enumerators</span>
    <span class="token keyword keyword-static_assert">static_assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-28-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-27-close">(</span>cost<span class="token punctuation brace-round brace-close brace-level-3" id="pair-27-open">)</span> <span class="token operator">==</span> max_potions<span class="token punctuation brace-round brace-close brace-level-2" id="pair-28-open">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static_assert">static_assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-30-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-29-close">(</span>name<span class="token punctuation brace-round brace-close brace-level-3" id="pair-29-open">)</span> <span class="token operator">==</span> max_potions<span class="token punctuation brace-round brace-close brace-level-2" id="pair-30-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-41-open">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">shop</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-31-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-31-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-42-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Here is our selection for today:\n"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-32-close">(</span><span class="token keyword keyword-auto">auto</span> p<span class="token operator">:</span> Potion<span class="token double-colon punctuation">::</span>types<span class="token punctuation brace-round brace-close brace-level-2" id="pair-32-open">)</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> p <span class="token operator">&lt;&lt;</span> <span class="token string">") "</span> <span class="token operator">&lt;&lt;</span> Potion<span class="token double-colon punctuation">::</span>name<span class="token punctuation brace-square brace-open brace-level-2" id="pair-35-close">[</span>p<span class="token punctuation brace-square brace-close brace-level-2" id="pair-35-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" costs "</span> <span class="token operator">&lt;&lt;</span> Potion<span class="token double-colon punctuation">::</span>cost<span class="token punctuation brace-square brace-open brace-level-2" id="pair-36-close">[</span>p<span class="token punctuation brace-square brace-close brace-level-2" id="pair-36-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-42-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-33-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-33-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-43-close">{</span>
    <span class="token function">shop</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-34-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-34-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-43-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #2</p>
<p>
  Create a <code>Player</code> class to store the player’s name, potion
  inventory, and gold. Add the introductory and goodbye text for Roscoe’s
  emporium. Get the player’s name and randomize their gold.
</p>
<p>
  Use the “Random.h” file in lesson
  <a
    href="https://www.learncpp.com/cpp-tutorial/global-random-numbers-random-h/#RandomH"
    >8.15 -- Global random numbers (Random.h)</a
  >
  to make randomization easy.
</p>
<p>The program should output the following:</p>
<pre>
Welcome to Roscoe's potion emporium!
Enter your name: Alex
Hello, Alex, you have 84 gold.

Here is our selection for today:
0) healing costs 20
1) mana costs 30
2) speed costs 12
3) invisibility costs 50

Thanks for shopping at Roscoe's potion emporium!
</pre>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_4'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_4" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Random.h"</span></span>

<span class="token keyword keyword-namespace">namespace</span> Potion
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-67-close">{</span>
    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Type</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-63-close">{</span>
        healing<span class="token punctuation">,</span>
        mana<span class="token punctuation">,</span>
        speed<span class="token punctuation">,</span>
        invisibility<span class="token punctuation">,</span>
        max_potions
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-63-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array types <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-64-close">{</span> healing<span class="token punctuation">,</span> mana<span class="token punctuation">,</span> speed<span class="token punctuation">,</span> invisibility <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-64-open">}</span><span class="token punctuation">;</span> <span class="token comment">// An array of our enumerators</span>

    <span class="token comment">// We could put these in a struct, but since we only have two attributes we'll keep them separate for now</span>
    <span class="token comment">// We will explicitly define the element type so we don't have to use the sv suffix</span>
    <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string_view<span class="token punctuation">,</span> max_potions<span class="token operator">&gt;</span> name <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-65-close">{</span> <span class="token string">"healing"</span><span class="token punctuation">,</span> <span class="token string">"mana"</span><span class="token punctuation">,</span> <span class="token string">"speed"</span><span class="token punctuation">,</span> <span class="token string">"invisibility"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-65-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array cost <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-66-close">{</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-66-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-static_assert">static_assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-45-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-44-close">(</span>types<span class="token punctuation brace-round brace-close brace-level-3" id="pair-44-open">)</span> <span class="token operator">==</span> max_potions<span class="token punctuation brace-round brace-close brace-level-2" id="pair-45-open">)</span><span class="token punctuation">;</span>  <span class="token comment">// ensure 'all' contains the correct number of enumerators</span>
    <span class="token keyword keyword-static_assert">static_assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-47-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-46-close">(</span>cost<span class="token punctuation brace-round brace-close brace-level-3" id="pair-46-open">)</span> <span class="token operator">==</span> max_potions<span class="token punctuation brace-round brace-close brace-level-2" id="pair-47-open">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static_assert">static_assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-49-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-48-close">(</span>name<span class="token punctuation brace-round brace-close brace-level-3" id="pair-48-open">)</span> <span class="token operator">==</span> max_potions<span class="token punctuation brace-round brace-close brace-level-2" id="pair-49-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-67-open">}</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Player</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-78-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> s_minStartingGold <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-68-close">{</span> <span class="token number">80</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-68-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> s_maxStartingGold <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-69-close">{</span> <span class="token number">120</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-69-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>string m_name <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-70-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-70-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_gold <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-71-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-71-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> Potion<span class="token double-colon punctuation">::</span>max_potions<span class="token operator">&gt;</span> m_inventory <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-72-close">{</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-72-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-explicit">explicit</span> <span class="token function">Player</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-50-close">(</span>std<span class="token double-colon punctuation">::</span>string_view name<span class="token punctuation brace-round brace-close brace-level-2" id="pair-50-open">)</span> <span class="token operator">:</span>
        m_name <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-73-close">{</span> name <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-73-open">}</span><span class="token punctuation">,</span>
        m_gold <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-74-close">{</span> <span class="token class-name">Random</span><span class="token double-colon punctuation">::</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-51-close">(</span>s_minStartingGold<span class="token punctuation">,</span> s_maxStartingGold<span class="token punctuation brace-round brace-close brace-level-3" id="pair-51-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-74-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-75-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-75-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">gold</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-52-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-52-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-76-close">{</span> <span class="token keyword keyword-return">return</span> m_gold<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-76-open">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">inventory</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-53-close">(</span>Potion<span class="token double-colon punctuation">::</span>Type p<span class="token punctuation brace-round brace-close brace-level-2" id="pair-53-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-77-close">{</span> <span class="token keyword keyword-return">return</span> m_inventory<span class="token punctuation brace-square brace-open brace-level-3" id="pair-60-close">[</span>p<span class="token punctuation brace-square brace-close brace-level-3" id="pair-60-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-77-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-78-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">shop</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-54-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-54-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-79-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Here is our selection for today:\n"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-55-close">(</span><span class="token keyword keyword-auto">auto</span> p<span class="token operator">:</span> Potion<span class="token double-colon punctuation">::</span>types<span class="token punctuation brace-round brace-close brace-level-2" id="pair-55-open">)</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> p <span class="token operator">&lt;&lt;</span> <span class="token string">") "</span> <span class="token operator">&lt;&lt;</span> Potion<span class="token double-colon punctuation">::</span>name<span class="token punctuation brace-square brace-open brace-level-2" id="pair-61-close">[</span>p<span class="token punctuation brace-square brace-close brace-level-2" id="pair-61-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" costs "</span> <span class="token operator">&lt;&lt;</span> Potion<span class="token double-colon punctuation">::</span>cost<span class="token punctuation brace-square brace-open brace-level-2" id="pair-62-close">[</span>p<span class="token punctuation brace-square brace-close brace-level-2" id="pair-62-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-79-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-56-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-56-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-82-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Welcome to Roscoe's potion emporium!\n"</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter your name: "</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>string name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-80-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-80-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">getline</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-57-close">(</span>std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> std<span class="token double-colon punctuation">::</span>ws<span class="token punctuation">,</span> name<span class="token punctuation brace-round brace-close brace-level-2" id="pair-57-open">)</span><span class="token punctuation">;</span> <span class="token comment">// read a full line of text into name</span>

    Player player <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-81-close">{</span> name <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-81-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello, "</span> <span class="token operator">&lt;&lt;</span> name <span class="token operator">&lt;&lt;</span> <span class="token string">", you have "</span> <span class="token operator">&lt;&lt;</span> player<span class="token punctuation">.</span><span class="token function">gold</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-58-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-58-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" gold.\n\n"</span><span class="token punctuation">;</span>

    <span class="token function">shop</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-59-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-59-open">)</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"\nThanks for shopping at Roscoe's potion emporium!\n"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-82-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #3</p>
<p>
  Add the ability to purchase potions, handling invalid input (treat any
  extraneous input as a failure). Print the player’s inventory after they leave.
  The program should be complete after this step.
</p>
<p>Make sure you test for the following cases:</p>
<ul>
  <li>User enters an invalid potion number (e.g. ‘d’)</li>
  <li>
    User enters a valid potion number but with extraneous input (e.g.
    <code>2d</code>, <code>25</code>)
  </li>
</ul>
<p>
  We cover invalid input handling in lesson
  <a
    href="https://www.learncpp.com/cpp-tutorial/stdcin-and-handling-invalid-input/"
    >9.5 -- std::cin and handling invalid input</a
  >.
</p>
<p>
  <a
    class="hint_link_show"
    href="javascript:void(0)"
    onclick="cppHintToggle(document.getElementById('cpp_hint_id_1'), this, 'Show Hint', '')"
    >Show Hint</a
  >
</p>
<div
  class="wphint"
  id="cpp_hint_id_1"
  style="display: none; margin-bottom: 1em"
>
  Hint: The user can enter either a number or ‘q’, so extract the user’s input
  to type <code>char</code>.
  <p></p>
  <p>
    To convert an ASCII number character to an int (e.g. <code>'5'</code> to
    <code>5</code>), you can use the following:
  </p>
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">charNumToInt</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-83-close">(</span><span class="token keyword keyword-char">char</span> c<span class="token punctuation brace-round brace-close brace-level-1" id="pair-83-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-84-close">{</span>
    <span class="token keyword keyword-return">return</span> c <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-84-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p>
  <a
    class="hint_link_show"
    href="javascript:void(0)"
    onclick="cppHintToggle(document.getElementById('cpp_hint_id_2'), this, 'Show Hint', '')"
    >Show Hint</a
  >
</p>
<div
  class="wphint"
  id="cpp_hint_id_2"
  style="display: none; margin-bottom: 1em"
>
  Hint: Write a function to handle user input. It should return the
  <code>Potion::Type</code> the user selected. If the user quit instead, the
  function can return <code>Potion::max_potions</code>. You will need to
  static_cast the user’s input to a <code>Potion::Type</code>.
</div>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_5'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_5" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;limits&gt;</span> <span class="token comment">// for std::numeric_limits</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Random.h"</span></span>

<span class="token keyword keyword-namespace">namespace</span> Potion
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-145-close">{</span>
    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Type</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-141-close">{</span>
        healing<span class="token punctuation">,</span>
        mana<span class="token punctuation">,</span>
        speed<span class="token punctuation">,</span>
        invisibility<span class="token punctuation">,</span>
        max_potions
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-141-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array types <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-142-close">{</span> healing<span class="token punctuation">,</span> mana<span class="token punctuation">,</span> speed<span class="token punctuation">,</span> invisibility <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-142-open">}</span><span class="token punctuation">;</span> <span class="token comment">// An array of our enumerators</span>

    <span class="token comment">// We could put these in a struct, but since we only have two attributes we'll keep them separate for now</span>
    <span class="token comment">// We will explicitly define the element type so we don't have to use the sv suffix</span>
    <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string_view<span class="token punctuation">,</span> max_potions<span class="token operator">&gt;</span> name <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-143-close">{</span> <span class="token string">"healing"</span><span class="token punctuation">,</span> <span class="token string">"mana"</span><span class="token punctuation">,</span> <span class="token string">"speed"</span><span class="token punctuation">,</span> <span class="token string">"invisibility"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-143-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array cost <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-144-close">{</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-144-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-static_assert">static_assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-86-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-85-close">(</span>types<span class="token punctuation brace-round brace-close brace-level-3" id="pair-85-open">)</span> <span class="token operator">==</span> max_potions<span class="token punctuation brace-round brace-close brace-level-2" id="pair-86-open">)</span><span class="token punctuation">;</span>  <span class="token comment">// ensure 'all' contains the correct number of enumerators</span>
    <span class="token keyword keyword-static_assert">static_assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-88-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-87-close">(</span>cost<span class="token punctuation brace-round brace-close brace-level-3" id="pair-87-open">)</span> <span class="token operator">==</span> max_potions<span class="token punctuation brace-round brace-close brace-level-2" id="pair-88-open">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static_assert">static_assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-90-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-89-close">(</span>name<span class="token punctuation brace-round brace-close brace-level-3" id="pair-89-open">)</span> <span class="token operator">==</span> max_potions<span class="token punctuation brace-round brace-close brace-level-2" id="pair-90-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-145-open">}</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Player</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-157-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> s_minStartingGold <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-146-close">{</span> <span class="token number">80</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-146-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> s_maxStartingGold <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-147-close">{</span> <span class="token number">120</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-147-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>string m_name <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-148-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-148-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_gold <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-149-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-149-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> Potion<span class="token double-colon punctuation">::</span>max_potions<span class="token operator">&gt;</span> m_inventory <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-150-close">{</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-150-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-explicit">explicit</span> <span class="token function">Player</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-91-close">(</span>std<span class="token double-colon punctuation">::</span>string_view name<span class="token punctuation brace-round brace-close brace-level-2" id="pair-91-open">)</span> <span class="token operator">:</span>
        m_name <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-151-close">{</span> name <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-151-open">}</span><span class="token punctuation">,</span>
        m_gold <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-152-close">{</span> <span class="token class-name">Random</span><span class="token double-colon punctuation">::</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-92-close">(</span>s_minStartingGold<span class="token punctuation">,</span> s_maxStartingGold<span class="token punctuation brace-round brace-close brace-level-3" id="pair-92-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-152-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-153-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-153-open">}</span>

    <span class="token comment">// returns false if can't afford, true if purchased</span>
    <span class="token keyword keyword-bool">bool</span> <span class="token function">buy</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-93-close">(</span>Potion<span class="token double-colon punctuation">::</span>Type type<span class="token punctuation brace-round brace-close brace-level-2" id="pair-93-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-154-close">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-94-close">(</span>m_gold <span class="token operator">&lt;</span> Potion<span class="token double-colon punctuation">::</span>cost<span class="token punctuation brace-square brace-open brace-level-4" id="pair-133-close">[</span>type<span class="token punctuation brace-square brace-close brace-level-4" id="pair-133-open">]</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-94-open">)</span>
            <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

        m_gold <span class="token operator">-=</span> Potion<span class="token double-colon punctuation">::</span>cost<span class="token punctuation brace-square brace-open brace-level-3" id="pair-134-close">[</span>type<span class="token punctuation brace-square brace-close brace-level-3" id="pair-134-open">]</span><span class="token punctuation">;</span>
        <span class="token operator">++</span>m_inventory<span class="token punctuation brace-square brace-open brace-level-3" id="pair-135-close">[</span>type<span class="token punctuation brace-square brace-close brace-level-3" id="pair-135-open">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-154-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">gold</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-95-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-95-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-155-close">{</span> <span class="token keyword keyword-return">return</span> m_gold<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-155-open">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">inventory</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-96-close">(</span>Potion<span class="token double-colon punctuation">::</span>Type p<span class="token punctuation brace-round brace-close brace-level-2" id="pair-96-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-156-close">{</span> <span class="token keyword keyword-return">return</span> m_inventory<span class="token punctuation brace-square brace-open brace-level-3" id="pair-136-close">[</span>p<span class="token punctuation brace-square brace-close brace-level-3" id="pair-136-open">]</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-156-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-157-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">ignoreLine</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-97-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-97-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-158-close">{</span>
    std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">ignore</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-99-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token class-name">numeric_limits</span><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>streamsize<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-98-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-98-open">)</span><span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-99-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-158-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">charNumToInt</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-100-close">(</span><span class="token keyword keyword-char">char</span> c<span class="token punctuation brace-round brace-close brace-level-1" id="pair-100-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-159-close">{</span>
    <span class="token keyword keyword-return">return</span> c <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-159-open">}</span>

Potion<span class="token double-colon punctuation">::</span>Type <span class="token function">whichPotion</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-101-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-101-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-165-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter the number of the potion you'd like to buy, or 'q' to quit: "</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-char">char</span> input<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-160-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-160-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-102-close">(</span><span class="token boolean">true</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-102-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-164-close">{</span>
        std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> input<span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-103-close">(</span><span class="token operator">!</span>std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation brace-round brace-close brace-level-3" id="pair-103-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-161-close">{</span>
            std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-104-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-104-open">)</span><span class="token punctuation">;</span> <span class="token comment">// put us back in 'normal' operation mode</span>
            <span class="token function">ignoreLine</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-105-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-105-open">)</span><span class="token punctuation">;</span> <span class="token comment">// and remove the bad input</span>
            <span class="token keyword keyword-continue">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-161-open">}</span>

        <span class="token comment">// If there is extraneous input, treat as failure case</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-108-close">(</span><span class="token operator">!</span>std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">eof</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-106-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-106-open">)</span> <span class="token operator">&amp;&amp;</span> std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-107-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-107-open">)</span> <span class="token operator">!=</span> <span class="token string">'\n'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-108-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-162-close">{</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"I didn't understand what you said.  Try again: "</span><span class="token punctuation">;</span>
            <span class="token function">ignoreLine</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-109-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-109-open">)</span><span class="token punctuation">;</span> <span class="token comment">// ignore any extraneous input</span>
            <span class="token keyword keyword-continue">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-162-open">}</span>

        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-110-close">(</span>input <span class="token operator">==</span> <span class="token string">'q'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-110-open">)</span>
            <span class="token keyword keyword-return">return</span> Potion<span class="token double-colon punctuation">::</span>max_potions<span class="token punctuation">;</span>

        <span class="token comment">// Convert the char to a number and see if it's a valid potion selection</span>
        <span class="token keyword keyword-int">int</span> val <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-163-close">{</span> <span class="token function">charNumToInt</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-111-close">(</span>input<span class="token punctuation brace-round brace-close brace-level-4" id="pair-111-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-163-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-112-close">(</span>val <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> val <span class="token operator">&lt;</span> Potion<span class="token double-colon punctuation">::</span>max_potions<span class="token punctuation brace-round brace-close brace-level-3" id="pair-112-open">)</span>
            <span class="token keyword keyword-return">return</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>Potion<span class="token double-colon punctuation">::</span>Type<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-113-close">(</span>val<span class="token punctuation brace-round brace-close brace-level-3" id="pair-113-open">)</span><span class="token punctuation">;</span>

        <span class="token comment">// It wasn't a valid potion selection</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"I didn't understand what you said.  Try again: "</span><span class="token punctuation">;</span>
        <span class="token function">ignoreLine</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-114-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-114-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-164-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-165-open">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">shop</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-115-close">(</span>Player <span class="token operator">&amp;</span>player<span class="token punctuation brace-round brace-close brace-level-1" id="pair-115-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-169-close">{</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-116-close">(</span><span class="token boolean">true</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-116-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-168-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Here is our selection for today:\n"</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-117-close">(</span><span class="token keyword keyword-auto">auto</span> p<span class="token operator">:</span> Potion<span class="token double-colon punctuation">::</span>types<span class="token punctuation brace-round brace-close brace-level-3" id="pair-117-open">)</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> p <span class="token operator">&lt;&lt;</span> <span class="token string">") "</span> <span class="token operator">&lt;&lt;</span> Potion<span class="token double-colon punctuation">::</span>name<span class="token punctuation brace-square brace-open brace-level-3" id="pair-137-close">[</span>p<span class="token punctuation brace-square brace-close brace-level-3" id="pair-137-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" costs "</span> <span class="token operator">&lt;&lt;</span> Potion<span class="token double-colon punctuation">::</span>cost<span class="token punctuation brace-square brace-open brace-level-3" id="pair-138-close">[</span>p<span class="token punctuation brace-square brace-close brace-level-3" id="pair-138-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

        Potion<span class="token double-colon punctuation">::</span>Type which <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-166-close">{</span> <span class="token function">whichPotion</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-118-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-118-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-166-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-119-close">(</span>which <span class="token operator">==</span> Potion<span class="token double-colon punctuation">::</span>max_potions<span class="token punctuation brace-round brace-close brace-level-3" id="pair-119-open">)</span>
            <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-bool">bool</span> success <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-167-close">{</span> player<span class="token punctuation">.</span><span class="token function">buy</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-120-close">(</span>which<span class="token punctuation brace-round brace-close brace-level-4" id="pair-120-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-167-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-121-close">(</span><span class="token operator">!</span>success<span class="token punctuation brace-round brace-close brace-level-3" id="pair-121-open">)</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You can not afford that.\n\n"</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-else">else</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You purchased a potion of "</span> <span class="token operator">&lt;&lt;</span> Potion<span class="token double-colon punctuation">::</span>name<span class="token punctuation brace-square brace-open brace-level-3" id="pair-139-close">[</span>which<span class="token punctuation brace-square brace-close brace-level-3" id="pair-139-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">".  You have "</span> <span class="token operator">&lt;&lt;</span> player<span class="token punctuation">.</span><span class="token function">gold</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-122-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-122-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" gold left.\n\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-168-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-169-open">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">printInventory</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-123-close">(</span>Player<span class="token operator">&amp;</span> player<span class="token punctuation brace-round brace-close brace-level-1" id="pair-123-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-171-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Your inventory contains: \n"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-124-close">(</span><span class="token keyword keyword-auto">auto</span> p<span class="token operator">:</span> Potion<span class="token double-colon punctuation">::</span>types<span class="token punctuation brace-round brace-close brace-level-2" id="pair-124-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-170-close">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-126-close">(</span>player<span class="token punctuation">.</span><span class="token function">inventory</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-125-close">(</span>p<span class="token punctuation brace-round brace-close brace-level-4" id="pair-125-open">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-126-open">)</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> player<span class="token punctuation">.</span><span class="token function">inventory</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-127-close">(</span>p<span class="token punctuation brace-round brace-close brace-level-3" id="pair-127-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"x potion of "</span> <span class="token operator">&lt;&lt;</span> Potion<span class="token double-colon punctuation">::</span>name<span class="token punctuation brace-square brace-open brace-level-3" id="pair-140-close">[</span>p<span class="token punctuation brace-square brace-close brace-level-3" id="pair-140-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-170-open">}</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You escaped with "</span> <span class="token operator">&lt;&lt;</span> player<span class="token punctuation">.</span><span class="token function">gold</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-128-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-128-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" gold remaining.\n"</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-171-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-129-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-129-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-174-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Welcome to Roscoe's potion emporium!\n"</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter your name: "</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>string name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-172-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-172-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> name<span class="token punctuation">;</span>

    Player player <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-173-close">{</span> name <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-173-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Hello, "</span> <span class="token operator">&lt;&lt;</span> name <span class="token operator">&lt;&lt;</span> <span class="token string">", you have "</span> <span class="token operator">&lt;&lt;</span> player<span class="token punctuation">.</span><span class="token function">gold</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-130-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-130-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" gold.\n\n"</span><span class="token punctuation">;</span>

    <span class="token function">shop</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-131-close">(</span>player<span class="token punctuation brace-round brace-close brace-level-2" id="pair-131-open">)</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token function">printInventory</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-132-close">(</span>player<span class="token punctuation brace-round brace-close brace-level-2" id="pair-132-open">)</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"\nThanks for shopping at Roscoe's potion emporium!\n"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-174-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">Question #3</p>
<p>
  Let’s say we want to write a card game that uses a standard deck of cards. In
  order to do that, we’re going to need some way to represent those cards, and
  decks of cards. Let’s build that functionality.
</p>
<p>We’ll use it in the next quiz question to actually implement a game.</p>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #1</p>
<p>
  A deck of cards has 52 unique cards (13 card ranks of 4 suits). Create
  enumerations for the card ranks (ace, 2, 3, 4, 5, 6, 7, 8, 9, 10, jack, queen,
  king) and suits (clubs, diamonds, hearts, spades).
</p>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_6'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_6" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token comment">// Because identifiers can't start with a number, we'll use a "rank_" prefix for these</span>
<span class="token keyword keyword-enum">enum</span> <span class="token class-name">Rank</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-175-close">{</span>
    rank_ace<span class="token punctuation">,</span>
    rank_2<span class="token punctuation">,</span>
    rank_3<span class="token punctuation">,</span>
    rank_4<span class="token punctuation">,</span>
    rank_5<span class="token punctuation">,</span>
    rank_6<span class="token punctuation">,</span>
    rank_7<span class="token punctuation">,</span>
    rank_8<span class="token punctuation">,</span>
    rank_9<span class="token punctuation">,</span>
    rank_10<span class="token punctuation">,</span>
    rank_jack<span class="token punctuation">,</span>
    rank_queen<span class="token punctuation">,</span>
    rank_king<span class="token punctuation">,</span>

    max_ranks
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-175-open">}</span><span class="token punctuation">;</span>

<span class="token comment">// We'll also prefix these for consistency</span>
<span class="token keyword keyword-enum">enum</span> <span class="token class-name">Suit</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-176-close">{</span>
    suit_club<span class="token punctuation">,</span>
    suit_diamond<span class="token punctuation">,</span>
    suit_heart<span class="token punctuation">,</span>
    suit_spade<span class="token punctuation">,</span>

    max_suits
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-176-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #2</p>
<p>
  Each card will be represented by a struct named <code>Card</code> that
  contains a rank and a suit member. Create the struct and move the enums into
  it.
</p>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_7'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_7" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Card</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-181-close">{</span>
    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Rank</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-177-close">{</span>
        rank_ace<span class="token punctuation">,</span>
        rank_2<span class="token punctuation">,</span>
        rank_3<span class="token punctuation">,</span>
        rank_4<span class="token punctuation">,</span>
        rank_5<span class="token punctuation">,</span>
        rank_6<span class="token punctuation">,</span>
        rank_7<span class="token punctuation">,</span>
        rank_8<span class="token punctuation">,</span>
        rank_9<span class="token punctuation">,</span>
        rank_10<span class="token punctuation">,</span>
        rank_jack<span class="token punctuation">,</span>
        rank_queen<span class="token punctuation">,</span>
        rank_king<span class="token punctuation">,</span>

        max_ranks
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-177-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Suit</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-178-close">{</span>
        suit_club<span class="token punctuation">,</span>
        suit_diamond<span class="token punctuation">,</span>
        suit_heart<span class="token punctuation">,</span>
        suit_spade<span class="token punctuation">,</span>

        max_suits
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-178-open">}</span><span class="token punctuation">;</span>

    Rank rank<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-179-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-179-open">}</span><span class="token punctuation">;</span>
    Suit suit<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-180-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-180-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-181-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #3</p>
<p>
  Next, let’s add some useful functions to our Card struct. First, overload
  <code>operator&lt;&lt;</code> to print the card rank and suit as a 2-letter
  code (e.g. the jack of spades would print as JS). You can do that by
  completing the following function:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-struct">struct</span> <span class="token class-name">Card</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-184-close">{</span>
    <span class="token comment">// Your other stuff here</span>

    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-182-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Card <span class="token operator">&amp;</span>card<span class="token punctuation brace-round brace-close brace-level-2" id="pair-182-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-183-close">{</span>
        out <span class="token operator">&lt;&lt;</span> <span class="token comment">// print your card rank and suit here</span>
        <span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-183-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-184-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Second, add a function that returns the value of the Card. Treat an ace as
  value 11. Finally, add a <code>std::array</code> of Rank and of Suit (named
  <code>allRanks</code> and <code>allSuits</code> respectively) so they can be
  iterated over. Because these are part of a struct (not a namespace), make them
  static so they are only instantiated once (not with each object).
</p>
<p>The following should compile:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-185-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-185-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-190-close">{</span>
    <span class="token comment">// Print one card</span>
    Card card <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-188-close">{</span> Card<span class="token double-colon punctuation">::</span>rank_5<span class="token punctuation">,</span> Card<span class="token double-colon punctuation">::</span>suit_heart <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-188-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> card <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token comment">// Print all cards</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-186-close">(</span><span class="token keyword keyword-auto">auto</span> suit <span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allSuits<span class="token punctuation brace-round brace-close brace-level-2" id="pair-186-open">)</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-187-close">(</span><span class="token keyword keyword-auto">auto</span> rank <span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allRanks<span class="token punctuation brace-round brace-close brace-level-2" id="pair-187-open">)</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> Card <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-189-close">{</span> rank<span class="token punctuation">,</span> suit <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-189-open">}</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-190-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>and produce the following output:</p>
<pre>
5H
AC 2C 3C 4C 5C 6C 7C 8C 9C TC JC QC KC AD 2D 3D 4D 5D 6D 7D 8D 9D TD JD QD KD AH 2H 3H 4H 5H 6H 7H 8H 9H TH JH QH KH AS 2S 3S 4S 5S 6S 7S 8S 9S TS JS QS KS 
</pre>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_8'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_8" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Card</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-210-close">{</span>
    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Rank</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-199-close">{</span>
        rank_ace<span class="token punctuation">,</span>
        rank_2<span class="token punctuation">,</span>
        rank_3<span class="token punctuation">,</span>
        rank_4<span class="token punctuation">,</span>
        rank_5<span class="token punctuation">,</span>
        rank_6<span class="token punctuation">,</span>
        rank_7<span class="token punctuation">,</span>
        rank_8<span class="token punctuation">,</span>
        rank_9<span class="token punctuation">,</span>
        rank_10<span class="token punctuation">,</span>
        rank_jack<span class="token punctuation">,</span>
        rank_queen<span class="token punctuation">,</span>
        rank_king<span class="token punctuation">,</span>

        max_ranks
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-199-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Suit</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-200-close">{</span>
        suit_club<span class="token punctuation">,</span>
        suit_diamond<span class="token punctuation">,</span>
        suit_heart<span class="token punctuation">,</span>
        suit_spade<span class="token punctuation">,</span>

        max_suits
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-200-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// These need to be static so they are only created once per program, not once per Card</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array allRanks <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-201-close">{</span> rank_ace<span class="token punctuation">,</span> rank_2<span class="token punctuation">,</span> rank_3<span class="token punctuation">,</span> rank_4<span class="token punctuation">,</span> rank_5<span class="token punctuation">,</span> rank_6<span class="token punctuation">,</span> rank_7<span class="token punctuation">,</span> rank_8<span class="token punctuation">,</span> rank_9<span class="token punctuation">,</span> rank_10<span class="token punctuation">,</span> rank_jack<span class="token punctuation">,</span> rank_queen<span class="token punctuation">,</span> rank_king <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-201-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array allSuits <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-202-close">{</span> suit_club<span class="token punctuation">,</span> suit_diamond<span class="token punctuation">,</span> suit_heart<span class="token punctuation">,</span> suit_spade <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-202-open">}</span><span class="token punctuation">;</span>

    Rank rank<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-203-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-203-open">}</span><span class="token punctuation">;</span>
    Suit suit<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-204-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-204-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-191-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Card <span class="token operator">&amp;</span>card<span class="token punctuation brace-round brace-close brace-level-2" id="pair-191-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-207-close">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array ranks <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-205-close">{</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'T'</span><span class="token punctuation">,</span> <span class="token string">'J'</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">,</span> <span class="token string">'K'</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-205-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array suits <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-206-close">{</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'S'</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-206-open">}</span><span class="token punctuation">;</span>

        out <span class="token operator">&lt;&lt;</span> ranks<span class="token punctuation brace-square brace-open brace-level-3" id="pair-196-close">[</span>card<span class="token punctuation">.</span>rank<span class="token punctuation brace-square brace-close brace-level-3" id="pair-196-open">]</span> <span class="token operator">&lt;&lt;</span> suits<span class="token punctuation brace-square brace-open brace-level-3" id="pair-197-close">[</span>card<span class="token punctuation">.</span>suit<span class="token punctuation brace-square brace-close brace-level-3" id="pair-197-open">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-207-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-192-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-192-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-209-close">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array rankValues <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-208-close">{</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-208-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> rankValues<span class="token punctuation brace-square brace-open brace-level-3" id="pair-198-close">[</span>rank<span class="token punctuation brace-square brace-close brace-level-3" id="pair-198-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-209-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-210-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-193-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-193-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-213-close">{</span>
    <span class="token comment">// Print one card</span>
    Card card <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-211-close">{</span> Card<span class="token double-colon punctuation">::</span>rank_5<span class="token punctuation">,</span> Card<span class="token double-colon punctuation">::</span>suit_heart <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-211-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> card <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token comment">// Print all cards</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-194-close">(</span><span class="token keyword keyword-auto">auto</span> suit <span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allSuits<span class="token punctuation brace-round brace-close brace-level-2" id="pair-194-open">)</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-195-close">(</span><span class="token keyword keyword-auto">auto</span> rank <span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allRanks<span class="token punctuation brace-round brace-close brace-level-2" id="pair-195-open">)</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> Card <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-212-close">{</span> rank<span class="token punctuation">,</span> suit <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-212-open">}</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-213-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #4</p>
<p>
  Next, let’s create our deck of cards. Create a class named
  <code>Deck</code> that contains a <code>std::array</code> of Cards. You can
  assume a deck is 52 Cards.
</p>
<p>The Deck should have three functions:</p>
<p>
  First, the default constructor should initialize the array of cards. You can
  use a ranged-for loop similar to the one in the main() function of the prior
  example to traverse through all the suits and ranks.
</p>
<p>
  Second, add a <code>dealCard()</code> function that returns the next card in
  the Deck by value. Since <code>std::array</code> is a fixed-size array, think
  about how you will keep track of where the next card is. This function should
  assert out if it is called when the Deck has gone through all the cards.
</p>
<p>
  Third, write a <code>shuffle()</code> member function that shuffles the deck.
  To make this easy, we will enlist the help of <code>std::shuffle</code>:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::shuffle</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Random.h"</span>  <span class="token comment">// for Random::mt</span></span>

    <span class="token comment">// Put this line in your shuffle function to shuffle m_cards using the Random::mt Mersenne Twister</span>
    <span class="token comment">// This will rearrange all the Cards in the deck randomly</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-216-close">(</span>m_cards<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-214-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-214-open">)</span><span class="token punctuation">,</span> m_cards<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-215-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-215-open">)</span><span class="token punctuation">,</span> Random<span class="token double-colon punctuation">::</span>mt<span class="token punctuation brace-round brace-close brace-level-1" id="pair-216-open">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  The <code>shuffle()</code> function should also reset however you are tracking
  where the next card is back to the start of the deck.
</p>
<p>The following program should run:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-217-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-217-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-226-close">{</span>
    Deck deck<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-225-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-225-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-218-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-218-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span> <span class="token operator">&lt;&lt;</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-219-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-219-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span> <span class="token operator">&lt;&lt;</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-220-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-220-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    deck<span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-221-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-221-open">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-222-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-222-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span> <span class="token operator">&lt;&lt;</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-223-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-223-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span> <span class="token operator">&lt;&lt;</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-224-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-224-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-226-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>and produce the following output (the last 3 cards should be randomized):</p>
<pre>
AC 2C 3C
2H 7H 9C
</pre>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_9'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_9" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::shuffle</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Random.h"</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Card</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-262-close">{</span>
    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Rank</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-251-close">{</span>
        rank_ace<span class="token punctuation">,</span>
        rank_2<span class="token punctuation">,</span>
        rank_3<span class="token punctuation">,</span>
        rank_4<span class="token punctuation">,</span>
        rank_5<span class="token punctuation">,</span>
        rank_6<span class="token punctuation">,</span>
        rank_7<span class="token punctuation">,</span>
        rank_8<span class="token punctuation">,</span>
        rank_9<span class="token punctuation">,</span>
        rank_10<span class="token punctuation">,</span>
        rank_jack<span class="token punctuation">,</span>
        rank_queen<span class="token punctuation">,</span>
        rank_king<span class="token punctuation">,</span>

        max_ranks
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-251-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Suit</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-252-close">{</span>
        suit_club<span class="token punctuation">,</span>
        suit_diamond<span class="token punctuation">,</span>
        suit_heart<span class="token punctuation">,</span>
        suit_spade<span class="token punctuation">,</span>

        max_suits
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-252-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array allRanks <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-253-close">{</span> rank_ace<span class="token punctuation">,</span> rank_2<span class="token punctuation">,</span> rank_3<span class="token punctuation">,</span> rank_4<span class="token punctuation">,</span> rank_5<span class="token punctuation">,</span> rank_6<span class="token punctuation">,</span> rank_7<span class="token punctuation">,</span> rank_8<span class="token punctuation">,</span> rank_9<span class="token punctuation">,</span> rank_10<span class="token punctuation">,</span> rank_jack<span class="token punctuation">,</span> rank_queen<span class="token punctuation">,</span> rank_king <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-253-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array allSuits <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-254-close">{</span> suit_club<span class="token punctuation">,</span> suit_diamond<span class="token punctuation">,</span> suit_heart<span class="token punctuation">,</span> suit_spade <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-254-open">}</span><span class="token punctuation">;</span>

    Rank rank<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-255-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-255-open">}</span><span class="token punctuation">;</span>
    Suit suit<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-256-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-256-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-227-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Card <span class="token operator">&amp;</span>card<span class="token punctuation brace-round brace-close brace-level-2" id="pair-227-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-259-close">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array ranks <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-257-close">{</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'T'</span><span class="token punctuation">,</span> <span class="token string">'J'</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">,</span> <span class="token string">'K'</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-257-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array suits <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-258-close">{</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'S'</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-258-open">}</span><span class="token punctuation">;</span>

        out <span class="token operator">&lt;&lt;</span> ranks<span class="token punctuation brace-square brace-open brace-level-3" id="pair-246-close">[</span>card<span class="token punctuation">.</span>rank<span class="token punctuation brace-square brace-close brace-level-3" id="pair-246-open">]</span> <span class="token operator">&lt;&lt;</span> suits<span class="token punctuation brace-square brace-open brace-level-3" id="pair-247-close">[</span>card<span class="token punctuation">.</span>suit<span class="token punctuation brace-square brace-close brace-level-3" id="pair-247-open">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-259-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-228-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-228-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-261-close">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array rankValues <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-260-close">{</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-260-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> rankValues<span class="token punctuation brace-square brace-open brace-level-3" id="pair-248-close">[</span>rank<span class="token punctuation brace-square brace-close brace-level-3" id="pair-248-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-261-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-262-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Deck</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-270-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>Card<span class="token punctuation">,</span> <span class="token number">52</span><span class="token operator">&gt;</span> m_cards <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-263-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-263-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>size_t m_nextCardIndex <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-264-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-264-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Deck</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-229-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-229-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-267-close">{</span>
        std<span class="token double-colon punctuation">::</span>size_t count <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-265-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-265-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-230-close">(</span><span class="token keyword keyword-auto">auto</span> suit<span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allSuits<span class="token punctuation brace-round brace-close brace-level-3" id="pair-230-open">)</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-231-close">(</span><span class="token keyword keyword-auto">auto</span> rank<span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allRanks<span class="token punctuation brace-round brace-close brace-level-3" id="pair-231-open">)</span>
                m_cards<span class="token punctuation brace-square brace-open brace-level-3" id="pair-249-close">[</span>count<span class="token operator">++</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-249-open">]</span> <span class="token operator">=</span> Card<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-266-close">{</span>rank<span class="token punctuation">,</span> suit<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-266-open">}</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-267-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-232-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-232-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-268-close">{</span>
        std<span class="token double-colon punctuation">::</span><span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-235-close">(</span>m_cards<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-233-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-233-open">)</span><span class="token punctuation">,</span> m_cards<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-234-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-234-open">)</span><span class="token punctuation">,</span> Random<span class="token double-colon punctuation">::</span>mt<span class="token punctuation brace-round brace-close brace-level-3" id="pair-235-open">)</span><span class="token punctuation">;</span>
        m_nextCardIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-268-open">}</span>

    Card <span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-236-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-236-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-269-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-237-close">(</span>m_nextCardIndex <span class="token operator">!=</span> <span class="token number">52</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"Deck::dealCard ran out of cards"</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-237-open">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> m_cards<span class="token punctuation brace-square brace-open brace-level-3" id="pair-250-close">[</span>m_nextCardIndex<span class="token operator">++</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-250-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-269-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-270-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-238-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-238-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-272-close">{</span>
    Deck deck<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-271-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-271-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-239-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-239-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span> <span class="token operator">&lt;&lt;</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-240-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-240-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span> <span class="token operator">&lt;&lt;</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-241-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-241-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    deck<span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-242-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-242-open">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-243-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-243-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span> <span class="token operator">&lt;&lt;</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-244-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-244-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span> <span class="token operator">&lt;&lt;</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-245-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-245-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-272-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">Question #4</p>
<p>
  Alright, now let’s use our Card and Deck to implement a simplified version of
  Blackjack! If you’re not already familiar with Blackjack, the Wikipedia
  article for
  <a href="https://en.wikipedia.org/wiki/Blackjack">Blackjack</a> has a summary.
</p>
<p>Here are the rules for our version of Blackjack:</p>
<ul>
  <li>
    The dealer gets one card to start (in real life, the dealer gets two, but
    one is face down so it doesn’t matter at this point).
  </li>
  <li>The player gets two cards to start.</li>
  <li>The player goes first.</li>
  <li>A player can repeatedly “hit” or “stand”.</li>
  <li>
    If the player “stands”, their turn is over, and their score is calculated
    based on the cards they have been dealt.
  </li>
  <li>
    If the player “hits”, they get another card and the value of that card is
    added to their total score.
  </li>
  <li>
    An ace normally counts as a 1 or an 11 (whichever is better for the total
    score). For simplicity, we’ll count it as an 11 here.
  </li>
  <li>
    If the player goes over a score of 21, they bust and lose immediately.
  </li>
  <li>When the player is done, it is the dealer’s turn.</li>
  <li>
    The dealer repeatedly draws until they reach a score of 17 or more, at which
    point they must stop drawing.
  </li>
  <li>
    If the dealer goes over a score of 21, they bust and the player wins
    immediately.
  </li>
  <li>
    Otherwise, if the player has a higher score than the dealer, the player
    wins. Otherwise, the player loses (we’ll consider ties as dealer wins for
    simplicity).
  </li>
</ul>
<p>
  In our simplified version of Blackjack, we’re not going to keep track of which
  specific cards the player and the dealer have been dealt. We’ll only track the
  sum of the values of the cards they have been dealt for the player and dealer.
  This keeps things simpler.
</p>
<p>
  Start with the code you wrote in the prior quiz (or use our reference
  solution).
</p>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #1</p>
<p>
  Create a struct named <code>Player</code> that will represent a participant in
  our game (either the dealer or the player). Since in this game we only care
  about a player’s score, this struct only needs one member.
</p>
<p>
  Write a function that will (eventually) play a round of Blackjack. For now,
  this function should draw one randomized card for the dealer and two
  randomized cards for the player. It should return a bool value indicating who
  has the greater score.
</p>
<p>The code should output the following:</p>
<pre>
The dealer is showing: 10
You have score: 13
You win!
</pre>
<pre>
The dealer is showing: 10
You have score: 8
You lose!
</pre>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_10'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_10" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::shuffle</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Random.h"</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Card</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-312-close">{</span>
    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Rank</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-301-close">{</span>
        rank_ace<span class="token punctuation">,</span>
        rank_2<span class="token punctuation">,</span>
        rank_3<span class="token punctuation">,</span>
        rank_4<span class="token punctuation">,</span>
        rank_5<span class="token punctuation">,</span>
        rank_6<span class="token punctuation">,</span>
        rank_7<span class="token punctuation">,</span>
        rank_8<span class="token punctuation">,</span>
        rank_9<span class="token punctuation">,</span>
        rank_10<span class="token punctuation">,</span>
        rank_jack<span class="token punctuation">,</span>
        rank_queen<span class="token punctuation">,</span>
        rank_king<span class="token punctuation">,</span>

        max_ranks
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-301-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Suit</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-302-close">{</span>
        suit_club<span class="token punctuation">,</span>
        suit_diamond<span class="token punctuation">,</span>
        suit_heart<span class="token punctuation">,</span>
        suit_spade<span class="token punctuation">,</span>

        max_suits
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-302-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array allRanks <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-303-close">{</span> rank_ace<span class="token punctuation">,</span> rank_2<span class="token punctuation">,</span> rank_3<span class="token punctuation">,</span> rank_4<span class="token punctuation">,</span> rank_5<span class="token punctuation">,</span> rank_6<span class="token punctuation">,</span> rank_7<span class="token punctuation">,</span> rank_8<span class="token punctuation">,</span> rank_9<span class="token punctuation">,</span> rank_10<span class="token punctuation">,</span> rank_jack<span class="token punctuation">,</span> rank_queen<span class="token punctuation">,</span> rank_king <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-303-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array allSuits <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-304-close">{</span> suit_club<span class="token punctuation">,</span> suit_diamond<span class="token punctuation">,</span> suit_heart<span class="token punctuation">,</span> suit_spade <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-304-open">}</span><span class="token punctuation">;</span>

    Rank rank<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-305-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-305-open">}</span><span class="token punctuation">;</span>
    Suit suit<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-306-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-306-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-273-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Card <span class="token operator">&amp;</span>card<span class="token punctuation brace-round brace-close brace-level-2" id="pair-273-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-309-close">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array ranks <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-307-close">{</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'T'</span><span class="token punctuation">,</span> <span class="token string">'J'</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">,</span> <span class="token string">'K'</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-307-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array suits <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-308-close">{</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'S'</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-308-open">}</span><span class="token punctuation">;</span>

        out <span class="token operator">&lt;&lt;</span> ranks<span class="token punctuation brace-square brace-open brace-level-3" id="pair-296-close">[</span>card<span class="token punctuation">.</span>rank<span class="token punctuation brace-square brace-close brace-level-3" id="pair-296-open">]</span> <span class="token operator">&lt;&lt;</span> suits<span class="token punctuation brace-square brace-open brace-level-3" id="pair-297-close">[</span>card<span class="token punctuation">.</span>suit<span class="token punctuation brace-square brace-close brace-level-3" id="pair-297-open">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-309-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-274-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-274-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-311-close">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array rankValues <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-310-close">{</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-310-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> rankValues<span class="token punctuation brace-square brace-open brace-level-3" id="pair-298-close">[</span>rank<span class="token punctuation brace-square brace-close brace-level-3" id="pair-298-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-311-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-312-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Deck</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-320-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>Card<span class="token punctuation">,</span> <span class="token number">52</span><span class="token operator">&gt;</span> m_cards <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-313-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-313-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>size_t m_nextCardIndex <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-314-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-314-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Deck</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-275-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-275-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-317-close">{</span>
        std<span class="token double-colon punctuation">::</span>size_t count <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-315-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-315-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-276-close">(</span><span class="token keyword keyword-auto">auto</span> suit<span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allSuits<span class="token punctuation brace-round brace-close brace-level-3" id="pair-276-open">)</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-277-close">(</span><span class="token keyword keyword-auto">auto</span> rank<span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allRanks<span class="token punctuation brace-round brace-close brace-level-3" id="pair-277-open">)</span>
                m_cards<span class="token punctuation brace-square brace-open brace-level-3" id="pair-299-close">[</span>count<span class="token operator">++</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-299-open">]</span> <span class="token operator">=</span> Card<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-316-close">{</span>rank<span class="token punctuation">,</span> suit<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-316-open">}</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-317-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-278-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-278-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-318-close">{</span>
        std<span class="token double-colon punctuation">::</span><span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-281-close">(</span>m_cards<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-279-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-279-open">)</span><span class="token punctuation">,</span> m_cards<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-280-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-280-open">)</span><span class="token punctuation">,</span> Random<span class="token double-colon punctuation">::</span>mt<span class="token punctuation brace-round brace-close brace-level-3" id="pair-281-open">)</span><span class="token punctuation">;</span>
        m_nextCardIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-318-open">}</span>

    Card <span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-282-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-282-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-319-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-283-close">(</span>m_nextCardIndex <span class="token operator">!=</span> <span class="token number">52</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"Deck::dealCard ran out of cards"</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-283-open">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> m_cards<span class="token punctuation brace-square brace-open brace-level-3" id="pair-300-close">[</span>m_nextCardIndex<span class="token operator">++</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-300-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-319-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-320-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Player</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-322-close">{</span>
    <span class="token keyword keyword-int">int</span> score<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-321-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-321-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-322-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-bool">bool</span> <span class="token function">playBlackjack</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-284-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-284-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-326-close">{</span>
    Deck deck<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-323-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-323-open">}</span><span class="token punctuation">;</span>
    deck<span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-285-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-285-open">)</span><span class="token punctuation">;</span>

    Player dealer<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-324-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-286-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-286-open">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-287-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-287-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-324-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The dealer is showing: "</span> <span class="token operator">&lt;&lt;</span> dealer<span class="token punctuation">.</span>score <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    Player player <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-325-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-288-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-288-open">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-289-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-289-open">)</span> <span class="token operator">+</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-290-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-290-open">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-291-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-291-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-325-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You have score: "</span> <span class="token operator">&lt;&lt;</span> player<span class="token punctuation">.</span>score <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-292-close">(</span>player<span class="token punctuation">.</span>score <span class="token operator">&gt;</span> dealer<span class="token punctuation">.</span>score<span class="token punctuation brace-round brace-close brace-level-2" id="pair-292-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-326-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-293-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-293-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-329-close">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-295-close">(</span><span class="token function">playBlackjack</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-294-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-294-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-295-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-327-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You win!\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-327-open">}</span>
    <span class="token keyword keyword-else">else</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-328-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You lose!\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-328-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-329-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #2</p>
<p>
  Add a <code>Settings</code> namespace that contains two constants: the value
  above which the player busts, and the value where the dealer must stop drawing
  cards.
</p>
<p>
  Add the logic that handles the dealer’s turn. The dealer will draw cards until
  they hit 17, then they must stop. If they bust, the player wins.
</p>
<p>Here is some sample output:</p>
<pre>
The dealer is showing: 8
You have score: 9
The dealer flips a 4D.  They now have: 12
The dealer flips a JS.  They now have: 22
The dealer went bust!
You win!
</pre>
<pre>
The dealer is showing: 6
You have score: 13
The dealer flips a 3D.  They now have: 9
The dealer flips a 3H.  They now have: 12
The dealer flips a 9S.  They now have: 21
You lose!
</pre>
<pre>
The dealer is showing: 7
You have score: 21
The dealer flips a JC.  They now have: 17
You win!
</pre>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_11'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_11" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::shuffle</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Random.h"</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Card</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-376-close">{</span>
    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Rank</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-365-close">{</span>
        rank_ace<span class="token punctuation">,</span>
        rank_2<span class="token punctuation">,</span>
        rank_3<span class="token punctuation">,</span>
        rank_4<span class="token punctuation">,</span>
        rank_5<span class="token punctuation">,</span>
        rank_6<span class="token punctuation">,</span>
        rank_7<span class="token punctuation">,</span>
        rank_8<span class="token punctuation">,</span>
        rank_9<span class="token punctuation">,</span>
        rank_10<span class="token punctuation">,</span>
        rank_jack<span class="token punctuation">,</span>
        rank_queen<span class="token punctuation">,</span>
        rank_king<span class="token punctuation">,</span>

        max_ranks
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-365-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Suit</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-366-close">{</span>
        suit_club<span class="token punctuation">,</span>
        suit_diamond<span class="token punctuation">,</span>
        suit_heart<span class="token punctuation">,</span>
        suit_spade<span class="token punctuation">,</span>

        max_suits
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-366-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array allRanks <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-367-close">{</span> rank_ace<span class="token punctuation">,</span> rank_2<span class="token punctuation">,</span> rank_3<span class="token punctuation">,</span> rank_4<span class="token punctuation">,</span> rank_5<span class="token punctuation">,</span> rank_6<span class="token punctuation">,</span> rank_7<span class="token punctuation">,</span> rank_8<span class="token punctuation">,</span> rank_9<span class="token punctuation">,</span> rank_10<span class="token punctuation">,</span> rank_jack<span class="token punctuation">,</span> rank_queen<span class="token punctuation">,</span> rank_king <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-367-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array allSuits <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-368-close">{</span> suit_club<span class="token punctuation">,</span> suit_diamond<span class="token punctuation">,</span> suit_heart<span class="token punctuation">,</span> suit_spade <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-368-open">}</span><span class="token punctuation">;</span>

    Rank rank<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-369-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-369-open">}</span><span class="token punctuation">;</span>
    Suit suit<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-370-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-370-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-330-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Card <span class="token operator">&amp;</span>card<span class="token punctuation brace-round brace-close brace-level-2" id="pair-330-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-373-close">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array ranks <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-371-close">{</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'T'</span><span class="token punctuation">,</span> <span class="token string">'J'</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">,</span> <span class="token string">'K'</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-371-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array suits <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-372-close">{</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'S'</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-372-open">}</span><span class="token punctuation">;</span>

        out <span class="token operator">&lt;&lt;</span> ranks<span class="token punctuation brace-square brace-open brace-level-3" id="pair-360-close">[</span>card<span class="token punctuation">.</span>rank<span class="token punctuation brace-square brace-close brace-level-3" id="pair-360-open">]</span> <span class="token operator">&lt;&lt;</span> suits<span class="token punctuation brace-square brace-open brace-level-3" id="pair-361-close">[</span>card<span class="token punctuation">.</span>suit<span class="token punctuation brace-square brace-close brace-level-3" id="pair-361-open">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-373-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-331-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-331-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-375-close">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array rankValues <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-374-close">{</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-374-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> rankValues<span class="token punctuation brace-square brace-open brace-level-3" id="pair-362-close">[</span>rank<span class="token punctuation brace-square brace-close brace-level-3" id="pair-362-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-375-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-376-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Deck</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-384-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>Card<span class="token punctuation">,</span> <span class="token number">52</span><span class="token operator">&gt;</span> m_cards <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-377-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-377-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>size_t m_nextCardIndex <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-378-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-378-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Deck</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-332-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-332-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-381-close">{</span>
        std<span class="token double-colon punctuation">::</span>size_t count <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-379-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-379-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-333-close">(</span><span class="token keyword keyword-auto">auto</span> suit<span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allSuits<span class="token punctuation brace-round brace-close brace-level-3" id="pair-333-open">)</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-334-close">(</span><span class="token keyword keyword-auto">auto</span> rank<span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allRanks<span class="token punctuation brace-round brace-close brace-level-3" id="pair-334-open">)</span>
                m_cards<span class="token punctuation brace-square brace-open brace-level-3" id="pair-363-close">[</span>count<span class="token operator">++</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-363-open">]</span> <span class="token operator">=</span> Card<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-380-close">{</span>rank<span class="token punctuation">,</span> suit<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-380-open">}</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-381-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-335-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-335-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-382-close">{</span>
        std<span class="token double-colon punctuation">::</span><span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-338-close">(</span>m_cards<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-336-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-336-open">)</span><span class="token punctuation">,</span> m_cards<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-337-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-337-open">)</span><span class="token punctuation">,</span> Random<span class="token double-colon punctuation">::</span>mt<span class="token punctuation brace-round brace-close brace-level-3" id="pair-338-open">)</span><span class="token punctuation">;</span>
        m_nextCardIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-382-open">}</span>

    Card <span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-339-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-339-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-383-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-340-close">(</span>m_nextCardIndex <span class="token operator">!=</span> <span class="token number">52</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"Deck::dealCard ran out of cards"</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-340-open">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> m_cards<span class="token punctuation brace-square brace-open brace-level-3" id="pair-364-close">[</span>m_nextCardIndex<span class="token operator">++</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-364-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-383-open">}</span>

<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-384-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Player</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-386-close">{</span>
    <span class="token keyword keyword-int">int</span> score<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-385-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-385-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-386-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-namespace">namespace</span> Settings
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-389-close">{</span>
    <span class="token comment">// Maximum score before losing.</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> bust<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-387-close">{</span> <span class="token number">21</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-387-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Minium score that the dealer has to have.</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> dealerStopsAt<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-388-close">{</span> <span class="token number">17</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-388-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-389-open">}</span>

<span class="token comment">// Returns true if the dealer went bust. False otherwise.</span>
<span class="token keyword keyword-bool">bool</span> <span class="token function">dealerTurn</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-341-close">(</span>Deck<span class="token operator">&amp;</span> deck<span class="token punctuation">,</span> Player<span class="token operator">&amp;</span> dealer<span class="token punctuation brace-round brace-close brace-level-1" id="pair-341-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-393-close">{</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-342-close">(</span>dealer<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> Settings<span class="token double-colon punctuation">::</span>dealerStopsAt<span class="token punctuation brace-round brace-close brace-level-2" id="pair-342-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-391-close">{</span>
        Card card <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-390-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-343-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-343-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-390-open">}</span><span class="token punctuation">;</span>
        dealer<span class="token punctuation">.</span>score <span class="token operator">+=</span> card<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-344-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-344-open">)</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The dealer flips a "</span> <span class="token operator">&lt;&lt;</span> card <span class="token operator">&lt;&lt;</span> <span class="token string">".  They now have: "</span> <span class="token operator">&lt;&lt;</span> dealer<span class="token punctuation">.</span>score <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-391-open">}</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-345-close">(</span>dealer<span class="token punctuation">.</span>score <span class="token operator">&gt;</span> Settings<span class="token double-colon punctuation">::</span>bust<span class="token punctuation brace-round brace-close brace-level-2" id="pair-345-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-392-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The dealer went bust!\n"</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-392-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-393-open">}</span>

<span class="token keyword keyword-bool">bool</span> <span class="token function">playBlackjack</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-346-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-346-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-397-close">{</span>
    Deck deck<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-394-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-394-open">}</span><span class="token punctuation">;</span>
    deck<span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-347-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-347-open">)</span><span class="token punctuation">;</span>

    Player dealer<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-395-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-348-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-348-open">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-349-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-349-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-395-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The dealer is showing: "</span> <span class="token operator">&lt;&lt;</span> dealer<span class="token punctuation">.</span>score <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    Player player <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-396-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-350-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-350-open">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-351-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-351-open">)</span> <span class="token operator">+</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-352-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-352-open">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-353-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-353-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-396-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You have score: "</span> <span class="token operator">&lt;&lt;</span> player<span class="token punctuation">.</span>score <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-355-close">(</span><span class="token function">dealerTurn</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-354-close">(</span>deck<span class="token punctuation">,</span> dealer<span class="token punctuation brace-round brace-close brace-level-3" id="pair-354-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-355-open">)</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-356-close">(</span>player<span class="token punctuation">.</span>score <span class="token operator">&gt;</span> dealer<span class="token punctuation">.</span>score<span class="token punctuation brace-round brace-close brace-level-2" id="pair-356-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-397-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-357-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-357-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-400-close">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-359-close">(</span><span class="token function">playBlackjack</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-358-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-358-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-359-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-398-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You win!\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-398-open">}</span>
    <span class="token keyword keyword-else">else</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-399-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You lose!\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-399-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-400-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">&gt; Step #3</p>
<p>Finally, add logic for the player’s turn. This will complete the game.</p>
<p>Here is some sample output:</p>
<pre>
The dealer is showing: 2
You have score: 14
(h) to hit, or (s) to stand: h
You were dealt KH.  You now have: 24
You went bust!
You lose!
</pre>
<pre>
The dealer is showing: 10
You have score: 9
(h) to hit, or (s) to stand: h
You were dealt TH.  You now have: 19
(h) to hit, or (s) to stand: s
The dealer flips a 3D.  They now have: 13
The dealer flips a 7H.  They now have: 20
You lose!
</pre>
<pre>
The dealer is showing: 7
You have score: 12
(h) to hit, or (s) to stand: h
You were dealt 7S.  You now have: 19
(h) to hit, or (s) to stand: h
You were dealt 2D.  You now have: 21
(h) to hit, or (s) to stand: s
The dealer flips a 6H.  They now have: 13
The dealer flips a QC.  They now have: 23
The dealer went bust!
You win!
</pre>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_12'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_12" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::shuffle</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Random.h"</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Card</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-458-close">{</span>
    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Rank</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-447-close">{</span>
        rank_ace<span class="token punctuation">,</span>
        rank_2<span class="token punctuation">,</span>
        rank_3<span class="token punctuation">,</span>
        rank_4<span class="token punctuation">,</span>
        rank_5<span class="token punctuation">,</span>
        rank_6<span class="token punctuation">,</span>
        rank_7<span class="token punctuation">,</span>
        rank_8<span class="token punctuation">,</span>
        rank_9<span class="token punctuation">,</span>
        rank_10<span class="token punctuation">,</span>
        rank_jack<span class="token punctuation">,</span>
        rank_queen<span class="token punctuation">,</span>
        rank_king<span class="token punctuation">,</span>

        max_ranks
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-447-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Suit</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-448-close">{</span>
        suit_club<span class="token punctuation">,</span>
        suit_diamond<span class="token punctuation">,</span>
        suit_heart<span class="token punctuation">,</span>
        suit_spade<span class="token punctuation">,</span>

        max_suits
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-448-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array allRanks <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-449-close">{</span> rank_ace<span class="token punctuation">,</span> rank_2<span class="token punctuation">,</span> rank_3<span class="token punctuation">,</span> rank_4<span class="token punctuation">,</span> rank_5<span class="token punctuation">,</span> rank_6<span class="token punctuation">,</span> rank_7<span class="token punctuation">,</span> rank_8<span class="token punctuation">,</span> rank_9<span class="token punctuation">,</span> rank_10<span class="token punctuation">,</span> rank_jack<span class="token punctuation">,</span> rank_queen<span class="token punctuation">,</span> rank_king <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-449-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array allSuits <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-450-close">{</span> suit_club<span class="token punctuation">,</span> suit_diamond<span class="token punctuation">,</span> suit_heart<span class="token punctuation">,</span> suit_spade <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-450-open">}</span><span class="token punctuation">;</span>

    Rank rank<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-451-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-451-open">}</span><span class="token punctuation">;</span>
    Suit suit<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-452-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-452-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-401-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Card <span class="token operator">&amp;</span>card<span class="token punctuation brace-round brace-close brace-level-2" id="pair-401-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-455-close">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array ranks <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-453-close">{</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'T'</span><span class="token punctuation">,</span> <span class="token string">'J'</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">,</span> <span class="token string">'K'</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-453-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array suits <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-454-close">{</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'S'</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-454-open">}</span><span class="token punctuation">;</span>

        out <span class="token operator">&lt;&lt;</span> ranks<span class="token punctuation brace-square brace-open brace-level-3" id="pair-442-close">[</span>card<span class="token punctuation">.</span>rank<span class="token punctuation brace-square brace-close brace-level-3" id="pair-442-open">]</span> <span class="token operator">&lt;&lt;</span> suits<span class="token punctuation brace-square brace-open brace-level-3" id="pair-443-close">[</span>card<span class="token punctuation">.</span>suit<span class="token punctuation brace-square brace-close brace-level-3" id="pair-443-open">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-455-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-402-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-402-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-457-close">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array rankValues <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-456-close">{</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-456-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> rankValues<span class="token punctuation brace-square brace-open brace-level-3" id="pair-444-close">[</span>rank<span class="token punctuation brace-square brace-close brace-level-3" id="pair-444-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-457-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-458-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Deck</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-466-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>Card<span class="token punctuation">,</span> <span class="token number">52</span><span class="token operator">&gt;</span> m_cards <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-459-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-459-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>size_t m_nextCardIndex <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-460-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-460-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Deck</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-403-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-403-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-463-close">{</span>
        std<span class="token double-colon punctuation">::</span>size_t count <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-461-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-461-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-404-close">(</span><span class="token keyword keyword-auto">auto</span> suit<span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allSuits<span class="token punctuation brace-round brace-close brace-level-3" id="pair-404-open">)</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-405-close">(</span><span class="token keyword keyword-auto">auto</span> rank<span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allRanks<span class="token punctuation brace-round brace-close brace-level-3" id="pair-405-open">)</span>
                m_cards<span class="token punctuation brace-square brace-open brace-level-3" id="pair-445-close">[</span>count<span class="token operator">++</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-445-open">]</span> <span class="token operator">=</span> Card<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-462-close">{</span>rank<span class="token punctuation">,</span> suit<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-462-open">}</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-463-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-406-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-406-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-464-close">{</span>
        std<span class="token double-colon punctuation">::</span><span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-409-close">(</span>m_cards<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-407-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-407-open">)</span><span class="token punctuation">,</span> m_cards<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-408-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-408-open">)</span><span class="token punctuation">,</span> Random<span class="token double-colon punctuation">::</span>mt<span class="token punctuation brace-round brace-close brace-level-3" id="pair-409-open">)</span><span class="token punctuation">;</span>
        m_nextCardIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-464-open">}</span>

    Card <span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-410-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-410-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-465-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-411-close">(</span>m_nextCardIndex <span class="token operator">!=</span> <span class="token number">52</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"Deck::dealCard ran out of cards"</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-411-open">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> m_cards<span class="token punctuation brace-square brace-open brace-level-3" id="pair-446-close">[</span>m_nextCardIndex<span class="token operator">++</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-446-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-465-open">}</span>

<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-466-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Player</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-468-close">{</span>
    <span class="token keyword keyword-int">int</span> score<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-467-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-467-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-468-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-namespace">namespace</span> Settings
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-471-close">{</span>
    <span class="token comment">// Maximum score before losing.</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> bust<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-469-close">{</span> <span class="token number">21</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-469-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Minium score that the dealer has to have.</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> dealerStopsAt<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-470-close">{</span> <span class="token number">17</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-470-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-471-open">}</span>

<span class="token keyword keyword-bool">bool</span> <span class="token function">playerWantsHit</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-412-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-412-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-475-close">{</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-413-close">(</span><span class="token boolean">true</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-413-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-474-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"(h) to hit, or (s) to stand: "</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-char">char</span> ch<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-472-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-472-open">}</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> ch<span class="token punctuation">;</span>

        <span class="token keyword keyword-switch">switch</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-414-close">(</span>ch<span class="token punctuation brace-round brace-close brace-level-3" id="pair-414-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-473-close">{</span>
            <span class="token keyword keyword-case">case</span> <span class="token string">'h'</span><span class="token operator">:</span>
                <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-case">case</span> <span class="token string">'s'</span><span class="token operator">:</span>
                <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-473-open">}</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-474-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-475-open">}</span>

<span class="token comment">// Returns true if the player went bust. False otherwise.</span>
<span class="token keyword keyword-bool">bool</span> <span class="token function">playerTurn</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-415-close">(</span>Deck<span class="token operator">&amp;</span> deck<span class="token punctuation">,</span> Player<span class="token operator">&amp;</span> player<span class="token punctuation brace-round brace-close brace-level-1" id="pair-415-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-479-close">{</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-417-close">(</span>player<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> Settings<span class="token double-colon punctuation">::</span>bust <span class="token operator">&amp;&amp;</span> <span class="token function">playerWantsHit</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-416-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-416-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-417-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-477-close">{</span>
        Card card <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-476-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-418-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-418-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-476-open">}</span><span class="token punctuation">;</span>
        player<span class="token punctuation">.</span>score <span class="token operator">+=</span> card<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-419-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-419-open">)</span><span class="token punctuation">;</span>

        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You were dealt "</span> <span class="token operator">&lt;&lt;</span> card  <span class="token operator">&lt;&lt;</span> <span class="token string">". You now have: "</span> <span class="token operator">&lt;&lt;</span> player<span class="token punctuation">.</span>score <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-477-open">}</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-420-close">(</span>player<span class="token punctuation">.</span>score <span class="token operator">&gt;</span> Settings<span class="token double-colon punctuation">::</span>bust<span class="token punctuation brace-round brace-close brace-level-2" id="pair-420-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-478-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You went bust!\n"</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-478-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-479-open">}</span>

<span class="token comment">// Returns true if the dealer went bust. False otherwise.</span>
<span class="token keyword keyword-bool">bool</span> <span class="token function">dealerTurn</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-421-close">(</span>Deck<span class="token operator">&amp;</span> deck<span class="token punctuation">,</span> Player<span class="token operator">&amp;</span> dealer<span class="token punctuation brace-round brace-close brace-level-1" id="pair-421-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-483-close">{</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-422-close">(</span>dealer<span class="token punctuation">.</span>score <span class="token operator">&lt;</span> Settings<span class="token double-colon punctuation">::</span>dealerStopsAt<span class="token punctuation brace-round brace-close brace-level-2" id="pair-422-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-481-close">{</span>
        Card card <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-480-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-423-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-423-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-480-open">}</span><span class="token punctuation">;</span>
        dealer<span class="token punctuation">.</span>score <span class="token operator">+=</span> card<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-424-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-424-open">)</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The dealer flips a "</span> <span class="token operator">&lt;&lt;</span> card <span class="token operator">&lt;&lt;</span> <span class="token string">".  They now have: "</span> <span class="token operator">&lt;&lt;</span> dealer<span class="token punctuation">.</span>score <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-481-open">}</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-425-close">(</span>dealer<span class="token punctuation">.</span>score <span class="token operator">&gt;</span> Settings<span class="token double-colon punctuation">::</span>bust<span class="token punctuation brace-round brace-close brace-level-2" id="pair-425-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-482-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The dealer went bust!\n"</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-482-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-483-open">}</span>

<span class="token keyword keyword-bool">bool</span> <span class="token function">playBlackjack</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-426-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-426-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-487-close">{</span>
    Deck deck<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-484-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-484-open">}</span><span class="token punctuation">;</span>
    deck<span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-427-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-427-open">)</span><span class="token punctuation">;</span>

    Player dealer<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-485-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-428-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-428-open">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-429-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-429-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-485-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The dealer is showing: "</span> <span class="token operator">&lt;&lt;</span> dealer<span class="token punctuation">.</span>score <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    Player player <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-486-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-430-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-430-open">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-431-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-431-open">)</span> <span class="token operator">+</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-432-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-432-open">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-433-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-433-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-486-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You have score: "</span> <span class="token operator">&lt;&lt;</span> player<span class="token punctuation">.</span>score <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-435-close">(</span><span class="token function">playerTurn</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-434-close">(</span>deck<span class="token punctuation">,</span> player<span class="token punctuation brace-round brace-close brace-level-3" id="pair-434-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-435-open">)</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-437-close">(</span><span class="token function">dealerTurn</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-436-close">(</span>deck<span class="token punctuation">,</span> dealer<span class="token punctuation brace-round brace-close brace-level-3" id="pair-436-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-437-open">)</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-438-close">(</span>player<span class="token punctuation">.</span>score <span class="token operator">&gt;</span> dealer<span class="token punctuation">.</span>score<span class="token punctuation brace-round brace-close brace-level-2" id="pair-438-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-487-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-439-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-439-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-490-close">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-441-close">(</span><span class="token function">playBlackjack</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-440-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-440-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-441-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-488-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You win!\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-488-open">}</span>
    <span class="token keyword keyword-else">else</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-489-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You lose!\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-489-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-490-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p class="cpp-quiz-question cpp-topline" style="clear: both">Question #5</p>
<p>
  a) Describe how you could modify the above program to handle the case where
  aces can be equal to 1 or 11.
</p>
<p>
  It’s important to note that we’re only keeping track of the sum of the cards,
  not which specific cards the user has.
</p>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_13'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_13" style="display: none">
  <p>
    One way would be to keep track of how many aces the player and the dealer
    got dealt (In the <code>Player</code> struct, as an integer). If either the
    player or dealer go over 21 and their ace counter is greater than zero, you
    can reduce their score by 10 (convert an ace from 11 points to 1 point) and
    decrement the ace counter. This can be done as many times as needed until
    the ace counter reaches zero.
  </p>
</div>
<p>
  b) In actual blackjack, if the player and dealer have the same score (and the
  player has not gone bust), the result is a tie and neither wins. Describe how
  you’d modify the above program to account for this.
</p>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_14'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_14" style="display: none">
  <p>
    Our version of <code>playBlackjack()</code> currently returns a bool
    indicating whether the player won or not. We’ll need to update this function
    to return three possibilities: Dealer win, Player win, tie. The best way to
    do this would be to define an enumeration for these three options, and have
    the function return the appropriate enumerator.
  </p>
</div>
<p>
  c) Extra credit: implement the above two ideas into your blackjack game. Note
  that you will need to show the dealer’s initial card and the player’s initial
  two cards so they know whether they have an ace or not.
</p>
<p>Here’s a sample output:</p>
<pre>
The dealer is showing JH (10)
You are showing AH 7D (18)
(h) to hit, or (s) to stand: h
You were dealt JD.  You now have: 18
(h) to hit, or (s) to stand: s
The dealer flips a 6C.  They now have: 16
The dealer flips a AD.  They now have: 17
You win!
</pre>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_15'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_15" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::shuffle</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Random.h"</span></span>

<span class="token keyword keyword-namespace">namespace</span> Settings
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-559-close">{</span>
    <span class="token comment">// Maximum score before losing.</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> bust<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-557-close">{</span> <span class="token number">21</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-557-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Minium score that the dealer has to have.</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> dealerStopsAt<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-558-close">{</span> <span class="token number">17</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-558-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-559-open">}</span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Card</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-571-close">{</span>
    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Rank</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-560-close">{</span>
        rank_ace<span class="token punctuation">,</span>
        rank_2<span class="token punctuation">,</span>
        rank_3<span class="token punctuation">,</span>
        rank_4<span class="token punctuation">,</span>
        rank_5<span class="token punctuation">,</span>
        rank_6<span class="token punctuation">,</span>
        rank_7<span class="token punctuation">,</span>
        rank_8<span class="token punctuation">,</span>
        rank_9<span class="token punctuation">,</span>
        rank_10<span class="token punctuation">,</span>
        rank_jack<span class="token punctuation">,</span>
        rank_queen<span class="token punctuation">,</span>
        rank_king<span class="token punctuation">,</span>

        max_ranks
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-560-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-enum">enum</span> <span class="token class-name">Suit</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-561-close">{</span>
        suit_club<span class="token punctuation">,</span>
        suit_diamond<span class="token punctuation">,</span>
        suit_heart<span class="token punctuation">,</span>
        suit_spade<span class="token punctuation">,</span>

        max_suits
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-561-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array allRanks <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-562-close">{</span> rank_ace<span class="token punctuation">,</span> rank_2<span class="token punctuation">,</span> rank_3<span class="token punctuation">,</span> rank_4<span class="token punctuation">,</span> rank_5<span class="token punctuation">,</span> rank_6<span class="token punctuation">,</span> rank_7<span class="token punctuation">,</span> rank_8<span class="token punctuation">,</span> rank_9<span class="token punctuation">,</span> rank_10<span class="token punctuation">,</span> rank_jack<span class="token punctuation">,</span> rank_queen<span class="token punctuation">,</span> rank_king <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-562-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array allSuits <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-563-close">{</span> suit_club<span class="token punctuation">,</span> suit_diamond<span class="token punctuation">,</span> suit_heart<span class="token punctuation">,</span> suit_spade <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-563-open">}</span><span class="token punctuation">;</span>

    Rank rank<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-564-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-564-open">}</span><span class="token punctuation">;</span>
    Suit suit<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-565-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-565-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-491-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Card <span class="token operator">&amp;</span>card<span class="token punctuation brace-round brace-close brace-level-2" id="pair-491-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-568-close">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array ranks <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-566-close">{</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">,</span> <span class="token string">'5'</span><span class="token punctuation">,</span> <span class="token string">'6'</span><span class="token punctuation">,</span> <span class="token string">'7'</span><span class="token punctuation">,</span> <span class="token string">'8'</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'T'</span><span class="token punctuation">,</span> <span class="token string">'J'</span><span class="token punctuation">,</span> <span class="token string">'Q'</span><span class="token punctuation">,</span> <span class="token string">'K'</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-566-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array suits <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-567-close">{</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">'S'</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-567-open">}</span><span class="token punctuation">;</span>

        out <span class="token operator">&lt;&lt;</span> ranks<span class="token punctuation brace-square brace-open brace-level-3" id="pair-552-close">[</span>card<span class="token punctuation">.</span>rank<span class="token punctuation brace-square brace-close brace-level-3" id="pair-552-open">]</span> <span class="token operator">&lt;&lt;</span> suits<span class="token punctuation brace-square brace-open brace-level-3" id="pair-553-close">[</span>card<span class="token punctuation">.</span>suit<span class="token punctuation brace-square brace-close brace-level-3" id="pair-553-open">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-568-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-492-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-492-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-570-close">{</span>
        <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array rankValues <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-569-close">{</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-569-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> rankValues<span class="token punctuation brace-square brace-open brace-level-3" id="pair-554-close">[</span>rank<span class="token punctuation brace-square brace-close brace-level-3" id="pair-554-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-570-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-571-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Deck</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-579-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>Card<span class="token punctuation">,</span> <span class="token number">52</span><span class="token operator">&gt;</span> m_cards <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-572-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-572-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>size_t m_nextCardIndex <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-573-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-573-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Deck</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-493-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-493-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-576-close">{</span>
        std<span class="token double-colon punctuation">::</span>size_t count <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-574-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-574-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-494-close">(</span><span class="token keyword keyword-auto">auto</span> suit<span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allSuits<span class="token punctuation brace-round brace-close brace-level-3" id="pair-494-open">)</span>
            <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-495-close">(</span><span class="token keyword keyword-auto">auto</span> rank<span class="token operator">:</span> Card<span class="token double-colon punctuation">::</span>allRanks<span class="token punctuation brace-round brace-close brace-level-3" id="pair-495-open">)</span>
                m_cards<span class="token punctuation brace-square brace-open brace-level-3" id="pair-555-close">[</span>count<span class="token operator">++</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-555-open">]</span> <span class="token operator">=</span> Card<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-575-close">{</span>rank<span class="token punctuation">,</span> suit<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-575-open">}</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-576-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-496-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-496-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-577-close">{</span>
        std<span class="token double-colon punctuation">::</span><span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-499-close">(</span>m_cards<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-497-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-497-open">)</span><span class="token punctuation">,</span> m_cards<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-498-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-498-open">)</span><span class="token punctuation">,</span> Random<span class="token double-colon punctuation">::</span>mt<span class="token punctuation brace-round brace-close brace-level-3" id="pair-499-open">)</span><span class="token punctuation">;</span>
        m_nextCardIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-577-open">}</span>

    Card <span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-500-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-500-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-578-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-501-close">(</span>m_nextCardIndex <span class="token operator">!=</span> <span class="token number">52</span> <span class="token operator">&amp;&amp;</span> <span class="token string">"Deck::dealCard ran out of cards"</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-501-open">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> m_cards<span class="token punctuation brace-square brace-open brace-level-3" id="pair-556-close">[</span>m_nextCardIndex<span class="token operator">++</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-556-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-578-open">}</span>

<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-579-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Player</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-586-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_score<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-580-close">{</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-580-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_ace11Count <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-581-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-581-open">}</span><span class="token punctuation">;</span> <span class="token comment">// how many aces worth 11 points the player has</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token comment">// We'll use a function to add the card to the player's score</span>
    <span class="token comment">// Since we now need to count aces</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">addToScore</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-502-close">(</span>Card card<span class="token punctuation brace-round brace-close brace-level-2" id="pair-502-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-582-close">{</span>
        m_score <span class="token operator">+=</span> card<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-503-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-503-open">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-504-close">(</span>card<span class="token punctuation">.</span>rank <span class="token operator">==</span> Card<span class="token double-colon punctuation">::</span>rank_ace<span class="token punctuation brace-round brace-close brace-level-3" id="pair-504-open">)</span>
            <span class="token operator">++</span>m_ace11Count<span class="token punctuation">;</span> <span class="token comment">// aces start at 11 points</span>
        <span class="token function">consumeAces</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-505-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-505-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-582-open">}</span>

    <span class="token comment">// Decrease aceCount by 1 and</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">consumeAces</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-506-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-506-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-584-close">{</span>
        <span class="token comment">// If the player would bust, see if we can switch aces from 11 points to 1</span>
        <span class="token keyword keyword-while">while</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-507-close">(</span>m_score <span class="token operator">&gt;</span> Settings<span class="token double-colon punctuation">::</span>bust <span class="token operator">&amp;&amp;</span> m_ace11Count <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-507-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-583-close">{</span>
            m_score <span class="token operator">-=</span> <span class="token number">10</span><span class="token punctuation">;</span>
            <span class="token operator">--</span>m_ace11Count<span class="token punctuation">;</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-583-open">}</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-584-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">score</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-508-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-508-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-585-close">{</span> <span class="token keyword keyword-return">return</span> m_score<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-585-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-586-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-bool">bool</span> <span class="token function">playerWantsHit</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-509-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-509-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-590-close">{</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-510-close">(</span><span class="token boolean">true</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-510-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-589-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"(h) to hit, or (s) to stand: "</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-char">char</span> ch<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-587-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-587-open">}</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> ch<span class="token punctuation">;</span>

        <span class="token keyword keyword-switch">switch</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-511-close">(</span>ch<span class="token punctuation brace-round brace-close brace-level-3" id="pair-511-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-588-close">{</span>
            <span class="token keyword keyword-case">case</span> <span class="token string">'h'</span><span class="token operator">:</span>
                <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-case">case</span> <span class="token string">'s'</span><span class="token operator">:</span>
                <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-588-open">}</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-589-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-590-open">}</span>

<span class="token comment">// Returns true if the player went bust. False otherwise.</span>
<span class="token keyword keyword-bool">bool</span> <span class="token function">playerTurn</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-512-close">(</span>Deck<span class="token operator">&amp;</span> deck<span class="token punctuation">,</span> Player<span class="token operator">&amp;</span> player<span class="token punctuation brace-round brace-close brace-level-1" id="pair-512-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-594-close">{</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-515-close">(</span>player<span class="token punctuation">.</span><span class="token function">score</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-513-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-513-open">)</span> <span class="token operator">&lt;</span> Settings<span class="token double-colon punctuation">::</span>bust <span class="token operator">&amp;&amp;</span> <span class="token function">playerWantsHit</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-514-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-514-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-515-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-592-close">{</span>
        Card card <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-591-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-516-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-516-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-591-open">}</span><span class="token punctuation">;</span>
        player<span class="token punctuation">.</span><span class="token function">addToScore</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-517-close">(</span>card<span class="token punctuation brace-round brace-close brace-level-3" id="pair-517-open">)</span><span class="token punctuation">;</span>

        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You were dealt "</span> <span class="token operator">&lt;&lt;</span> card  <span class="token operator">&lt;&lt;</span> <span class="token string">". You now have: "</span> <span class="token operator">&lt;&lt;</span> player<span class="token punctuation">.</span><span class="token function">score</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-518-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-518-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-592-open">}</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-520-close">(</span>player<span class="token punctuation">.</span><span class="token function">score</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-519-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-519-open">)</span> <span class="token operator">&gt;</span> Settings<span class="token double-colon punctuation">::</span>bust<span class="token punctuation brace-round brace-close brace-level-2" id="pair-520-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-593-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You went bust!\n"</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-593-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-594-open">}</span>


<span class="token comment">// Returns true if the dealer went bust. False otherwise.</span>
<span class="token keyword keyword-bool">bool</span> <span class="token function">dealerTurn</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-521-close">(</span>Deck<span class="token operator">&amp;</span> deck<span class="token punctuation">,</span> Player<span class="token operator">&amp;</span> dealer<span class="token punctuation brace-round brace-close brace-level-1" id="pair-521-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-598-close">{</span>
    <span class="token keyword keyword-while">while</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-523-close">(</span>dealer<span class="token punctuation">.</span><span class="token function">score</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-522-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-522-open">)</span> <span class="token operator">&lt;</span> Settings<span class="token double-colon punctuation">::</span>dealerStopsAt<span class="token punctuation brace-round brace-close brace-level-2" id="pair-523-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-596-close">{</span>
        Card card <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-595-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-524-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-524-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-595-open">}</span><span class="token punctuation">;</span>
        dealer<span class="token punctuation">.</span><span class="token function">addToScore</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-525-close">(</span>card<span class="token punctuation brace-round brace-close brace-level-3" id="pair-525-open">)</span><span class="token punctuation">;</span>

        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The dealer flips a "</span> <span class="token operator">&lt;&lt;</span> card <span class="token operator">&lt;&lt;</span> <span class="token string">".  They now have: "</span> <span class="token operator">&lt;&lt;</span> dealer<span class="token punctuation">.</span><span class="token function">score</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-526-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-526-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-596-open">}</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-528-close">(</span>dealer<span class="token punctuation">.</span><span class="token function">score</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-527-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-527-open">)</span> <span class="token operator">&gt;</span> Settings<span class="token double-colon punctuation">::</span>bust<span class="token punctuation brace-round brace-close brace-level-2" id="pair-528-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-597-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The dealer went bust!\n"</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-597-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-598-open">}</span>

<span class="token keyword keyword-enum">enum</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">GameResult</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-599-close">{</span>
    playerWon<span class="token punctuation">,</span>
    dealerWon<span class="token punctuation">,</span>
    tie
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-599-open">}</span><span class="token punctuation">;</span>

GameResult <span class="token function">playBlackjack</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-529-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-529-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-606-close">{</span>
    Deck deck<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-600-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-600-open">}</span><span class="token punctuation">;</span>
    deck<span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-530-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-530-open">)</span><span class="token punctuation">;</span>

    Player dealer<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-601-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-601-open">}</span><span class="token punctuation">;</span>
    Card card1 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-602-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-531-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-531-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-602-open">}</span><span class="token punctuation">;</span>
    dealer<span class="token punctuation">.</span><span class="token function">addToScore</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-532-close">(</span>card1<span class="token punctuation brace-round brace-close brace-level-2" id="pair-532-open">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The dealer is showing "</span> <span class="token operator">&lt;&lt;</span> card1 <span class="token operator">&lt;&lt;</span> <span class="token string">" ("</span> <span class="token operator">&lt;&lt;</span> dealer<span class="token punctuation">.</span><span class="token function">score</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-533-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-533-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>

    Player player<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-603-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-603-open">}</span><span class="token punctuation">;</span>
    Card card2 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-604-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-534-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-534-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-604-open">}</span><span class="token punctuation">;</span>
    Card card3 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-605-close">{</span> deck<span class="token punctuation">.</span><span class="token function">dealCard</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-535-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-535-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-605-open">}</span><span class="token punctuation">;</span>
    player<span class="token punctuation">.</span><span class="token function">addToScore</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-536-close">(</span>card2<span class="token punctuation brace-round brace-close brace-level-2" id="pair-536-open">)</span><span class="token punctuation">;</span>
    player<span class="token punctuation">.</span><span class="token function">addToScore</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-537-close">(</span>card3<span class="token punctuation brace-round brace-close brace-level-2" id="pair-537-open">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You are showing "</span> <span class="token operator">&lt;&lt;</span> card2 <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span> <span class="token operator">&lt;&lt;</span> card3 <span class="token operator">&lt;&lt;</span> <span class="token string">" ("</span> <span class="token operator">&lt;&lt;</span> player<span class="token punctuation">.</span><span class="token function">score</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-538-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-538-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-540-close">(</span><span class="token function">playerTurn</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-539-close">(</span>deck<span class="token punctuation">,</span> player<span class="token punctuation brace-round brace-close brace-level-3" id="pair-539-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-540-open">)</span> <span class="token comment">// if player busted</span>
        <span class="token keyword keyword-return">return</span> GameResult<span class="token double-colon punctuation">::</span>dealerWon<span class="token punctuation">;</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-542-close">(</span><span class="token function">dealerTurn</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-541-close">(</span>deck<span class="token punctuation">,</span> dealer<span class="token punctuation brace-round brace-close brace-level-3" id="pair-541-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-542-open">)</span> <span class="token comment">// if dealer busted</span>
        <span class="token keyword keyword-return">return</span> GameResult<span class="token double-colon punctuation">::</span>playerWon<span class="token punctuation">;</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-545-close">(</span>player<span class="token punctuation">.</span><span class="token function">score</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-543-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-543-open">)</span> <span class="token operator">==</span> dealer<span class="token punctuation">.</span><span class="token function">score</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-544-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-544-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-545-open">)</span>
        <span class="token keyword keyword-return">return</span> GameResult<span class="token double-colon punctuation">::</span>tie<span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-548-close">(</span>player<span class="token punctuation">.</span><span class="token function">score</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-546-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-546-open">)</span> <span class="token operator">&gt;</span> dealer<span class="token punctuation">.</span><span class="token function">score</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-547-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-547-open">)</span> <span class="token operator">?</span> GameResult<span class="token double-colon punctuation">::</span>playerWon <span class="token operator">:</span> GameResult<span class="token double-colon punctuation">::</span>dealerWon<span class="token punctuation brace-round brace-close brace-level-2" id="pair-548-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-606-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-549-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-549-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-608-close">{</span>
    <span class="token keyword keyword-switch">switch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-551-close">(</span><span class="token function">playBlackjack</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-550-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-550-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-551-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-607-close">{</span>
    <span class="token keyword keyword-case">case</span> GameResult<span class="token double-colon punctuation">::</span>playerWon<span class="token operator">:</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You win!\n"</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> GameResult<span class="token double-colon punctuation">::</span>dealerWon<span class="token operator">:</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You lose!\n"</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> GameResult<span class="token double-colon punctuation">::</span>tie<span class="token operator">:</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"It's a tie.\n"</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-607-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-608-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/sorting-an-array-using-selection-sort/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">18.1</span>Sorting an array
            using selection sort
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/multidimensional-stdarray/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">17.13</span>Multidimensional
            std::array
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
