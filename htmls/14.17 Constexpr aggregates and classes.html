<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  In lesson
  <a href="https://www.learncpp.com/cpp-tutorial/constexpr-functions/"
    >F.1 -- Constexpr functions</a
  >, we covered constexpr functions, which are functions that may be evaluated
  at either compile-time or runtime. For example:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> <span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-0-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-1" id="pair-0-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-5-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-1-close">(</span>x <span class="token operator">&gt;</span> y <span class="token operator">?</span> x <span class="token operator">:</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-1-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-5-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-2-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-2-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-7-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-3-close">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-3-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// greater(5, 6) may be evaluated at compile-time or runtime</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> g <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-6-close">{</span> <span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-4-close">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-4-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-6-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// greater(5, 6) must be evaluated at compile-time</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> g <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>             <span class="token comment">// prints 6</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-7-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In this example, <code>greater()</code> is a constexpr function, and
  <code>greater(5, 6)</code> is a constant expression, which may be evaluated at
  either compile-time or runtime. Because
  <code>std::cout &lt;&lt; greater(5, 6)</code> calls
  <code>greater(5, 6)</code> in a non-constexpr context, the compiler is free to
  choose whether to evaluate <code>greater(5, 6</code>) at compile-time or
  runtime. When <code>greater(5, 6)</code> is used to initialize constexpr
  variable <code>g</code>, <code>greater(5, 6)</code> is called in a constexpr
  context, and must be evaluated at compile-time.
</p>
<p>Now consider the following similar example:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Pair</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-16-close">{</span>
    <span class="token keyword keyword-int">int</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-13-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-13-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-14-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-14-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-8-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-8-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-15-close">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-9-close">(</span>m_x <span class="token operator">&gt;</span> m_y  <span class="token operator">?</span> m_x <span class="token operator">:</span> m_y<span class="token punctuation brace-round brace-close brace-level-3" id="pair-9-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-15-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-16-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-10-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-10-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-19-close">{</span>
    Pair p <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-17-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-17-open">}</span><span class="token punctuation">;</span>                  <span class="token comment">// inputs are constexpr values</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-11-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-11-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// p.greater() evaluates at runtime</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> g <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-18-close">{</span> p<span class="token punctuation">.</span><span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-12-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-12-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-18-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// compile error: greater() not constexpr</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> g <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-19-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In this version, we have an aggregate struct named <code>Pair</code>, and
  <code>greater()</code> is now a member function. However, because member
  function <code>greater()</code> is not constexpr, <code>p.greater()</code> is
  not a constant expression. When
  <code>std::cout &lt;&lt; p.greater()</code> calls <code>p.greater()</code> (in
  a non-constexpr context), <code>p.greater()</code> will be evaluated at
  runtime. However, when we try to use <code>p.greater()</code> to initialize
  constexpr variable <code>g</code>, we get a compile error, as
  <code>p.greater()</code> cannot be evaluated at compile-time.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1640052213&amp;adf=4140264630&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750151346&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fconstexpr-aggregates-and-classes%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962995999&amp;bpp=1&amp;bdt=1093&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=6794201285052&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1453&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353387%2C95362655%2C95363083%2C95364969%2C95365225%2C95365234%2C95365107%2C95359265%2C95365122%2C95365797&amp;oid=2&amp;pvsid=3694943083143118&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;cms=2&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=19"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CK_G7d_qrI4DFftXDwIdl_Ur6A"
      ></iframe></div
  ></ins>
</div>
<p>
  Since the inputs to <code>p</code> are constexpr values (<code>5</code> and
  <code>6</code>), it seems like <code>p.greater()</code> should be capable of
  being evaluated at compile-time. But how do we do that?
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  Constexpr member functions
</p>
<p>
  Just like non-member functions, member functions can be made constexpr via use
  of the <code>constexpr</code> keyword. Constexpr member functions can be
  evaluated at either compile-time or runtime.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Pair</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-28-close">{</span>
    <span class="token keyword keyword-int">int</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-25-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-25-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-26-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-26-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> <span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-20-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-20-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token comment">// can evaluate at either compile-time or runtime</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-27-close">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-21-close">(</span>m_x <span class="token operator">&gt;</span> m_y  <span class="token operator">?</span> m_x <span class="token operator">:</span> m_y<span class="token punctuation brace-round brace-close brace-level-3" id="pair-21-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-27-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-28-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-22-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-22-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-31-close">{</span>
    Pair p <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-29-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-29-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-23-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-23-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// okay: p.greater() evaluates at runtime</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> g <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-30-close">{</span> p<span class="token punctuation">.</span><span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-24-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-24-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-30-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// compile error: p not constexpr</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> g <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-31-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In this example, we’ve made <code>greater()</code> a constexpr function, so
  the compiler can evaluate it at either runtime or compile-time.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1640052213&amp;adf=3056241588&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750151346&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fconstexpr-aggregates-and-classes%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962995999&amp;bpp=1&amp;bdt=1093&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=6794201285052&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2321&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353387%2C95362655%2C95363083%2C95364969%2C95365225%2C95365234%2C95365107%2C95359265%2C95365122%2C95365797&amp;oid=2&amp;pvsid=3694943083143118&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=20"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CMq47d_qrI4DFTdYDwIdQIcTZA"
      ></iframe></div
  ></ins>
</div>
<p>
  When we call <code>p.greater()</code> in runtime expression
  <code>std::cout &lt;&lt; p.greater()</code>, it evaluates at runtime.
</p>
<p>
  However, when <code>p.greater()</code> is used to initialize constexpr
  variable <code>g</code>, we get a compiler error. Although
  <code>greater()</code> is now constexpr, <code>p</code> is still not
  constexpr, therefore <code>p.greater()</code> is not a constant expression.
</p>
<p class="cpp-section cpp-topline" style="clear: both">Constexpr aggregates</p>
<p>
  Okay, so if we need <code>p</code> to be constexpr, let’s just make it
  constexpr:
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Pair</span> <span class="token comment">// Pair is an aggregate</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-40-close">{</span>
    <span class="token keyword keyword-int">int</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-37-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-37-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-38-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-38-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> <span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-32-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-32-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-39-close">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-33-close">(</span>m_x <span class="token operator">&gt;</span> m_y  <span class="token operator">?</span> m_x <span class="token operator">:</span> m_y<span class="token punctuation brace-round brace-close brace-level-3" id="pair-33-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-39-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-40-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-34-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-34-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-43-close">{</span>
    <span class="token keyword keyword-constexpr">constexpr</span> Pair p <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-41-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-41-open">}</span><span class="token punctuation">;</span>        <span class="token comment">// now constexpr</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-35-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-35-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// p.greater() evaluates at runtime or compile-time</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> g <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-42-close">{</span> p<span class="token punctuation">.</span><span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-36-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-36-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-42-open">}</span><span class="token punctuation">;</span>  <span class="token comment">// p.greater() must evaluate at compile-time</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> g <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-43-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Since <code>Pair</code> is an aggregate, and aggregates implicitly support
  constexpr, we’re done. This works! Since <code>p</code> is a constexpr type,
  and <code>greater()</code> is a constexpr member function,
  <code>p.greater()</code> is a constant expression and can be used in places
  where only constant expressions are allowed.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">Related content</p>
  <p>
    We covered aggregates in lesson
    <a
      href="https://www.learncpp.com/cpp-tutorial/struct-aggregate-initialization/"
      >13.8 -- Struct aggregate initialization</a
    >.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Constexpr class objects and constexpr constructors
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1640052213&amp;adf=842863203&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750151346&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fconstexpr-aggregates-and-classes%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962995999&amp;bpp=1&amp;bdt=1093&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=6794201285052&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3390&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353387%2C95362655%2C95363083%2C95364969%2C95365225%2C95365234%2C95365107%2C95359265%2C95365122%2C95365797&amp;oid=2&amp;pvsid=3694943083143118&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=21"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="COva7d_qrI4DFRleDwIdINckrw"
      ></iframe></div
  ></ins>
</div>
<p>Now let’s make our <code>Pair</code> a non-aggregate:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Pair</span> <span class="token comment">// Pair is no longer an aggregate</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-56-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-50-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-50-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-51-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-51-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Pair</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-44-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-44-open">)</span><span class="token operator">:</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-52-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-52-open">}</span><span class="token punctuation">,</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-53-close">{</span> y <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-53-open">}</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-54-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-54-open">}</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> <span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-45-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-45-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-55-close">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-46-close">(</span>m_x <span class="token operator">&gt;</span> m_y  <span class="token operator">?</span> m_x <span class="token operator">:</span> m_y<span class="token punctuation brace-round brace-close brace-level-3" id="pair-46-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-55-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-56-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-47-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-47-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-59-close">{</span>
    <span class="token keyword keyword-constexpr">constexpr</span> Pair p <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-57-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-57-open">}</span><span class="token punctuation">;</span>       <span class="token comment">// compile error: p is not a literal type</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-48-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-48-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> g <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-58-close">{</span> p<span class="token punctuation">.</span><span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-49-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-49-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-58-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> g <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-59-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This example is almost identical to the prior one, except <code>Pair</code> is
  no longer an aggregate (due to having private data members and a constructor).
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1640052213&amp;adf=185906362&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750151346&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fconstexpr-aggregates-and-classes%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962996001&amp;bpp=1&amp;bdt=1096&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1080x1024&amp;nras=6&amp;correlator=6794201285052&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3659&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353387%2C95362655%2C95363083%2C95364969%2C95365225%2C95365234%2C95365107%2C95359265%2C95365122%2C95365797&amp;oid=2&amp;pvsid=3694943083143118&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=246"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CK26-9_qrI4DFfFvDwIdWWk7Ow"
      ></iframe></div
  ></ins>
</div>
<p>
  When we compile this program, we get a compiler error about
  <code>Pair</code> not being a “literal type”. Say what?
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p>
  In C++, a <strong>literal type</strong> is any type for which it might be
  possible to create an object within a constant expression. Put another way, an
  object can’t be constexpr unless the type qualifies as a literal type. And our
  non-aggregate <code>Pair</code> does not qualify.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">Nomenclature</p>
  <p>
    A literal and a literal type are distinct (but related) things. A literal is
    a constexpr value that is inserted into the source code. A literal type is a
    type that can be used as the type of a constexpr value. A literal always has
    a literal type. However, a value or object with a literal type need not be a
    literal.
  </p>
</div>
<p>
  The definition of a literal type is complex, and a summary can be found on
  <a href="https://en.cppreference.com/w/cpp/named_req/LiteralType"
    >cppreference</a
  >. However, it’s worth noting that literal types include:
</p>
<ul>
  <li>
    Scalar types (those holding a single value, such as fundamental types and
    pointers)
  </li>
  <li>Reference types</li>
  <li>Most aggregates</li>
  <li>Classes that have a constexpr constructor</li>
</ul>
<p>
  And now we see why our <code>Pair</code> isn’t a literal type. When a class
  object is instantiated, the compiler will call the constructor function to
  initialize the object. And the constructor function in our
  <code>Pair</code> class is not constexpr, so it can’t be invoked at
  compile-time. Therefore, <code>Pair</code> objects cannot be constexpr.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1640052213&amp;adf=3346643714&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750151346&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fconstexpr-aggregates-and-classes%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962996003&amp;bpp=1&amp;bdt=1097&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1080x1024%2C1027x280&amp;nras=7&amp;correlator=6794201285052&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=4059&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353387%2C95362655%2C95363083%2C95364969%2C95365225%2C95365234%2C95365107%2C95359265%2C95365122%2C95365797&amp;oid=2&amp;pvsid=3694943083143118&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=5&amp;fsb=1&amp;dtd=288"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CJj5_d_qrI4DFQ9pDwIdaFIyjg"
      ></iframe></div
  ></ins>
</div>
<p>
  The fix for this is simple: we just make our constructor
  <code>constexpr</code> as well:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Pair</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-72-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-66-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-66-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-67-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-67-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token function">Pair</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-60-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-60-open">)</span><span class="token operator">:</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-68-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-68-open">}</span><span class="token punctuation">,</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-69-close">{</span> y <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-69-open">}</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-70-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-70-open">}</span> <span class="token comment">// now constexpr</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> <span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-61-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-61-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-71-close">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-62-close">(</span>m_x <span class="token operator">&gt;</span> m_y  <span class="token operator">?</span> m_x <span class="token operator">:</span> m_y<span class="token punctuation brace-round brace-close brace-level-3" id="pair-62-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-71-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-72-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-63-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-63-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-75-close">{</span>
    <span class="token keyword keyword-constexpr">constexpr</span> Pair p <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-73-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-73-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-64-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-64-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> g <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-74-close">{</span> p<span class="token punctuation">.</span><span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-65-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-65-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-74-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> g <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-75-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This works as expected, just like our aggregate version of
  <code>Pair</code> did.
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <div
    class="google-auto-placed ap_container"
    style="width: 100%; height: auto; clear: both; text-align: center"
  >
    <ins
      data-ad-format="auto"
      class="adsbygoogle adsbygoogle-noablate"
      data-ad-client="ca-pub-0588844875925051"
      data-adsbygoogle-status="done"
      style="
        display: block;
        margin: auto;
        background-color: transparent;
        height: 280px;
      "
      ><div
        id="aswift_10_host"
        style="
          border: none;
          height: 280px;
          width: 995px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
        "
      ></div
    ></ins>
  </div>
  <p>
    If you want your class to be able to be evaluated at compile-time, make your
    member functions and constructor constexpr.
  </p>
</div>
<p>
  Implicitly defined constructors are constexpr if they can be defined as such.
  Explicitly defaulted constructors must be explicitly defined as constexpr.
</p>
<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Tip</p>
  <p>
    Constexpr is part of the interface of the class, and removing it later will
    break callers who are calling the function in a constant context.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Constexpr members may be needed with non-constexpr/non-const objects
</p>
<p>
  In the above example, since the initializer of constexpr variable
  <code>g</code> must be a constant expression, it’s clear that
  <code>p.greater()</code> must be a constant expression, and therefore
  <code>p</code>, the <code>Pair</code> constructor, and
  <code>greater()</code> must all be constexpr.
</p>
<p>
  However, if we replace <code>p.greater()</code> with a constexpr function,
  things get a little less obvious:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Pair</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-89-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-83-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-83-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-84-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-84-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token function">Pair</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-76-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-76-open">)</span><span class="token operator">:</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-85-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-85-open">}</span><span class="token punctuation">,</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-86-close">{</span> y <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-86-open">}</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-87-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-87-open">}</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> <span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-77-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-77-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-88-close">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-78-close">(</span>m_x <span class="token operator">&gt;</span> m_y  <span class="token operator">?</span> m_x <span class="token operator">:</span> m_y<span class="token punctuation brace-round brace-close brace-level-3" id="pair-78-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-88-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-89-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> <span class="token function">init</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-79-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-79-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-91-close">{</span>
    Pair p <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-90-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-90-open">}</span><span class="token punctuation">;</span>    <span class="token comment">// requires constructor to be constexpr when evaluated at compile-time</span>
    <span class="token keyword keyword-return">return</span> p<span class="token punctuation">.</span><span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-80-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-80-open">)</span><span class="token punctuation">;</span> <span class="token comment">// requires greater() to be constexpr when evaluated at compile-time</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-91-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-81-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-81-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-93-close">{</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> g <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-92-close">{</span> <span class="token function">init</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-82-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-82-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-92-open">}</span><span class="token punctuation">;</span> <span class="token comment">// init() evaluated in compile-time context</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> g <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-93-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Remember that a constexpr function can evaluate at either runtime or
  compile-time. And when a constexpr function evaluates at compile-time, it can
  only call functions capable of evaluating at compile-time. In the case of a
  class type, that means constexpr member functions.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_11_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<p>
  Since <code>g</code> is constexpr, <code>init()</code> must be evaluated at
  compile-time. Within the <code>init()</code> function, we define
  <code>p</code> as non-constexpr/non-const (because we can, not because we
  should). Even though <code>p</code> is not defined as constexpr,
  <code>p</code> still needs to be created at compile-time, and therefore
  requires a constexpr <code>Pair</code> constructor. Similarly, in order for
  <code>p.greater()</code> to evaluate at compile-time,
  <code>greater()</code> must be a constexpr member function. If either the
  <code>Pair</code> constructor or <code>greater()</code> were not constexpr,
  the compiler would error.
</p>
<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Key insight</p>
  <p>
    When a constexpr function is evaluating in a compile-time context, only
    constexpr functions can be called.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Constexpr member functions may be const or non-const
  <span class="cpp-section-pill cpp-section-standard">C++14</span>
</p>
<p>
  In C++11, non-static constexpr member functions are implicitly const (except
  constructors).
</p>
<p>
  However, as of C++14, constexpr member functions are no longer implicitly
  const. This means that if you want a constexpr function to be a const
  function, you must explicitly mark it as such.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_12_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Constexpr non-const member functions can change data members
  <span class="cpp-section-pill cpp-section-optional">Optional</span>
</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>

<p>
  A constexpr non-const member function can change data members of the class, so
  long as the implicit object isn’t const. This is true even if the function is
  evaluating at compile-time.
</p>
<p>Here’s a contrived example of this:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Pair</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-117-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-109-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-109-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-110-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-110-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token function">Pair</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-94-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-94-open">)</span><span class="token operator">:</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-111-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-111-open">}</span><span class="token punctuation">,</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-112-close">{</span> y <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-112-open">}</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-113-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-113-open">}</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-int">int</span> <span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-95-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-95-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token comment">// constexpr and const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-114-close">{</span>
        <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-96-close">(</span>m_x <span class="token operator">&gt;</span> m_y  <span class="token operator">?</span> m_x <span class="token operator">:</span> m_y<span class="token punctuation brace-round brace-close brace-level-3" id="pair-96-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-114-open">}</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-void">void</span> <span class="token function">reset</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-97-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-97-open">)</span> <span class="token comment">// constexpr but non-const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-115-close">{</span>
        m_x <span class="token operator">=</span> m_y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// non-const member function can change members</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-115-open">}</span>

    <span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> <span class="token function">getX</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-98-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-98-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-116-close">{</span> <span class="token keyword keyword-return">return</span> m_x<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-116-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-117-open">}</span><span class="token punctuation">;</span>

<span class="token comment">// This function is constexpr</span>
<span class="token keyword keyword-constexpr">constexpr</span> Pair <span class="token function">zero</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-99-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-99-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-119-close">{</span>
    Pair p <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-118-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-118-open">}</span><span class="token punctuation">;</span> <span class="token comment">// p is non-const</span>
    p<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-100-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-100-open">)</span><span class="token punctuation">;</span>       <span class="token comment">// okay to call non-const member function on non-const object</span>
    <span class="token keyword keyword-return">return</span> p<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-119-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-101-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-101-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-123-close">{</span>
    Pair p1 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-120-close">{</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-120-open">}</span><span class="token punctuation">;</span>
    p1<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-102-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-102-open">)</span><span class="token punctuation">;</span>                     <span class="token comment">// okay to call non-const member function on non-const object</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> p1<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-103-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-103-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// prints 0</span>

    Pair p2 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-121-close">{</span> <span class="token function">zero</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-104-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-104-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-121-open">}</span><span class="token punctuation">;</span>             <span class="token comment">// zero() will be evaluated at runtime</span>
    p2<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-105-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-105-open">)</span><span class="token punctuation">;</span>                     <span class="token comment">// okay to call non-const member function on non-const object</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> p2<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-106-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-106-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// prints 0</span>

    <span class="token keyword keyword-constexpr">constexpr</span> Pair p3 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-122-close">{</span> <span class="token function">zero</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-107-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-107-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-122-open">}</span><span class="token punctuation">;</span>   <span class="token comment">// zero() will be evaluated at compile-time</span>
<span class="token comment">//    p3.reset();                   // Compile error: can't call non-const member function on const object</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> p3<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-108-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-108-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// prints 0</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-123-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>As we work through this example, remember:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_13_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<ul>
  <li>A non-const member function can modify members of non-const objects.</li>
  <li>
    A constexpr member function can be called in either runtime contexts or
    compile-time contexts.
  </li>
</ul>
<p>These two things work independently.</p>
<p>
  In the case of <code>p1</code>, <code>p1</code> is non-const. Therefore, we
  are allowed to call non-const member function <code>p1.reset()</code> to
  modify <code>p1</code>. The fact that <code>reset()</code> is constexpr
  doesn’t matter here because nothing we’re doing requires compile-time
  evaluation.
</p>
<div class="code-block code-block-8" style="margin: 8px 0; clear: both"></div>

<p>
  The <code>p2</code> case is similar. In this case, the initializer to
  <code>p2</code> is a function call to <code>zero()</code>. Even though
  <code>zero()</code> is a constexpr function, in this case it is invoked in a
  runtime context, and acts just like a normal function. Within
  <code>zero()</code>, we instantiate non-const <code>p</code>, call non-const
  member function <code>p.reset()</code> on it, and then return <code>p</code>.
  The returned <code>Pair</code> is used as the initializer for <code>p2</code>.
  The fact that <code>zero()</code> and <code>reset()</code> are constexpr don’t
  matter in this case, because nothing we’re doing requires compile-time
  evaluation.
</p>
<p>
  The <code>p3</code> case is the interesting one. Because <code>p3</code> is
  constexpr, it must have a constant expression initializer. Therefore, this
  call to <code>zero()</code> must evaluate at compile-time. And because we’re
  evaluating in a compile-time context, we can only call constexpr functions.
  Inside <code>zero()</code>, <code>p</code> is non-const (which is allowed,
  even though we’re evaluating at compile-time). However, because we’re in a
  compile-time context, the constructor used to create <code>p</code> must be
  constexpr. And just like the <code>p2</code> case, we’re allowed to call
  non-const member function <code>p.reset()</code> on non-const object
  <code>p</code>. But because we’re in a compile-time context, the
  <code>reset()</code> member function must be constexpr. The function then
  returns <code>p</code>, which is used to initialize <code>p3</code>.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">Author’s note</p>
  <p>
    Yes, we used a non-const object to initialize a constexpr object. If this
    breaks your brain, it’s probably because you haven’t fully separated const
    from constexpr.
  </p>
  <p>
    There is no requirement that a constexpr variable be initialized with a
    const value. It may seem that way because most of the time we initialize
    constexpr variable using literals (which are const) or other constexpr
    variables (which are implicitly const), and because the terms
    <code>const</code> and <code>constexpr</code> have similar names.
  </p>
  <p>
    The requirement is actually that a constexpr variable be initialized with a
    constant expression. For functions (and operators), constexpr does not imply
    const, and constexpr functions (and operators) can make use of non-const
    objects and even return them.
  </p>
  <p>
    The important thing isn’t the const, its that the compiler can determine the
    value of the object at compile-time. And in the case of constexpr functions,
    that’s possible even when they return a non-const object!
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Constexpr functions that return const references (or pointers)
  <span class="cpp-section-pill cpp-section-optional">Optional</span>
</p>
<p>
  Normally you won’t see <code>constexpr</code> and <code>const</code> used
  right next to each other, but one case where this does happen is when you have
  a constexpr member function that returns a const reference (or (const)
  pointer-to-const).
</p>
<p>
  In our <code>Pair</code> class above, <code>getX()</code> is a constexpr
  member function that returns a const reference:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> <span class="token function">getX</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-124-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-124-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-125-close">{</span> <span class="token keyword keyword-return">return</span> m_x<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-125-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>That’s a lot of const-ing!</p>
<p>
  The <code>constexpr</code> indicates that the member function can be evaluated
  at compile-time. The <code>const int&amp;</code> is the return type of the
  function. The rightmost <code>const</code> means the member-function itself is
  const so it can be called on const objects.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">As an aside…</p>
  <p>
    A member function that returned a const pointer to const instead might look
    something like this:
  </p>
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span><span class="token operator">*</span> <span class="token keyword keyword-const">const</span> <span class="token function">getXPtr</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-126-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-126-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-127-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token operator">&amp;</span>m_x<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-127-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
  <p>Isn’t it beautiful? No? Okay, fine.</p>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/chapter-14-summary-and-quiz/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">14.x</span>Chapter 14 summary
            and quiz
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/converting-constructors-and-the-explicit-keyword/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">14.16</span>Converting
            constructors and the explicit keyword
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
