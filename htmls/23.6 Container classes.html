<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  In real life, we use containers all the time. Your breakfast cereal comes in a
  box, the pages in your book come inside a cover and binding, and you might
  store any number of items in containers in your garage. Without containers, it
  would be extremely inconvenient to work with many of these objects. Imagine
  trying to read a book that didn’t have any sort of binding, or eat cereal that
  didn’t come in a box without using a bowl. It would be a mess. The value the
  container provides is largely in its ability to help organize and store items
  that are put inside it.
</p>
<p>
  Similarly, a <strong>container class</strong> is a class designed to hold and
  organize multiple instances of another type (either another class, or a
  fundamental type). There are many different kinds of container classes, each
  of which has various advantages, disadvantages, and restrictions in their use.
  By far the most commonly used container in programming is the array, which you
  have already seen many examples of. Although C++ has built-in array
  functionality, programmers will often use an array container class (std::array
  or std::vector) instead because of the additional benefits they provide.
  Unlike built-in arrays, array container classes generally provide dynamic
  resizing (when elements are added or removed), remember their size when they
  are passed to functions, and do bounds-checking. This not only makes array
  container classes more convenient than normal arrays, but safer too.
</p>
<p>
  Container classes typically implement a fairly standardized minimal set of
  functionality. Most well-defined containers will include functions that:
</p>
<ul>
  <li>Create an empty container (via a constructor)</li>
  <li>Insert a new object into the container</li>
  <li>Remove an object from the container</li>
  <li>Report the number of objects currently in the container</li>
  <li>Empty the container of all objects</li>
  <li>Provide access to the stored objects</li>
  <li>Sort the elements (optional)</li>
</ul>
<p>
  Sometimes certain container classes will omit some of this functionality. For
  example, arrays container classes often omit the insert and remove functions
  because they are slow and the class designer does not want to encourage their
  use.
</p>
<p>
  Container classes implement a member-of relationship. For example, elements of
  an array are members-of (belong to) the array. Note that we’re using
  “member-of” in the conventional sense, not the C++ class member sense.
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p><strong>Types of containers</strong></p>
<p>
  Container classes generally come in two different varieties.
  <strong>Value containers</strong> are
  <a href="https://www.learncpp.com/cpp-tutorial/102-composition/"
    >compositions</a
  >
  that store copies of the objects that they are holding (and thus are
  responsible for creating and destroying those copies).
  <strong>Reference containers</strong> are
  <a href="https://www.learncpp.com/cpp-tutorial/103-aggregation/"
    >aggregations</a
  >
  that store pointers or references to other objects (and thus are not
  responsible for creation or destruction of those objects).
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: visible;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0;
          position: absolute;
          top: 0;
          border: 0;
          width: 1027px;
          height: 280px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="280"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2100339063&amp;adf=3875563995&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751730203&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fcontainer-classes%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963457561&amp;bpp=1&amp;bdt=1094&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=1198739759624&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=964&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362655%2C95365226%2C95365234%2C42533294%2C95365114%2C95359265%2C95365120%2C95365798&amp;oid=2&amp;pvsid=6056823710510278&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;cms=2&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;fsb=1&amp;dtd=14"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-google-query-id="CPXJ-LvsrI4DFevVTAIdRSY5Tw"
        data-load-complete="true"
      ></iframe></div
  ></ins>
</div>
<p>
  Unlike in real life, where containers can hold whatever types of objects you
  put in them, in C++, containers typically only hold one type of data. For
  example, if you have an array of integers, it will only hold integers. Unlike
  some other languages, many C++ containers do not allow you to arbitrarily mix
  types. If you need containers to hold integers and doubles, you will generally
  have to write two separate containers to do this (or use templates, which is
  an advanced C++ feature). Despite the restrictions on their use, containers
  are immensely useful, and they make programming easier, safer, and faster.
</p>
<p><strong>An array container class</strong></p>
<p>
  In this example, we are going to write an integer array class from scratch
  that implements most of the common functionality that containers should have.
  This array class is going to be a value container, which will hold copies of
  the elements it’s organizing. As the name suggests, the container will hold an
  array of integers, similar to <code>std::vector&lt;int&gt;</code>.
</p>
<p>First, let’s create the IntArray.h file:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">INTARRAY_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">INTARRAY_H</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-0-close">{</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-0-open">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: 10px auto 14px;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_10"
        name="aswift_10"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2229612086&amp;adf=2654656241&amp;pi=t.aa~a.1108301246~rp.1&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751730203&amp;rafmt=1&amp;to=qs&amp;pwprc=4633386603&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fcontainer-classes%2F&amp;fwr=0&amp;pra=3&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=40&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963457690&amp;bpp=1&amp;bdt=1223&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=1198739759624&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1663&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362655%2C95365226%2C95365234%2C42533294%2C95365114%2C95359265%2C95365120%2C95365798&amp;oid=2&amp;pvsid=6056823710510278&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1920&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=11&amp;uci=a!b&amp;btvi=2&amp;fsb=1&amp;dtd=11"
        data-google-container-id="a!b"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CMLbgLzsrI4DFSTETAIdABEOww"
      ></iframe></div
  ></ins>
</div>
<p>
  Our IntArray is going to need to keep track of two values: the data itself,
  and the size of the array. Because we want our array to be able to change in
  size, we’ll have to do some dynamic allocation, which means we’ll have to use
  a pointer to store the data.
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">INTARRAY_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">INTARRAY_H</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-3-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-1-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-1-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span><span class="token operator">*</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-2-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-2-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-3-open">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Now we need to add some constructors that will allow us to create IntArrays.
  We are going to add two constructors: one that constructs an empty array, and
  one that will allow us to construct an array of a predetermined size.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">INTARRAY_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">INTARRAY_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span> <span class="token comment">// for assert()</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstddef&gt;</span> <span class="token comment">// for std::size_t</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-15-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-10-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-10-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span><span class="token operator">*</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-11-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-11-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-4-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-4-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>

    <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-5-close">(</span><span class="token keyword keyword-int">int</span> length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-5-open">)</span><span class="token operator">:</span>
        m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-12-close">{</span> length <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-12-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-14-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-6-close">(</span>length <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-6-open">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-7-close">(</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-7-open">)</span>
            m_data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-9-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-8-close">(</span>length<span class="token punctuation brace-round brace-close brace-level-4" id="pair-8-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-9-open">]</span><span class="token punctuation brace-curly brace-open brace-level-3" id="pair-13-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-13-open">}</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-14-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-15-open">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: 10px auto 14px;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_11_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_11"
        name="aswift_11"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2229612086&amp;adf=3086092690&amp;pi=t.aa~a.1107934733~rp.1&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751730203&amp;rafmt=1&amp;to=qs&amp;pwprc=4633386603&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fcontainer-classes%2F&amp;fwr=0&amp;pra=3&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=40&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963457690&amp;bpp=1&amp;bdt=1223&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=1198739759624&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2753&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362655%2C95365226%2C95365234%2C42533294%2C95365114%2C95359265%2C95365120%2C95365798&amp;oid=2&amp;pvsid=6056823710510278&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1920&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=12&amp;uci=a!c&amp;btvi=3&amp;fsb=1&amp;dtd=12"
        data-google-container-id="a!c"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CMzQgbzsrI4DFYLyTAId5fsrYA"
      ></iframe></div
  ></ins>
</div>
<p>
  We’ll also need some functions to help us clean up IntArrays. First, we’ll
  write a destructor, which simply deallocates any dynamically allocated data.
  Second, we’ll write a function called erase(), which will erase the array and
  set the length to 0.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token operator">~</span><span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-16-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-16-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-20-close">{</span>
    <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-18-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-18-open">]</span> m_data<span class="token punctuation">;</span>
    <span class="token comment">// we don't need to set m_data to null or m_length to 0 here, since the object will be destroyed immediately after this function anyway</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-20-open">}</span>

<span class="token keyword keyword-void">void</span> <span class="token function">erase</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-17-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-17-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-21-close">{</span>
    <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-19-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-19-open">]</span> m_data<span class="token punctuation">;</span>

    <span class="token comment">// We need to make sure we set m_data to nullptr here, otherwise it will</span>
    <span class="token comment">// be left pointing at deallocated memory!</span>
    m_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
    m_length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-21-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: 10px auto 14px;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_12_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_12"
        name="aswift_12"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2229612086&amp;adf=3507503592&amp;pi=t.aa~a.1108295796~rp.1&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751730203&amp;rafmt=1&amp;to=qs&amp;pwprc=4633386603&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fcontainer-classes%2F&amp;fwr=0&amp;pra=3&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=40&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963457690&amp;bpp=1&amp;bdt=1223&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=6&amp;correlator=1198739759624&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3405&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362655%2C95365226%2C95365234%2C42533294%2C95365114%2C95359265%2C95365120%2C95365798&amp;oid=2&amp;pvsid=6056823710510278&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1920&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=13&amp;uci=a!d&amp;btvi=4&amp;fsb=1&amp;dtd=12"
        data-google-container-id="a!d"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CLu_gbzsrI4DFS_tTAId87E8MA"
      ></iframe></div
  ></ins>
</div>
<p>
  Now let’s overload the [] operator so we can access the elements of the array.
  We should ensure the index parameter has a valid value, which we can do by
  using the assert() function. We’ll also add an access function to return the
  length of the array. Here’s everything so far:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">INTARRAY_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">INTARRAY_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span> <span class="token comment">// for assert()</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstddef&gt;</span> <span class="token comment">// for std::size_t</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-46-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-37-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-37-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span><span class="token operator">*</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-38-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-38-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-22-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-22-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>

    <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-23-close">(</span><span class="token keyword keyword-int">int</span> length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-23-open">)</span><span class="token operator">:</span>
        m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-39-close">{</span> length <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-39-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-41-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-24-close">(</span>length <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-24-open">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-25-close">(</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-25-open">)</span>
            m_data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-32-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-26-close">(</span>length<span class="token punctuation brace-round brace-close brace-level-4" id="pair-26-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-32-open">]</span><span class="token punctuation brace-curly brace-open brace-level-3" id="pair-40-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-40-open">}</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-41-open">}</span>

    <span class="token operator">~</span><span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-27-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-27-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-42-close">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-33-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-33-open">]</span> m_data<span class="token punctuation">;</span>
        <span class="token comment">// we don't need to set m_data to null or m_length to 0 here, since the object will be destroyed immediately after this function anyway</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-42-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">erase</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-28-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-28-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-43-close">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-34-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-34-open">]</span> m_data<span class="token punctuation">;</span>
        <span class="token comment">// We need to make sure we set m_data to nullptr here, otherwise it will</span>
        <span class="token comment">// be left pointing at deallocated memory!</span>
        m_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
        m_length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-43-open">}</span>

    <span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-35-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-35-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-29-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-29-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-44-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-30-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-30-open">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> m_data<span class="token punctuation brace-square brace-open brace-level-3" id="pair-36-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-36-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-44-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-31-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-31-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-45-close">{</span> <span class="token keyword keyword-return">return</span> m_length<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-45-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-46-open">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  At this point, we already have an IntArray class that we can use. We can
  allocate IntArrays of a given size, and we can use the [] operator to retrieve
  or change the value of the elements.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2100339063&amp;adf=3816901807&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751730203&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fcontainer-classes%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963457561&amp;bpp=1&amp;bdt=1094&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=1198739759624&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3774&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362655%2C95365226%2C95365234%2C42533294%2C95365114%2C95359265%2C95365120%2C95365798&amp;oid=2&amp;pvsid=6056823710510278&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=1&amp;fsb=1&amp;dtd=15"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CKbq-LvsrI4DFdbyTAIdeA0PAQ"
      ></iframe></div
  ></ins>
</div>
<p>
  However, there are still a few thing we can’t do with our IntArray. We still
  can’t change its size, still can’t insert or delete elements, and we still
  can’t sort it. Copying the array will also cause problems, since that will
  shallow copy the data pointer.
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p>
  First, let’s write some code that will allow us to resize an array. We are
  going to write two different functions to do this. The first function,
  reallocate(), will destroy any existing elements in the array when it is
  resized, but it will be fast. The second function, resize(), will keep any
  existing elements in the array when it is resized, but it will be slow.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::copy_n</span></span>

    <span class="token comment">// reallocate resizes the array.  Any existing elements will be destroyed.  This function operates quickly.</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">reallocate</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-47-close">(</span><span class="token keyword keyword-int">int</span> newLength<span class="token punctuation brace-round brace-close brace-level-1" id="pair-47-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-62-close">{</span>
        <span class="token comment">// First we delete any existing elements</span>
        <span class="token function">erase</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-48-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-48-open">)</span><span class="token punctuation">;</span>

        <span class="token comment">// If our array is going to be empty now, return here</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-49-close">(</span>newLength <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-49-open">)</span>
            <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>

        <span class="token comment">// Then we have to allocate new elements</span>
        m_data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-59-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-50-close">(</span>newLength<span class="token punctuation brace-round brace-close brace-level-3" id="pair-50-open">)</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-59-open">]</span><span class="token punctuation">;</span>
        m_length <span class="token operator">=</span> newLength<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-62-open">}</span>

    <span class="token comment">// resize resizes the array.  Any existing elements will be kept.  This function operates slowly.</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">resize</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-51-close">(</span><span class="token keyword keyword-int">int</span> newLength<span class="token punctuation brace-round brace-close brace-level-1" id="pair-51-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-67-close">{</span>
        <span class="token comment">// if the array is already the right length, we're done</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-52-close">(</span>newLength <span class="token operator">==</span> m_length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-52-open">)</span>
            <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>

        <span class="token comment">// If we are resizing to an empty array, do that and return</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-53-close">(</span>newLength <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-53-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-63-close">{</span>
            <span class="token function">erase</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-54-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-54-open">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
        <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-63-open">}</span>

        <span class="token comment">// Now we can assume newLength is at least 1 element.  This algorithm</span>
        <span class="token comment">// works as follows: First we are going to allocate a new array.  Then we</span>
        <span class="token comment">// are going to copy elements from the existing array to the new array.</span>
        <span class="token comment">// Once that is done, we can destroy the old array, and make m_data</span>
        <span class="token comment">// point to the new array.</span>

        <span class="token comment">// First we have to allocate a new array</span>
        <span class="token keyword keyword-int">int</span><span class="token operator">*</span> data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-64-close">{</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-60-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-55-close">(</span>newLength<span class="token punctuation brace-round brace-close brace-level-4" id="pair-55-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-60-open">]</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-64-open">}</span><span class="token punctuation">;</span>

        <span class="token comment">// Then we have to figure out how many elements to copy from the existing</span>
        <span class="token comment">// array to the new array.  We want to copy as many elements as there are</span>
        <span class="token comment">// in the smaller of the two arrays.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-56-close">(</span>m_length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-56-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-66-close">{</span>
            <span class="token keyword keyword-int">int</span> elementsToCopy<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-65-close">{</span> <span class="token punctuation brace-round brace-open brace-level-4" id="pair-57-close">(</span>newLength <span class="token operator">&gt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-4" id="pair-57-open">)</span> <span class="token operator">?</span> m_length <span class="token operator">:</span> newLength <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-65-open">}</span><span class="token punctuation">;</span>
            std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-58-close">(</span>m_data<span class="token punctuation">,</span> elementsToCopy<span class="token punctuation">,</span> data<span class="token punctuation brace-round brace-close brace-level-3" id="pair-58-open">)</span><span class="token punctuation">;</span> <span class="token comment">// copy the elements</span>
        <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-66-open">}</span>

        <span class="token comment">// Now we can delete the old array because we don't need it any more</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-61-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-61-open">]</span> m_data<span class="token punctuation">;</span>

        <span class="token comment">// And use the new array instead!  Note that this simply makes m_data point</span>
        <span class="token comment">// to the same address as the new array we dynamically allocated.  Because</span>
        <span class="token comment">// data was dynamically allocated, it won't be destroyed when it goes out of scope.</span>
        m_data <span class="token operator">=</span> data<span class="token punctuation">;</span>
        m_length <span class="token operator">=</span> newLength<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-67-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Whew! That was a little tricky!</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  Let’s also add a copy constructor and assignment operator so we can copy the
  array.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-68-close">(</span><span class="token keyword keyword-const">const</span> IntArray<span class="token operator">&amp;</span> a<span class="token punctuation brace-round brace-close brace-level-1" id="pair-68-open">)</span><span class="token operator">:</span> <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-70-close">(</span>a<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-69-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-69-open">)</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-70-open">)</span> <span class="token comment">// use normal constructor to set size of array appropriately</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-77-close">{</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-71-close">(</span>a<span class="token punctuation">.</span>m_data<span class="token punctuation">,</span> m_length<span class="token punctuation">,</span> m_data<span class="token punctuation brace-round brace-close brace-level-2" id="pair-71-open">)</span><span class="token punctuation">;</span> <span class="token comment">// copy the elements</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-77-open">}</span>

IntArray<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-72-close">(</span><span class="token keyword keyword-const">const</span> IntArray<span class="token operator">&amp;</span> a<span class="token punctuation brace-round brace-close brace-level-1" id="pair-72-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-78-close">{</span>
    <span class="token comment">// Self-assignment check</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-73-close">(</span><span class="token operator">&amp;</span>a <span class="token operator">==</span> <span class="token keyword keyword-this">this</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-73-open">)</span>
        <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>

    <span class="token comment">// Set the size of the new array appropriately</span>
    <span class="token function">reallocate</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-75-close">(</span>a<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-74-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-74-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-75-open">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-76-close">(</span>a<span class="token punctuation">.</span>m_data<span class="token punctuation">,</span> m_length<span class="token punctuation">,</span> m_data<span class="token punctuation brace-round brace-close brace-level-2" id="pair-76-open">)</span><span class="token punctuation">;</span> <span class="token comment">// copy the elements</span>

    <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-78-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Many array container classes would stop here. However, just in case you want
  to see how insert and delete functionality would be implemented we’ll go ahead
  and write those too. Both of these algorithms are very similar to resize().
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-void">void</span> <span class="token function">insertBefore</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-79-close">(</span><span class="token keyword keyword-int">int</span> value<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-1" id="pair-79-open">)</span>
 <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-97-close">{</span>
     <span class="token comment">// Sanity check our index value</span>
     <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-80-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;=</span> m_length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-80-open">)</span><span class="token punctuation">;</span>

     <span class="token comment">// First create a new array one element larger than the old array</span>
     <span class="token keyword keyword-int">int</span><span class="token operator">*</span> data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-96-close">{</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-91-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-81-close">(</span>m_length<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-81-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-91-open">]</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-96-open">}</span><span class="token punctuation">;</span>

     <span class="token comment">// Copy all of the elements up to the index</span>
     std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-82-close">(</span>m_data<span class="token punctuation">,</span> index<span class="token punctuation">,</span> data<span class="token punctuation brace-round brace-close brace-level-2" id="pair-82-open">)</span><span class="token punctuation">;</span>

     <span class="token comment">// Insert our new element into the new array</span>
     data<span class="token punctuation brace-square brace-open brace-level-2" id="pair-92-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-2" id="pair-92-open">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>

     <span class="token comment">// Copy all of the values after the inserted element</span>
     std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-83-close">(</span>m_data <span class="token operator">+</span> index<span class="token punctuation">,</span> m_length <span class="token operator">-</span> index<span class="token punctuation">,</span> data <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-83-open">)</span><span class="token punctuation">;</span>

     <span class="token comment">// Finally, delete the old array, and use the new array instead</span>
     <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-93-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-93-open">]</span> m_data<span class="token punctuation">;</span>
     m_data <span class="token operator">=</span> data<span class="token punctuation">;</span>
     <span class="token operator">++</span>m_length<span class="token punctuation">;</span>
 <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-97-open">}</span>

 <span class="token keyword keyword-void">void</span> <span class="token function">remove</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-84-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-1" id="pair-84-open">)</span>
 <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-100-close">{</span>
     <span class="token comment">// Sanity check our index value</span>
     <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-85-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-85-open">)</span><span class="token punctuation">;</span>

     <span class="token comment">// If this is the last remaining element in the array, set the array to empty and bail out</span>
     <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-86-close">(</span>m_length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-86-open">)</span>
     <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-98-close">{</span>
         <span class="token function">erase</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-87-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-87-open">)</span><span class="token punctuation">;</span>
         <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
     <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-98-open">}</span>

     <span class="token comment">// First create a new array one element smaller than the old array</span>
     <span class="token keyword keyword-int">int</span><span class="token operator">*</span> data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-99-close">{</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-94-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-88-close">(</span>m_length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-88-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-94-open">]</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-99-open">}</span><span class="token punctuation">;</span>

     <span class="token comment">// Copy all of the elements up to the index</span>
     std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-89-close">(</span>m_data<span class="token punctuation">,</span> index<span class="token punctuation">,</span> data<span class="token punctuation brace-round brace-close brace-level-2" id="pair-89-open">)</span><span class="token punctuation">;</span>

     <span class="token comment">// Copy all of the values after the removed element</span>
     std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-90-close">(</span>m_data <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> m_length <span class="token operator">-</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> data <span class="token operator">+</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-90-open">)</span><span class="token punctuation">;</span>

     <span class="token comment">// Finally, delete the old array, and use the new array instead</span>
     <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-95-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-95-open">]</span> m_data<span class="token punctuation">;</span>
     m_data <span class="token operator">=</span> data<span class="token punctuation">;</span>
     <span class="token operator">--</span>m_length<span class="token punctuation">;</span>
 <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-100-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Here is our IntArray container class in its entirety.</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<p>IntArray.h:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">INTARRAY_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">INTARRAY_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::copy_n</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span> <span class="token comment">// for assert()</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstddef&gt;</span> <span class="token comment">// for std::size_t</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-185-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-161-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-161-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span><span class="token operator">*</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-162-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-162-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-101-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-101-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>

    <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-102-close">(</span><span class="token keyword keyword-int">int</span> length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-102-open">)</span><span class="token operator">:</span>
        m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-163-close">{</span> length <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-163-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-165-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-103-close">(</span>length <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-103-open">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-104-close">(</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-104-open">)</span>
            m_data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-148-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-105-close">(</span>length<span class="token punctuation brace-round brace-close brace-level-4" id="pair-105-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-148-open">]</span><span class="token punctuation brace-curly brace-open brace-level-3" id="pair-164-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-164-open">}</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-165-open">}</span>

    <span class="token operator">~</span><span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-106-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-106-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-166-close">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-149-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-149-open">]</span> m_data<span class="token punctuation">;</span>
        <span class="token comment">// we don't need to set m_data to null or m_length to 0 here, since the object will be destroyed immediately after this function anyway</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-166-open">}</span>

    <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-107-close">(</span><span class="token keyword keyword-const">const</span> IntArray<span class="token operator">&amp;</span> a<span class="token punctuation brace-round brace-close brace-level-2" id="pair-107-open">)</span><span class="token operator">:</span> <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-109-close">(</span>a<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-108-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-108-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-109-open">)</span> <span class="token comment">// use normal constructor to set size of array appropriately</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-167-close">{</span>
        std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-110-close">(</span>a<span class="token punctuation">.</span>m_data<span class="token punctuation">,</span> m_length<span class="token punctuation">,</span> m_data<span class="token punctuation brace-round brace-close brace-level-3" id="pair-110-open">)</span><span class="token punctuation">;</span> <span class="token comment">// copy the elements</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-167-open">}</span>

    IntArray<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-111-close">(</span><span class="token keyword keyword-const">const</span> IntArray<span class="token operator">&amp;</span> a<span class="token punctuation brace-round brace-close brace-level-2" id="pair-111-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-168-close">{</span>
        <span class="token comment">// Self-assignment check</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-112-close">(</span><span class="token operator">&amp;</span>a <span class="token operator">==</span> <span class="token keyword keyword-this">this</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-112-open">)</span>
            <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>

        <span class="token comment">// Set the size of the new array appropriately</span>
        <span class="token function">reallocate</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-114-close">(</span>a<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-113-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-113-open">)</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-114-open">)</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-115-close">(</span>a<span class="token punctuation">.</span>m_data<span class="token punctuation">,</span> m_length<span class="token punctuation">,</span> m_data<span class="token punctuation brace-round brace-close brace-level-3" id="pair-115-open">)</span><span class="token punctuation">;</span> <span class="token comment">// copy the elements</span>

        <span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-168-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">erase</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-116-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-116-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-169-close">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-150-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-150-open">]</span> m_data<span class="token punctuation">;</span>
        <span class="token comment">// We need to make sure we set m_data to nullptr here, otherwise it will</span>
        <span class="token comment">// be left pointing at deallocated memory!</span>
        m_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
        m_length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-169-open">}</span>

    <span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-151-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-151-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-117-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-117-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-170-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-118-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-118-open">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> m_data<span class="token punctuation brace-square brace-open brace-level-3" id="pair-152-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-152-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-170-open">}</span>


    <span class="token comment">// reallocate resizes the array.  Any existing elements will be destroyed.  This function operates quickly.</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">reallocate</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-119-close">(</span><span class="token keyword keyword-int">int</span> newLength<span class="token punctuation brace-round brace-close brace-level-2" id="pair-119-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-171-close">{</span>
        <span class="token comment">// First we delete any existing elements</span>
        <span class="token function">erase</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-120-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-120-open">)</span><span class="token punctuation">;</span>

        <span class="token comment">// If our array is going to be empty now, return here</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-121-close">(</span>newLength <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-121-open">)</span>
            <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>

        <span class="token comment">// Then we have to allocate new elements</span>
        m_data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-153-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-122-close">(</span>newLength<span class="token punctuation brace-round brace-close brace-level-4" id="pair-122-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-153-open">]</span><span class="token punctuation">;</span>
        m_length <span class="token operator">=</span> newLength<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-171-open">}</span>

    <span class="token comment">// resize resizes the array.  Any existing elements will be kept.  This function operates slowly.</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">resize</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-123-close">(</span><span class="token keyword keyword-int">int</span> newLength<span class="token punctuation brace-round brace-close brace-level-2" id="pair-123-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-176-close">{</span>
        <span class="token comment">// if the array is already the right length, we're done</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-124-close">(</span>newLength <span class="token operator">==</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-124-open">)</span>
            <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>

        <span class="token comment">// If we are resizing to an empty array, do that and return</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-125-close">(</span>newLength <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-125-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-172-close">{</span>
            <span class="token function">erase</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-126-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-126-open">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-172-open">}</span>

        <span class="token comment">// Now we can assume newLength is at least 1 element.  This algorithm</span>
        <span class="token comment">// works as follows: First we are going to allocate a new array.  Then we</span>
        <span class="token comment">// are going to copy elements from the existing array to the new array.</span>
        <span class="token comment">// Once that is done, we can destroy the old array, and make m_data</span>
        <span class="token comment">// point to the new array.</span>

        <span class="token comment">// First we have to allocate a new array</span>
        <span class="token keyword keyword-int">int</span><span class="token operator">*</span> data<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-173-close">{</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-4" id="pair-154-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-5" id="pair-127-close">(</span>newLength<span class="token punctuation brace-round brace-close brace-level-5" id="pair-127-open">)</span><span class="token punctuation brace-square brace-close brace-level-4" id="pair-154-open">]</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-173-open">}</span><span class="token punctuation">;</span>

        <span class="token comment">// Then we have to figure out how many elements to copy from the existing</span>
        <span class="token comment">// array to the new array.  We want to copy as many elements as there are</span>
        <span class="token comment">// in the smaller of the two arrays.</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-128-close">(</span>m_length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-128-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-175-close">{</span>
            <span class="token keyword keyword-int">int</span> elementsToCopy<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-174-close">{</span> <span class="token punctuation brace-round brace-open brace-level-5" id="pair-129-close">(</span>newLength <span class="token operator">&gt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-5" id="pair-129-open">)</span> <span class="token operator">?</span> m_length <span class="token operator">:</span> newLength <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-174-open">}</span><span class="token punctuation">;</span>
            std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-130-close">(</span>m_data<span class="token punctuation">,</span> elementsToCopy<span class="token punctuation">,</span> data<span class="token punctuation brace-round brace-close brace-level-4" id="pair-130-open">)</span><span class="token punctuation">;</span> <span class="token comment">// copy the elements</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-175-open">}</span>

        <span class="token comment">// Now we can delete the old array because we don't need it any more</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-155-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-155-open">]</span> m_data<span class="token punctuation">;</span>

        <span class="token comment">// And use the new array instead!  Note that this simply makes m_data point</span>
        <span class="token comment">// to the same address as the new array we dynamically allocated.  Because</span>
        <span class="token comment">// data was dynamically allocated, it won't be destroyed when it goes out of scope.</span>
        m_data <span class="token operator">=</span> data<span class="token punctuation">;</span>
        m_length <span class="token operator">=</span> newLength<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-176-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">insertBefore</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-131-close">(</span><span class="token keyword keyword-int">int</span> value<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-131-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-178-close">{</span>
        <span class="token comment">// Sanity check our index value</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-132-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;=</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-132-open">)</span><span class="token punctuation">;</span>

        <span class="token comment">// First create a new array one element larger than the old array</span>
        <span class="token keyword keyword-int">int</span><span class="token operator">*</span> data<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-177-close">{</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-4" id="pair-156-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-5" id="pair-133-close">(</span>m_length<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-5" id="pair-133-open">)</span><span class="token punctuation brace-square brace-close brace-level-4" id="pair-156-open">]</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-177-open">}</span><span class="token punctuation">;</span>

        <span class="token comment">// Copy all of the elements up to the index</span>
        std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-134-close">(</span>m_data<span class="token punctuation">,</span> index<span class="token punctuation">,</span> data<span class="token punctuation brace-round brace-close brace-level-3" id="pair-134-open">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Insert our new element into the new array</span>
        data<span class="token punctuation brace-square brace-open brace-level-3" id="pair-157-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-157-open">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>

        <span class="token comment">// Copy all of the values after the inserted element</span>
        std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-135-close">(</span>m_data <span class="token operator">+</span> index<span class="token punctuation">,</span> m_length <span class="token operator">-</span> index<span class="token punctuation">,</span> data <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-135-open">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Finally, delete the old array, and use the new array instead</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-158-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-158-open">]</span> m_data<span class="token punctuation">;</span>
        m_data <span class="token operator">=</span> data<span class="token punctuation">;</span>
        <span class="token operator">++</span>m_length<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-178-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">remove</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-136-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-136-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-181-close">{</span>
        <span class="token comment">// Sanity check our index value</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-137-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-137-open">)</span><span class="token punctuation">;</span>

        <span class="token comment">// If this is the last remaining element in the array, set the array to empty and bail out</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-138-close">(</span>m_length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-138-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-179-close">{</span>
            <span class="token function">erase</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-139-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-139-open">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span><span class="token punctuation">;</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-179-open">}</span>

        <span class="token comment">// First create a new array one element smaller than the old array</span>
        <span class="token keyword keyword-int">int</span><span class="token operator">*</span> data<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-180-close">{</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-4" id="pair-159-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-5" id="pair-140-close">(</span>m_length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-5" id="pair-140-open">)</span><span class="token punctuation brace-square brace-close brace-level-4" id="pair-159-open">]</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-180-open">}</span><span class="token punctuation">;</span>

        <span class="token comment">// Copy all of the elements up to the index</span>
        std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-141-close">(</span>m_data<span class="token punctuation">,</span> index<span class="token punctuation">,</span> data<span class="token punctuation brace-round brace-close brace-level-3" id="pair-141-open">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Copy all of the values after the removed element</span>
        std<span class="token double-colon punctuation">::</span><span class="token function">copy_n</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-142-close">(</span>m_data <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> m_length <span class="token operator">-</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> data <span class="token operator">+</span> index<span class="token punctuation brace-round brace-close brace-level-3" id="pair-142-open">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Finally, delete the old array, and use the new array instead</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-160-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-160-open">]</span> m_data<span class="token punctuation">;</span>
        m_data <span class="token operator">=</span> data<span class="token punctuation">;</span>
        <span class="token operator">--</span>m_length<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-181-open">}</span>

    <span class="token comment">// A couple of additional functions just for convenience</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">insertAtBeginning</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-143-close">(</span><span class="token keyword keyword-int">int</span> value<span class="token punctuation brace-round brace-close brace-level-2" id="pair-143-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-182-close">{</span> <span class="token function">insertBefore</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-144-close">(</span>value<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-144-open">)</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-182-open">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">insertAtEnd</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-145-close">(</span><span class="token keyword keyword-int">int</span> value<span class="token punctuation brace-round brace-close brace-level-2" id="pair-145-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-183-close">{</span> <span class="token function">insertBefore</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-146-close">(</span>value<span class="token punctuation">,</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-146-open">)</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-183-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-147-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-147-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-184-close">{</span> <span class="token keyword keyword-return">return</span> m_length<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-184-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-185-open">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Now, let’s test it just to prove it works:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"IntArray.h"</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-186-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-186-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-202-close">{</span>
    <span class="token comment">// Declare an array with 10 elements</span>
    IntArray <span class="token function">array</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-187-close">(</span><span class="token number">10</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-187-open">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Fill the array with numbers 1 through 10</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-188-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-198-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-198-open">}</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-188-open">)</span>
        array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-196-close">[</span>i<span class="token punctuation brace-square brace-close brace-level-2" id="pair-196-open">]</span> <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">// Resize the array to 8 elements</span>
    array<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-189-close">(</span><span class="token number">8</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-189-open">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Insert the number 20 before element with index 5</span>
    array<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-190-close">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-190-open">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Remove the element with index 3</span>
    array<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-191-close">(</span><span class="token number">3</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-191-open">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Add 30 and 40 to the end and beginning</span>
    array<span class="token punctuation">.</span><span class="token function">insertAtEnd</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-192-close">(</span><span class="token number">30</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-192-open">)</span><span class="token punctuation">;</span>
    array<span class="token punctuation">.</span><span class="token function">insertAtBeginning</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-193-close">(</span><span class="token number">40</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-193-open">)</span><span class="token punctuation">;</span>

    <span class="token comment">// A few more tests to ensure copy constructing / assigning arrays</span>
    <span class="token comment">// doesn't break things</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-200-close">{</span>
        IntArray b<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-199-close">{</span> array <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-199-open">}</span><span class="token punctuation">;</span>
        b <span class="token operator">=</span> array<span class="token punctuation">;</span>
        b <span class="token operator">=</span> b<span class="token punctuation">;</span>
        array <span class="token operator">=</span> array<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-200-open">}</span>

    <span class="token comment">// Print out all the numbers</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-195-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-201-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-201-open">}</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>array<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-194-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-194-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-195-open">)</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-197-close">[</span>i<span class="token punctuation brace-square brace-close brace-level-2" id="pair-197-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-202-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This produces the result:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<pre>
40 1 2 3 5 20 6 7 8 30
</pre>
<p>
  Although writing container classes can be pretty complex, the good news is
  that you only have to write them once. Once the container class is working,
  you can use and reuse it as often as you like without any additional
  programming effort required.
</p>
<p>A few additional improvements that could/should be made:</p>
<ul>
  <li>
    We could have made this a template class, so that it would work with any
    copyable type rather than just int.
  </li>
  <li>
    We should add const overloads of various member functions to properly
    support const IntArrays.
  </li>
  <li>
    We should add support for move semantics (via adding a move constructor and
    move assignment).
  </li>
  <li>
    When performing resize or insertion operations, we can move elements instead
    of copying them.
  </li>
</ul>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">For advanced readers</p>
  <p>Some advanced improvements related to exception handling:</p>
  <ul>
    <li>
      When performing resize or insertion operations, move elements only if
      their move constructor is noexcept, otherwise copy them (<a
        href="https://www.learncpp.com/cpp-tutorial/stdmove_if_noexcept/"
        >27.10 -- std::move_if_noexcept</a
      >).
    </li>
    <li>
      Provide a strong exception safety guarantee for resize or insertion
      operations (<a
        href="https://www.learncpp.com/cpp-tutorial/exception-specifications-and-noexcept/"
        >27.9 -- Exception specifications and noexcept</a
      >).
    </li>
  </ul>
</div>
<p>
  One more thing: If a class in the standard library meets your needs, use that
  instead of creating your own. For example, instead of using IntArray, you’re
  better off using <code>std::vector&lt;int&gt;</code>. It’s battle tested,
  efficient, and plays nicely with the other classes in the standard library.
  But sometimes you need a specialized container class that doesn’t exist in the
  standard library, so it’s good to know how to create your own when you need
  to.
</p>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/stdinitializer_list/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">23.7</span
            >std::initializer_list
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/dependencies/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">23.5</span>Dependencies
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
