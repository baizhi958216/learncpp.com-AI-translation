<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  In the previous lesson
  <a href="https://www.learncpp.com/cpp-tutorial/composition/"
    >23.2 -- Composition</a
  >, we noted that object composition is the process of creating complex objects
  from simpler ones. We also talked about one type of object composition, called
  composition. In a composition relationship, the whole object is responsible
  for the existence of the part.
</p>
<p>
  In this lesson, we’ll take a look at the other subtype of object composition,
  called aggregation.
</p>
<p class="cpp-section cpp-topline" style="clear: both">Aggregation</p>
<p>
  To qualify as an <strong>aggregation</strong>, a whole object and its parts
  must have the following relationship:
</p>
<ul>
  <li>The part (member) is part of the object (class)</li>
  <li>
    The part (member) can (if desired) belong to more than one object (class) at
    a time
  </li>
  <li>
    The part (member) does <em>not</em> have its existence managed by the object
    (class)
  </li>
  <li>
    The part (member) does not know about the existence of the object (class)
  </li>
</ul>
<p>
  Like a composition, an aggregation is still a part-whole relationship, where
  the parts are contained within the whole, and it is a unidirectional
  relationship. However, unlike a composition, parts can belong to more than one
  object at a time, and the whole object is not responsible for the existence
  and lifespan of the parts. When an aggregation is created, the aggregation is
  not responsible for creating the parts. When an aggregation is destroyed, the
  aggregation is not responsible for destroying the parts.
</p>
<p>
  For example, consider the relationship between a person and their home
  address. In this example, for simplicity, we’ll say every person has an
  address. However, that address can belong to more than one person at a time:
  for example, to both you and your roommate or significant other. However, that
  address isn’t managed by the person -- the address probably existed before the
  person got there, and will exist after the person is gone. Additionally, a
  person knows what address they live at, but the addresses don’t know what
  people live there. Therefore, this is an aggregate relationship.
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p>
  Alternatively, consider a car and an engine. A car engine is part of the car.
  And although the engine belongs to the car, it can belong to other things as
  well, like the person who owns the car. The car is not responsible for the
  creation or destruction of the engine. And while the car knows it has an
  engine (it has to in order to get anywhere) the engine doesn’t know it’s part
  of the car.
</p>
<p>
  When it comes to modeling physical objects, the use of the term “destroyed”
  can be a little dicey. One might argue, “If a meteor fell out of the sky and
  crushed the car, wouldn’t the car parts all be destroyed too?” Yes, of course.
  But that’s the fault of the meteor. The important point is that the car is not
  responsible for destruction of its parts (but an external force might be).
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3612973301&amp;adf=376056695&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750693137&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Faggregation%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963443759&amp;bpp=1&amp;bdt=1027&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=3518187045459&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1031&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093040%2C31093235%2C95332926%2C95353387%2C95362655%2C95365226%2C95365234%2C95365113%2C95359265%2C95365118%2C95365797%2C31092546&amp;oid=2&amp;pvsid=1250040709747516&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=19"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-google-query-id="CK3TrrXsrI4DFUKG6QUd_DMfJQ"
        data-load-complete="true"
      ></iframe></div
  ></ins>
</div>
<p>
  We can say that aggregation models “has-a” relationships (a department has
  teachers, the car has an engine).
</p>
<p>
  Similar to a composition, the parts of an aggregation can be singular or
  multiplicative.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Implementing aggregations
</p>
<p>
  Because aggregations are similar to compositions in that they are both
  part-whole relationships, they are implemented almost identically, and the
  difference between them is mostly semantic. In a composition, we typically add
  our parts to the composition using normal member variables (or pointers where
  the allocation and deallocation process is handled by the composition class).
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>
  In an aggregation, we also add parts as member variables. However, these
  member variables are typically either references or pointers that are used to
  point at objects that have been created outside the scope of the class.
  Consequently, an aggregation usually either takes the objects it is going to
  point to as constructor parameters, or it begins empty and the subobjects are
  added later via access functions or operators.
</p>
<p>
  Because these parts exist outside of the scope of the class, when the class is
  destroyed, the pointer or reference member variable will be destroyed (but not
  deleted). Consequently, the parts themselves will still exist.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3612973301&amp;adf=93928043&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750693137&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Faggregation%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963443759&amp;bpp=1&amp;bdt=1027&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=3518187045459&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1637&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093040%2C31093235%2C95332926%2C95353387%2C95362655%2C95365226%2C95365234%2C95365113%2C95359265%2C95365118%2C95365797%2C31092546&amp;oid=2&amp;pvsid=1250040709747516&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=20"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CMzirrXsrI4DFfaR6QUdWzQjTw"
      ></iframe></div
  ></ins>
</div>
<p>
  Let’s take a look at a Teacher and Department example in more detail. In this
  example, we’re going to make a couple of simplifications: First, the
  department will only hold one teacher. Second, the teacher will be unaware of
  what department they’re part of.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Teacher</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-9-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
  std<span class="token double-colon punctuation">::</span>string m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-5-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-5-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
  <span class="token function">Teacher</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-0-close">(</span>std<span class="token double-colon punctuation">::</span>string_view name<span class="token punctuation brace-round brace-close brace-level-2" id="pair-0-open">)</span>
      <span class="token operator">:</span> m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-6-close">{</span> name <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-6-open">}</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-7-close">{</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-7-open">}</span>

  <span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> <span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-1-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-1-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-8-close">{</span> <span class="token keyword keyword-return">return</span> m_name<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-8-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-9-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Department</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-12-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
  <span class="token keyword keyword-const">const</span> Teacher<span class="token operator">&amp;</span> m_teacher<span class="token punctuation">;</span> <span class="token comment">// This dept holds only one teacher for simplicity, but it could hold many teachers</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
  <span class="token function">Department</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-2-close">(</span><span class="token keyword keyword-const">const</span> Teacher<span class="token operator">&amp;</span> teacher<span class="token punctuation brace-round brace-close brace-level-2" id="pair-2-open">)</span>
      <span class="token operator">:</span> m_teacher<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-10-close">{</span> teacher <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-10-open">}</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-11-close">{</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-11-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-12-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-3-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-3-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-16-close">{</span>
  <span class="token comment">// Create a teacher outside the scope of the Department</span>
  Teacher bob<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-13-close">{</span> <span class="token string">"Bob"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-13-open">}</span><span class="token punctuation">;</span> <span class="token comment">// create a teacher</span>

  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-15-close">{</span>
    <span class="token comment">// Create a department and use the constructor parameter to pass</span>
    <span class="token comment">// the teacher to it.</span>
    Department department<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-14-close">{</span> bob <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-14-open">}</span><span class="token punctuation">;</span>

  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-15-open">}</span> <span class="token comment">// department goes out of scope here and is destroyed</span>

  <span class="token comment">// bob still exists here, but the department doesn't</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> bob<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-4-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-4-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" still exists!\n"</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-16-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In this case, <code>bob</code> is created independently of
  <code>department</code>, and then passed into <code>department</code>‘s
  constructor. When <code>department</code> is destroyed, the
  <code>m_teacher</code> reference is destroyed, but the teacher itself is not
  destroyed, so it still exists until it is independently destroyed later in
  <code>main()</code>.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3612973301&amp;adf=886095059&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750693137&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Faggregation%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963443759&amp;bpp=1&amp;bdt=1027&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=3518187045459&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2844&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093040%2C31093235%2C95332926%2C95353387%2C95362655%2C95365226%2C95365234%2C95365113%2C95359265%2C95365118%2C95365797%2C31092546&amp;oid=2&amp;pvsid=1250040709747516&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=21"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CJO8r7XsrI4DFX2I6QUdi6sTvw"
      ></iframe></div
  ></ins>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Pick the right relationship for what you’re modeling
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p>
  Although it might seem a little silly in the above example that the Teachers
  don’t know what Department they’re working for, that may be totally fine in
  the context of a given program. When you’re determining what kind of
  relationship to implement, implement the simplest relationship that meets your
  needs, not the one that seems like it would fit best in a real-life context.
</p>
<p>
  For example, if you’re writing a body shop simulator, you may want to
  implement a car and engine as an aggregation, so the engine can be removed and
  put on a shelf somewhere for later. However, if you’re writing a racing
  simulation, you may want to implement a car and an engine as a composition,
  since the engine will never exist outside of the car in that context.
</p>
<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>
    Implement the simplest relationship type that meets the needs of your
    program, not what seems right in real-life.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Summarizing composition and aggregation
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3612973301&amp;adf=1126526442&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750693137&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Faggregation%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963443759&amp;bpp=1&amp;bdt=1027&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=3518187045459&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3469&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093040%2C31093235%2C95332926%2C95353387%2C95362655%2C95365226%2C95365234%2C95365113%2C95359265%2C95365118%2C95365797%2C31092546&amp;oid=2&amp;pvsid=1250040709747516&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=22"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CP_ct7XsrI4DFSiI6QUdpkAfPg"
      ></iframe></div
  ></ins>
</div>
<p>Compositions:</p>
<ul>
  <li>Typically use normal member variables</li>
  <li>
    Can use pointer members if the class handles object allocation/deallocation
    itself
  </li>
  <li>Responsible for creation/destruction of parts</li>
</ul>
<p>Aggregations:</p>
<ul>
  <li>
    Typically use pointer or reference members that point to or reference
    objects that live outside the scope of the aggregate class
  </li>
  <li>Not responsible for creating/destroying parts</li>
</ul>
<p>
  It is worth noting that the concepts of composition and aggregation can be
  mixed freely within the same class. It is entirely possible to write a class
  that is responsible for the creation/destruction of some parts but not others.
  For example, our Department class could have a name and a Teacher. The name
  would probably be added to the Department by composition, and would be created
  and destroyed with the Department. On the other hand, the Teacher would be
  added to the department by aggregation, and created/destroyed independently.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3612973301&amp;adf=2860568350&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750693137&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Faggregation%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963443759&amp;bpp=1&amp;bdt=1027&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=6&amp;correlator=3518187045459&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=4049&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093040%2C31093235%2C95332926%2C95353387%2C95362655%2C95365226%2C95365234%2C95365113%2C95359265%2C95365118%2C95365797%2C31092546&amp;oid=2&amp;pvsid=1250040709747516&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=5&amp;fsb=1&amp;dtd=23"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CNnDt7XsrI4DFWWI6QUdVcILUw"
      ></iframe></div
  ></ins>
</div>
<p>
  While aggregations can be extremely useful, they are also potentially more
  dangerous, because aggregations do not handle deallocation of their parts.
  Deallocations are left to an external party to do. If the external party no
  longer has a pointer or reference to the abandoned parts, or if it simply
  forgets to do the cleanup (assuming the class will handle that), then memory
  will be leaked.
</p>
<p>For this reason, compositions should be favored over aggregations.</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">A few warnings/errata</p>
<p>
  For a variety of historical and contextual reasons, unlike a composition, the
  definition of an aggregation is not precise -- so you may see other reference
  material define it differently from the way we do. That’s fine, just be aware.
</p>
<p>
  One final note: In the lesson
  <a
    href="https://www.learncpp.com/cpp-tutorial/introduction-to-structs-members-and-member-selection/"
    >13.7 -- Introduction to structs, members, and member selection</a
  >, we defined aggregate data types (such as structs and classes) as data types
  that group multiple variables together. You may also run across the term
  <def>aggregate class</def> in your C++ journeys, which is defined as a struct
  or class that has no provided constructors, destructors, or overloaded
  assignment, has all public members, and does not use inheritance --
  essentially a plain-old-data struct. Despite the similarities in naming,
  aggregates and aggregation are different and should not be confused.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_10"
        name="aswift_10"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3612973301&amp;adf=2115101247&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750693137&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Faggregation%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963443761&amp;bpp=1&amp;bdt=1029&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=7&amp;correlator=3518187045459&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=4082&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093040%2C31093235%2C95332926%2C95353387%2C95362655%2C95365226%2C95365234%2C95365113%2C95359265%2C95365118%2C95365797%2C31092546&amp;oid=2&amp;pvsid=1250040709747516&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=11&amp;uci=a!b&amp;btvi=6&amp;fsb=1&amp;dtd=256"
        data-google-container-id="a!b"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CNiHvbXsrI4DFWWJ6QUdB4wGMA"
      ></iframe></div
  ></ins>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  std::reference_wrapper
</p>
<p>
  In the <code>Department</code>/<code>Teacher</code> example above, we used a
  reference in the <code>Department</code> to store the <code>Teacher</code>.
  This works fine if there is only one <code>Teacher</code>, but what if a
  Department has multiple Teachers? We’d like to store those Teachers in a list
  of some kind (e.g. a <code>std::vector</code>) but fixed arrays and the
  various standard library lists can’t hold references (because list elements
  must be assignable, and references can’t be reassigned).
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-const">const</span> Teacher<span class="token operator">&amp;</span><span class="token operator">&gt;</span> m_teachers<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-17-close">{</span><span class="token punctuation brace-curly brace-close brace-level-1" id="pair-17-open">}</span><span class="token punctuation">;</span> <span class="token comment">// Illegal</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Instead of references, we could use pointers, but that would open the
  possibility to store or pass null pointers. In the
  <code>Department</code>/<code>Teacher</code> example, we don’t want to allow
  null pointers. To solve this, there’s <code>std::reference_wrapper</code>.
</p>
<p>
  Essentially, <code>std::reference_wrapper</code> is a class that acts like a
  reference, but also allows assignment and copying, so it’s compatible with
  lists like <code>std::vector</code>.
</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<p>
  The good news is that you don’t really need to understand how it works to use
  it. All you need to know are three things:
</p>
<ol start="1">
  <li>
    <code>std::reference_wrapper</code> lives in the &lt;functional&gt; header.
  </li>
  <li>
    When you create your <code>std::reference_wrapper</code> wrapped object, the
    object can’t be an anonymous object (since anonymous objects have expression
    scope, and this would leave the reference dangling).
  </li>
  <li>
    When you want to get your object back out of
    <code>std::reference_wrapper</code>, you use the <code>get()</code> member
    function.
  </li>
</ol>
<p>
  Here’s an example using <code>std::reference_wrapper</code> in a
  <code>std::vector</code>:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span> <span class="token comment">// std::reference_wrapper</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-18-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-18-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-27-close">{</span>
  std<span class="token double-colon punctuation">::</span>string tom<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-22-close">{</span> <span class="token string">"Tom"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-22-open">}</span><span class="token punctuation">;</span>
  std<span class="token double-colon punctuation">::</span>string berta<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-23-close">{</span> <span class="token string">"Berta"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-23-open">}</span><span class="token punctuation">;</span>

  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>reference_wrapper<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string<span class="token operator">&gt;&gt;</span> names<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-24-close">{</span> tom<span class="token punctuation">,</span> berta <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-24-open">}</span><span class="token punctuation">;</span> <span class="token comment">// these strings are stored by reference, not value</span>

  std<span class="token double-colon punctuation">::</span>string jim<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-25-close">{</span> <span class="token string">"Jim"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-25-open">}</span><span class="token punctuation">;</span>

  names<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-19-close">(</span>jim<span class="token punctuation brace-round brace-close brace-level-2" id="pair-19-open">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-20-close">(</span><span class="token keyword keyword-auto">auto</span> name <span class="token operator">:</span> names<span class="token punctuation brace-round brace-close brace-level-2" id="pair-20-open">)</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-26-close">{</span>
    <span class="token comment">// Use the get() member function to get the referenced string.</span>
    name<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-21-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-21-open">)</span> <span class="token operator">+=</span> <span class="token string">" Beam"</span><span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-26-open">}</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> jim <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// prints Jim Beam</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-27-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  To create a vector of const references, we’d have to add const before the
  <code>std::string</code> like so
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// Vector of const references to std::string</span>
std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>reference_wrapper<span class="token operator">&lt;</span><span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&gt;&gt;</span> names<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-28-close">{</span> tom<span class="token punctuation">,</span> berta <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-28-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p class="cpp-section cpp-topline" style="clear: both">Quiz time</p>
<div class="quiz" style="clear: both">
  <p class="quiz-header">Question #1</p>
  <div
    class="google-auto-placed ap_container"
    style="width: 100%; height: auto; clear: both; text-align: center"
  >
    <ins
      data-ad-format="auto"
      class="adsbygoogle adsbygoogle-noablate"
      data-ad-client="ca-pub-0588844875925051"
      data-adsbygoogle-status="done"
      style="
        display: block;
        margin: auto;
        background-color: transparent;
        height: 280px;
      "
      ><div
        id="aswift_11_host"
        style="
          border: none;
          height: 280px;
          width: 1027px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
        "
      ></div
    ></ins>
  </div>
  <p>
    Would you be more likely to implement the following as a composition or an
    aggregation?<br />
    a) A ball that has a color<br />
    b) An employer that is employing multiple people<br />
    c) The departments in a university<br />
    d) Your age<br />
    e) A bag of marbles
  </p>
  <p>
    <a
      class="solution_link_show"
      href="javascript:void(0)"
      onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_0'), this, 'Show Solution', 'Hide Solution')"
      >Show Solution</a
    >
  </p>
  <div class="wpsolution" id="cpp_solution_id_0" style="display: none">
    <p>
      a) Composition: Color is an intrinsic property of a ball.<br />
      b) Aggregation: An employer doesn’t start with any employees and hopefully
      doesn’t destroy all its employees when it goes bankrupt.<br />
      c) Composition: Departments can’t exist in absence of a university.<br />
      d) Composition: Your age is an intrinsic property of you.<br />
      e) Aggregation: The bag and the marbles inside have independent
      existences.
    </p>
  </div>
  <p></p>
</div>
<div class="quiz" style="clear: both">
  <p class="quiz-header">Question #2</p>
  <p>
    Update the <code>Department</code>/<code>Teacher</code> example so the
    <code>Department</code> can handle multiple Teachers. The following code
    should execute:
  </p>
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token comment">// ...</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-29-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-29-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-41-close">{</span>
  <span class="token comment">// Create a teacher outside the scope of the Department</span>
  Teacher t1<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-36-close">{</span> <span class="token string">"Bob"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-36-open">}</span><span class="token punctuation">;</span>
  Teacher t2<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-37-close">{</span> <span class="token string">"Frank"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-37-open">}</span><span class="token punctuation">;</span>
  Teacher t3<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-38-close">{</span> <span class="token string">"Beth"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-38-open">}</span><span class="token punctuation">;</span>

  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-40-close">{</span>
    <span class="token comment">// Create a department and add some Teachers to it</span>
    Department department<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-39-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-39-open">}</span><span class="token punctuation">;</span> <span class="token comment">// create an empty Department</span>

    department<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-30-close">(</span>t1<span class="token punctuation brace-round brace-close brace-level-3" id="pair-30-open">)</span><span class="token punctuation">;</span>
    department<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-31-close">(</span>t2<span class="token punctuation brace-round brace-close brace-level-3" id="pair-31-open">)</span><span class="token punctuation">;</span>
    department<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-32-close">(</span>t3<span class="token punctuation brace-round brace-close brace-level-3" id="pair-32-open">)</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> department<span class="token punctuation">;</span>

  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-40-open">}</span> <span class="token comment">// department goes out of scope here and is destroyed</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> t1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-33-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-33-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" still exists!\n"</span><span class="token punctuation">;</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> t2<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-34-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-34-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" still exists!\n"</span><span class="token punctuation">;</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> t3<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-35-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-35-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" still exists!\n"</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-41-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
  <p>This should print:</p>
  <div
    class="google-auto-placed ap_container"
    style="width: 100%; height: auto; clear: both; text-align: center"
  >
    <ins
      data-ad-format="auto"
      class="adsbygoogle adsbygoogle-noablate"
      data-ad-client="ca-pub-0588844875925051"
      data-adsbygoogle-status="done"
      style="
        display: block;
        margin: auto;
        background-color: transparent;
        height: 280px;
      "
      ><div
        id="aswift_12_host"
        style="
          border: none;
          height: 280px;
          width: 1027px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
        "
      ></div
    ></ins>
  </div>
  <pre>
Department: Bob Frank Beth
Bob still exists!
Frank still exists!
Beth still exists!
</pre
  >
  <p>
    <a
      class="hint_link_show"
      href="javascript:void(0)"
      onclick="cppHintToggle(document.getElementById('cpp_hint_id_0'), this, 'Show Hint', '')"
      >Show Hint</a
    >
  </p>
  <div
    class="wphint"
    id="cpp_hint_id_0"
    style="display: none; margin-bottom: 1em"
  >
    Hint: Store the teachers in a <code>std::vector</code>
    <p></p>
    <div class="code-toolbar">
      <pre
        class="line-numbers language-cpp"
        tabindex="0"
      ><code class="match-braces language-cpp">std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>reference_wrapper<span class="token operator">&lt;</span><span class="token keyword keyword-const">const</span> Teacher<span class="token operator">&gt;&gt;</span> m_teachers<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-42-close">{</span><span class="token punctuation brace-curly brace-close brace-level-1" id="pair-42-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
      <div class="toolbar">
        <div class="toolbar-item">
          <button
            class="copy-to-clipboard-button"
            type="button"
            data-copy-state="copy"
          >
            <span>Copy</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <p>
    <a
      class="solution_link_show"
      href="javascript:void(0)"
      onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_1'), this, 'Show Solution', 'Hide Solution')"
      >Show Solution</a
    >
  </p>
  <div class="wpsolution" id="cpp_solution_id_1" style="display: none">
    <div class="code-toolbar">
      <pre
        class="line-numbers language-cpp"
        tabindex="0"
      ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span> <span class="token comment">// std::reference_wrapper</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Teacher</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-63-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
  std<span class="token double-colon punctuation">::</span>string m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-59-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-59-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
  <span class="token function">Teacher</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-43-close">(</span>std<span class="token double-colon punctuation">::</span>string_view name<span class="token punctuation brace-round brace-close brace-level-2" id="pair-43-open">)</span>
      <span class="token operator">:</span> m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-60-close">{</span> name <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-60-open">}</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-61-close">{</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-61-open">}</span>

  <span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> <span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-44-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-44-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-62-close">{</span> <span class="token keyword keyword-return">return</span> m_name<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-62-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-63-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Department</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-68-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
  std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>reference_wrapper<span class="token operator">&lt;</span><span class="token keyword keyword-const">const</span> Teacher<span class="token operator">&gt;&gt;</span> m_teachers<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-64-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-64-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
  <span class="token function">Department</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-45-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-45-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>

  <span class="token comment">// Pass by regular reference. The user of the Department class shouldn't care</span>
  <span class="token comment">// about how it's implemented.</span>
  <span class="token keyword keyword-void">void</span> <span class="token function">add</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-46-close">(</span><span class="token keyword keyword-const">const</span> Teacher<span class="token operator">&amp;</span> teacher<span class="token punctuation brace-round brace-close brace-level-2" id="pair-46-open">)</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-65-close">{</span>
    m_teachers<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-47-close">(</span>teacher<span class="token punctuation brace-round brace-close brace-level-3" id="pair-47-open">)</span><span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-65-open">}</span>

  <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-48-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Department<span class="token operator">&amp;</span> department<span class="token punctuation brace-round brace-close brace-level-2" id="pair-48-open">)</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-67-close">{</span>
    out <span class="token operator">&lt;&lt;</span> <span class="token string">"Department: "</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-49-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> teacher <span class="token operator">:</span> department<span class="token punctuation">.</span>m_teachers<span class="token punctuation brace-round brace-close brace-level-3" id="pair-49-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-66-close">{</span>
      out <span class="token operator">&lt;&lt;</span> teacher<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-50-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-50-open">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-51-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-51-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-66-open">}</span>

    out <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-67-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-68-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-52-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-52-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-74-close">{</span>
  <span class="token comment">// Create a teacher outside the scope of the Department</span>
  Teacher t1<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-69-close">{</span> <span class="token string">"Bob"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-69-open">}</span><span class="token punctuation">;</span>
  Teacher t2<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-70-close">{</span> <span class="token string">"Frank"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-70-open">}</span><span class="token punctuation">;</span>
  Teacher t3<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-71-close">{</span> <span class="token string">"Beth"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-71-open">}</span><span class="token punctuation">;</span>

  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-73-close">{</span>
    <span class="token comment">// Create a department and add some Teachers to it</span>
    Department department<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-72-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-72-open">}</span><span class="token punctuation">;</span> <span class="token comment">// create an empty Department</span>

    department<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-53-close">(</span>t1<span class="token punctuation brace-round brace-close brace-level-3" id="pair-53-open">)</span><span class="token punctuation">;</span>
    department<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-54-close">(</span>t2<span class="token punctuation brace-round brace-close brace-level-3" id="pair-54-open">)</span><span class="token punctuation">;</span>
    department<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-55-close">(</span>t3<span class="token punctuation brace-round brace-close brace-level-3" id="pair-55-open">)</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> department<span class="token punctuation">;</span>

  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-73-open">}</span> <span class="token comment">// department goes out of scope here and is destroyed</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> t1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-56-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-56-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" still exists!\n"</span><span class="token punctuation">;</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> t2<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-57-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-57-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" still exists!\n"</span><span class="token punctuation">;</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> t3<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-58-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-58-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" still exists!\n"</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-74-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
      <div class="toolbar">
        <div class="toolbar-item">
          <button
            class="copy-to-clipboard-button"
            type="button"
            data-copy-state="copy"
          >
            <span>Copy</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/association/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">23.4</span>Association
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/composition/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">23.2</span>Composition
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
