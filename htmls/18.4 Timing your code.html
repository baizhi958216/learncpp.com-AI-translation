<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  When writing your code, sometimes you’ll run across cases where you’re not
  sure whether one method or another will be more performant. So how do you
  tell?
</p>
<p>
  One easy way is to time your code to see how long it takes to run. C++11 comes
  with some functionality in the chrono library to do just that. However, using
  the chrono library is a bit arcane. The good news is that we can easily
  encapsulate all the timing functionality we need into a class that we can then
  use in our own programs.
</p>
<p>Here’s the class:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;chrono&gt;</span> <span class="token comment">// for std::chrono functions</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Timer</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-10-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token comment">// Type aliases to make accessing nested type easier</span>
	<span class="token keyword keyword-using">using</span> Clock <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>chrono<span class="token double-colon punctuation">::</span>steady_clock<span class="token punctuation">;</span>
	<span class="token keyword keyword-using">using</span> Second <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>chrono<span class="token double-colon punctuation">::</span>duration<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>ratio<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span>chrono<span class="token double-colon punctuation">::</span>time_point<span class="token operator">&lt;</span>Clock<span class="token operator">&gt;</span> m_beg <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-7-close">{</span> <span class="token class-name">Clock</span><span class="token double-colon punctuation">::</span><span class="token function">now</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-0-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-0-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-7-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token keyword keyword-void">void</span> <span class="token function">reset</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-1-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-1-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-8-close">{</span>
		m_beg <span class="token operator">=</span> <span class="token class-name">Clock</span><span class="token double-colon punctuation">::</span><span class="token function">now</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-2-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-2-open">)</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-8-open">}</span>

	<span class="token keyword keyword-double">double</span> <span class="token function">elapsed</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-3-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-3-open">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-9-close">{</span>
		<span class="token keyword keyword-return">return</span> std<span class="token double-colon punctuation">::</span>chrono<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">duration_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>Second<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-5-close">(</span><span class="token class-name">Clock</span><span class="token double-colon punctuation">::</span><span class="token function">now</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-4-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-4-open">)</span> <span class="token operator">-</span> m_beg<span class="token punctuation brace-round brace-close brace-level-3" id="pair-5-open">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-6-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-6-open">)</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-9-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-10-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  That’s it! To use it, we instantiate a Timer object at the top of our main
  function (or wherever we want to start timing), and then call the elapsed()
  member function whenever we want to know how long the program took to run to
  that point.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-11-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-11-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-13-close">{</span>
    Timer t<span class="token punctuation">;</span>

    <span class="token comment">// Code to time goes here</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Time elapsed: "</span> <span class="token operator">&lt;&lt;</span> t<span class="token punctuation">.</span><span class="token function">elapsed</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-12-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-12-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" seconds\n"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-13-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: 10px auto 14px;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_10"
        name="aswift_10"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=388855816&amp;adf=956033828&amp;pi=t.aa~a.308147063~rp.1&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751552994&amp;rafmt=1&amp;to=qs&amp;pwprc=4633386603&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftiming-your-code%2F&amp;fwr=0&amp;pra=3&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=40&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963207409&amp;bpp=1&amp;bdt=608&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=1958030486835&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1192&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365225%2C95365235%2C95365698%2C42533294%2C95365112%2C95359265%2C95365116%2C95365798&amp;oid=2&amp;pvsid=8229605185241627&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1920&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=11&amp;uci=a!b&amp;btvi=3&amp;fsb=1&amp;dtd=12"
        data-google-container-id="a!b"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-google-query-id="COuy1MTrrI4DFVrIFgUd5l0STg"
        data-load-complete="true"
      ></iframe></div
  ></ins>
</div>
<p>
  Now, let’s use this in an actual example where we sort an array of 10000
  elements. First, let’s use the selection sort algorithm we developed in a
  previous chapter:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;chrono&gt;</span> <span class="token comment">// for std::chrono functions</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstddef&gt;</span> <span class="token comment">// for std::size_t</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;numeric&gt;</span> <span class="token comment">// for std::iota</span></span>

<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> g_arrayElements <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-37-close">{</span> <span class="token number">10000</span> <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-37-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Timer</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-41-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token comment">// Type aliases to make accessing nested type easier</span>
    <span class="token keyword keyword-using">using</span> Clock <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>chrono<span class="token double-colon punctuation">::</span>steady_clock<span class="token punctuation">;</span>
    <span class="token keyword keyword-using">using</span> Second <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>chrono<span class="token double-colon punctuation">::</span>duration<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>ratio<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>chrono<span class="token double-colon punctuation">::</span>time_point<span class="token operator">&lt;</span>Clock<span class="token operator">&gt;</span> m_beg<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-38-close">{</span> <span class="token class-name">Clock</span><span class="token double-colon punctuation">::</span><span class="token function">now</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-14-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-14-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-38-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">reset</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-15-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-15-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-39-close">{</span>
        m_beg <span class="token operator">=</span> <span class="token class-name">Clock</span><span class="token double-colon punctuation">::</span><span class="token function">now</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-16-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-16-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-39-open">}</span>

    <span class="token keyword keyword-double">double</span> <span class="token function">elapsed</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-17-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-17-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-40-close">{</span>
        <span class="token keyword keyword-return">return</span> std<span class="token double-colon punctuation">::</span>chrono<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">duration_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>Second<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-19-close">(</span><span class="token class-name">Clock</span><span class="token double-colon punctuation">::</span><span class="token function">now</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-18-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-18-open">)</span> <span class="token operator">-</span> m_beg<span class="token punctuation brace-round brace-close brace-level-3" id="pair-19-open">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-20-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-20-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-40-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-41-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">sortArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-21-close">(</span>std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> g_arrayElements<span class="token operator">&gt;</span><span class="token operator">&amp;</span> array<span class="token punctuation brace-round brace-close brace-level-1" id="pair-21-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-48-close">{</span>

    <span class="token comment">// Step through each element of the array</span>
    <span class="token comment">// (except the last one, which will already be sorted by the time we get there)</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-23-close">(</span>std<span class="token double-colon punctuation">::</span>size_t startIndex<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-42-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-42-open">}</span><span class="token punctuation">;</span> startIndex <span class="token operator">&lt;</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-22-close">(</span>g_arrayElements <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-22-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>startIndex<span class="token punctuation brace-round brace-close brace-level-2" id="pair-23-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-47-close">{</span>
        <span class="token comment">// smallestIndex is the index of the smallest element we’ve encountered this iteration</span>
        <span class="token comment">// Start by assuming the smallest element is the first element of this iteration</span>
        std<span class="token double-colon punctuation">::</span>size_t smallestIndex<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-43-close">{</span> startIndex <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-43-open">}</span><span class="token punctuation">;</span>

        <span class="token comment">// Then look for a smaller element in the rest of the array</span>
        <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-24-close">(</span>std<span class="token double-colon punctuation">::</span>size_t currentIndex<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-44-close">{</span> startIndex <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-44-open">}</span><span class="token punctuation">;</span> currentIndex <span class="token operator">&lt;</span> g_arrayElements<span class="token punctuation">;</span> <span class="token operator">++</span>currentIndex<span class="token punctuation brace-round brace-close brace-level-3" id="pair-24-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-46-close">{</span>
            <span class="token comment">// If we've found an element that is smaller than our previously found smallest</span>
            <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-4" id="pair-25-close">(</span>array<span class="token punctuation brace-square brace-open brace-level-5" id="pair-33-close">[</span>currentIndex<span class="token punctuation brace-square brace-close brace-level-5" id="pair-33-open">]</span> <span class="token operator">&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-5" id="pair-34-close">[</span>smallestIndex<span class="token punctuation brace-square brace-close brace-level-5" id="pair-34-open">]</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-25-open">)</span>
            <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-45-close">{</span>
                <span class="token comment">// then keep track of it</span>
                smallestIndex <span class="token operator">=</span> currentIndex<span class="token punctuation">;</span>
            <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-45-open">}</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-46-open">}</span>

        <span class="token comment">// smallestIndex is now the smallest element in the remaining array</span>
        <span class="token comment">// swap our start element with our smallest element (this sorts it into the correct place)</span>
        std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-26-close">(</span>array<span class="token punctuation brace-square brace-open brace-level-4" id="pair-35-close">[</span>startIndex<span class="token punctuation brace-square brace-close brace-level-4" id="pair-35-open">]</span><span class="token punctuation">,</span> array<span class="token punctuation brace-square brace-open brace-level-4" id="pair-36-close">[</span>smallestIndex<span class="token punctuation brace-square brace-close brace-level-4" id="pair-36-open">]</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-26-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-47-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-48-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-27-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-27-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-49-close">{</span>
    std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> g_arrayElements<span class="token operator">&gt;</span> array<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">iota</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-30-close">(</span>array<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-28-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-28-open">)</span><span class="token punctuation">,</span> array<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-29-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-29-open">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-30-open">)</span><span class="token punctuation">;</span> <span class="token comment">// fill the array with values 10000 to 1</span>

    Timer t<span class="token punctuation">;</span>

    <span class="token function">sortArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-31-close">(</span>array<span class="token punctuation brace-round brace-close brace-level-2" id="pair-31-open">)</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Time taken: "</span> <span class="token operator">&lt;&lt;</span> t<span class="token punctuation">.</span><span class="token function">elapsed</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-32-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-32-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" seconds\n"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-49-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  On the author’s machine, three runs produced timings of 0.0507, 0.0506, and
  0.0498. So we can say around 0.05 seconds.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1255213462&amp;adf=2743976223&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751552994&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftiming-your-code%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963207347&amp;bpp=1&amp;bdt=546&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=1958030486835&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2444&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365225%2C95365235%2C95365698%2C42533294%2C95365112%2C95359265%2C95365116%2C95365798&amp;oid=2&amp;pvsid=8229605185241627&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;cms=2&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=13"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CMjJ0MTrrI4DFVzhFgUd7iIIkA"
      ></iframe></div
  ></ins>
</div>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p>Now, let’s do the same test using std::sort from the standard library.</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::sort</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;chrono&gt;</span> <span class="token comment">// for std::chrono functions</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cstddef&gt;</span> <span class="token comment">// for std::size_t</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;numeric&gt;</span> <span class="token comment">// for std::iota</span></span>

<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> g_arrayElements <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-63-close">{</span> <span class="token number">10000</span> <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-63-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Timer</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-67-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token comment">// Type aliases to make accessing nested type easier</span>
    <span class="token keyword keyword-using">using</span> Clock <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>chrono<span class="token double-colon punctuation">::</span>steady_clock<span class="token punctuation">;</span>
    <span class="token keyword keyword-using">using</span> Second <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>chrono<span class="token double-colon punctuation">::</span>duration<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>ratio<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>chrono<span class="token double-colon punctuation">::</span>time_point<span class="token operator">&lt;</span>Clock<span class="token operator">&gt;</span> m_beg<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-64-close">{</span> <span class="token class-name">Clock</span><span class="token double-colon punctuation">::</span><span class="token function">now</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-50-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-50-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-64-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">reset</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-51-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-51-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-65-close">{</span>
        m_beg <span class="token operator">=</span> <span class="token class-name">Clock</span><span class="token double-colon punctuation">::</span><span class="token function">now</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-52-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-52-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-65-open">}</span>

    <span class="token keyword keyword-double">double</span> <span class="token function">elapsed</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-53-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-53-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-66-close">{</span>
        <span class="token keyword keyword-return">return</span> std<span class="token double-colon punctuation">::</span>chrono<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">duration_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>Second<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-55-close">(</span><span class="token class-name">Clock</span><span class="token double-colon punctuation">::</span><span class="token function">now</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-54-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-54-open">)</span> <span class="token operator">-</span> m_beg<span class="token punctuation brace-round brace-close brace-level-3" id="pair-55-open">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-56-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-56-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-66-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-67-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-57-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-57-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-68-close">{</span>
    std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> g_arrayElements<span class="token operator">&gt;</span> array<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">iota</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-60-close">(</span>array<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-58-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-58-open">)</span><span class="token punctuation">,</span> array<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-59-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-59-open">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-60-open">)</span><span class="token punctuation">;</span> <span class="token comment">// fill the array with values 10000 to 1</span>

    Timer t<span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>ranges<span class="token double-colon punctuation">::</span><span class="token function">sort</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-61-close">(</span>array<span class="token punctuation brace-round brace-close brace-level-2" id="pair-61-open">)</span><span class="token punctuation">;</span> <span class="token comment">// Since C++20</span>
    <span class="token comment">// If your compiler isn't C++20-capable</span>
    <span class="token comment">// std::sort(array.begin(), array.end());</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Time taken: "</span> <span class="token operator">&lt;&lt;</span> t<span class="token punctuation">.</span><span class="token function">elapsed</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-62-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-62-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" seconds\n"</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-68-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  On the author’s machine, this produced results of: 0.000693, 0.000692, and
  0.000699. So basically right around 0.0007.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1255213462&amp;adf=1709708824&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751552994&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftiming-your-code%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963207347&amp;bpp=1&amp;bdt=546&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=1958030486835&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3583&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365225%2C95365235%2C95365698%2C42533294%2C95365112%2C95359265%2C95365116%2C95365798&amp;oid=2&amp;pvsid=8229605185241627&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=14"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CM_c0MTrrI4DFXPKFgUdbcEjmw"
      ></iframe></div
  ></ins>
</div>
<p>
  In other words, in this case, std::sort is 100 times faster than the selection
  sort we wrote ourselves!
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Things that can impact the performance of your program
</p>
<p>
  Timing a run of your program is fairly straightforward, but your results can
  be significantly impacted by a number of things, and it’s important to be
  aware of how to properly measure and what things can impact timing.
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>
  First, make sure you’re using a release build target, not a debug build
  target. Debug build targets typically turn optimization off, and that
  optimization can have a significant impact on the results. For example, using
  a debug build target, running the above std::sort example on the author’s
  machine took 0.0235 seconds -- 33 times as long!
</p>
<p>
  Second, your timing results may be influenced by other things your system may
  be doing in the background. Make sure your system isn’t doing anything CPU,
  memory, or hard drive intensive (e.g. playing a game, searching for a file,
  running an antivirus scan, or installing a update in the background).
  Seemingly innocent things, like idle web browsers, can temporarily spike your
  CPU to 100% utilization when the active tab rotates in a new ad banner and has
  to parse a bunch of javascript. The more apps you can shut down before
  measuring, the less variance in your results you are likely to have.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1255213462&amp;adf=3575941008&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751552994&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftiming-your-code%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963207349&amp;bpp=1&amp;bdt=547&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=1958030486835&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3909&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365225%2C95365235%2C95365698%2C42533294%2C95365112%2C95359265%2C95365116%2C95365798&amp;oid=2&amp;pvsid=8229605185241627&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=4&amp;fsb=1&amp;dtd=186"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CJGw28TrrI4DFf_IFgUdh6QSiQ"
      ></iframe></div
  ></ins>
</div>
<p>
  Third, if your program uses a random number generator, the particular sequence
  of random numbers generated may impact timing. For example, if you’re sorting
  an array filled with random numbers, the results will likely vary from run to
  run because the number of swaps required to sort the array will vary from run
  to run. To get more consistent results across multiple runs of your program,
  you can temporarily seed your random number generator with a literal value
  (rather than std::random_device or the system clock), so that it generates the
  same sequence of numbers with each run. However, if your program’s performance
  is highly dependent on the particular random sequence generated, this can also
  lead to misleading results overall.
</p>
<p>
  Fourth, make sure you’re not timing waiting for user input, as how long the
  user takes to input something should not be part of your timing
  considerations. If user input is required, consider adding some way to provide
  that input that does not wait on the user (e.g. command line, from a file,
  having a code path that routes around the input).
</p>
<p class="cpp-section cpp-topline" style="clear: both">Measuring performance</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1255213462&amp;adf=2033292565&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751552994&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftiming-your-code%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963207351&amp;bpp=1&amp;bdt=550&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=6&amp;correlator=1958030486835&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3873&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365225%2C95365235%2C95365698%2C42533294%2C95365112%2C95359265%2C95365116%2C95365798&amp;oid=2&amp;pvsid=8229605185241627&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=5&amp;fsb=1&amp;dtd=493"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CPil7sTrrI4DFZ7IFgUdyy8EwA"
      ></iframe></div
  ></ins>
</div>
<p>
  When measuring the performance of your program, gather at least 3 results. If
  the results are all similar, these likely represent the actual performance of
  your program on that machine. Otherwise, continue to take measurements until
  you have a cluster of similar results (and understand which other results are
  outliers). It’s not uncommon to have one or more outliers due to your system
  doing something in the background during some of those runs.
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p>
  If your results have a lot of variance (and aren’t clustering well), your
  program is likely either being significantly affected by other things
  happening on the system, or by the effects of randomization within your
  application.
</p>
<p>
  Because performance measurements are impacted by so many things (particularly
  hardware speed, but also OS, apps running, etc…), absolute performance
  measurements (e.g. “the program runs in 10 seconds”) are generally not that
  useful outside of understanding how well the program runs on one particular
  machine you care about. On a different machine, that same program may run in 1
  second, 10 seconds, or 1 minute. It’s hard to know without actually measuring
  across a spectrum of different hardware.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  However, on a single machine, relative performance measurements can be useful.
  We can gather performance results from several different variants of a program
  to determine which variant is the most performant. For example, if variant 1
  runs in 10 seconds and variant 2 runs in 8 seconds, variant 2 is probably
  going to be faster on all similar machines regardless of the absolute speed of
  that machine.
</p>
<p>
  After measuring the second variant, a good sanity check is to measure the
  first variant again. If the results of the first variant are consistent with
  your initial measurements for that variant, then the result of both variants
  should be reasonably comparable. For example, if variant 1 runs in 10 seconds,
  and variant 2 runs in 8 seconds, and then we measure variant 1 again and get
  10 seconds, then we can reasonably conclude that the measurements for both
  variants were fairly measured, and that variant 2 is faster.
</p>
<p>
  However, if the results of the first variant are no longer consistent with
  your initial measurements for that variant, then something has happened on the
  machine that is now affecting performance, and it will be hard to tell whether
  differences in measurement are due to the variant or due to the machine
  itself. In this case, it’s best to discard the existing results and
  re-measure.
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/dynamic-memory-allocation-with-new-and-delete/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">19.1</span>Dynamic memory
            allocation with new and delete
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/introduction-to-standard-library-algorithms/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">18.3</span>Introduction to
            standard library algorithms
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
