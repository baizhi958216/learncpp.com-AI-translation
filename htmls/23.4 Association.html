<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  In the previous two lessons, we’ve looked at two types of object composition,
  composition and aggregation. Object composition is used to model relationships
  where a complex object is built from one or more simpler objects (parts).
</p>
<p>
  In this lesson, we’ll take a look at a weaker type of relationship between two
  otherwise unrelated objects, called an association. Unlike object composition
  relationships, in an association, there is no implied whole/part relationship.
</p>
<p class="cpp-section cpp-topline" style="clear: both">Association</p>
<p>
  To qualify as an <strong>association</strong>, an object and another object
  must have the following relationship:
</p>
<ul>
  <li>
    The associated object (member) is otherwise unrelated to the object (class)
  </li>
  <li>
    The associated object (member) can belong to more than one object (class) at
    a time
  </li>
  <li>
    The associated object (member) does <em>not</em> have its existence managed
    by the object (class)
  </li>
  <li>
    The associated object (member) may or may not know about the existence of
    the object (class)
  </li>
</ul>
<p>
  Unlike a composition or aggregation, where the part is a part of the whole
  object, in an association, the associated object is otherwise unrelated to the
  object. Just like an aggregation, the associated object can belong to multiple
  objects simultaneously, and isn’t managed by those objects. However, unlike an
  aggregation, where the relationship is always unidirectional, in an
  association, the relationship may be unidirectional or bidirectional (where
  the two objects are aware of each other).
</p>
<p>
  The relationship between doctors and patients is a great example of an
  association. The doctor clearly has a relationship with his patients, but
  conceptually it’s not a part/whole (object composition) relationship. A doctor
  can see many patients in a day, and a patient can see many doctors (perhaps
  they want a second opinion, or they are visiting different types of doctors).
  Neither of the object’s lifespans are tied to the other.
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p>
  We can say that association models as “uses-a” relationship. The doctor “uses”
  the patient (to earn income). The patient uses the doctor (for whatever health
  purposes they need).
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Implementing associations
</p>
<p>
  Because associations are a broad type of relationship, they can be implemented
  in many different ways. However, most often, associations are implemented
  using pointers, where the object points at the associated object.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: visible;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0;
          position: absolute;
          top: 0;
          border: 0;
          width: 1027px;
          height: 280px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="280"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3575920703&amp;adf=3465938966&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1740212799&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fassociation%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963448383&amp;bpp=1&amp;bdt=1214&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=6588896507277&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=993&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C31093234%2C95331832%2C95353386%2C95362656%2C95365226%2C95365235%2C95365461%2C95365112%2C95359266%2C95365121%2C95365797&amp;oid=2&amp;pvsid=7325217677832792&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;fsb=1&amp;dtd=9"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CIadyLfsrI4DFcBFwgUdui4XAA"
      ></iframe></div
  ></ins>
</div>
<p>
  In this example, we’ll implement a bi-directional Doctor/Patient relationship,
  since it makes sense for the Doctors to know who their Patients are, and
  vice-versa.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span> <span class="token comment">// reference_wrapper</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>

<span class="token comment">// Since Doctor and Patient have a circular dependency, we're going to forward declare Patient</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Patient</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Doctor</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-35-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span>string m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-30-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-30-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>reference_wrapper<span class="token operator">&lt;</span><span class="token keyword keyword-const">const</span> Patient<span class="token operator">&gt;&gt;</span> m_patient<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-31-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-31-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Doctor</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-0-close">(</span>std<span class="token double-colon punctuation">::</span>string_view name<span class="token punctuation brace-round brace-close brace-level-2" id="pair-0-open">)</span> <span class="token operator">:</span>
		m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-32-close">{</span> name <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-32-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-33-close">{</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-33-open">}</span>

	<span class="token keyword keyword-void">void</span> <span class="token function">addPatient</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-1-close">(</span>Patient<span class="token operator">&amp;</span> patient<span class="token punctuation brace-round brace-close brace-level-2" id="pair-1-open">)</span><span class="token punctuation">;</span>

	<span class="token comment">// We'll implement this function below Patient since we need Patient to be defined at that point</span>
	<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-2-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Doctor<span class="token operator">&amp;</span> doctor<span class="token punctuation brace-round brace-close brace-level-2" id="pair-2-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> <span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-3-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-3-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-34-close">{</span> <span class="token keyword keyword-return">return</span> m_name<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-34-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-35-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Patient</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-42-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span>string m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-36-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-36-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>reference_wrapper<span class="token operator">&lt;</span><span class="token keyword keyword-const">const</span> Doctor<span class="token operator">&gt;&gt;</span> m_doctor<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-37-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-37-open">}</span><span class="token punctuation">;</span> <span class="token comment">// so that we can use it here</span>

	<span class="token comment">// We're going to make addDoctor private because we don't want the public to use it.</span>
	<span class="token comment">// They should use Doctor::addPatient() instead, which is publicly exposed</span>
	<span class="token keyword keyword-void">void</span> <span class="token function">addDoctor</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-4-close">(</span><span class="token keyword keyword-const">const</span> Doctor<span class="token operator">&amp;</span> doctor<span class="token punctuation brace-round brace-close brace-level-2" id="pair-4-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-38-close">{</span>
		m_doctor<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-5-close">(</span>doctor<span class="token punctuation brace-round brace-close brace-level-3" id="pair-5-open">)</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-38-open">}</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Patient</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-6-close">(</span>std<span class="token double-colon punctuation">::</span>string_view name<span class="token punctuation brace-round brace-close brace-level-2" id="pair-6-open">)</span>
		<span class="token operator">:</span> m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-39-close">{</span> name <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-39-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-40-close">{</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-40-open">}</span>

	<span class="token comment">// We'll implement this function below to parallel operator&lt;&lt;(std::ostream&amp;, const Doctor&amp;)</span>
	<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-7-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Patient<span class="token operator">&amp;</span> patient<span class="token punctuation brace-round brace-close brace-level-2" id="pair-7-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> <span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-8-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-8-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-41-close">{</span> <span class="token keyword keyword-return">return</span> m_name<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-41-open">}</span>

	<span class="token comment">// We'll friend Doctor::addPatient() so it can access the private function Patient::addDoctor()</span>
	<span class="token keyword keyword-friend">friend</span> <span class="token keyword keyword-void">void</span> <span class="token class-name">Doctor</span><span class="token double-colon punctuation">::</span><span class="token function">addPatient</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-9-close">(</span>Patient<span class="token operator">&amp;</span> patient<span class="token punctuation brace-round brace-close brace-level-2" id="pair-9-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-42-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token class-name">Doctor</span><span class="token double-colon punctuation">::</span><span class="token function">addPatient</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-10-close">(</span>Patient<span class="token operator">&amp;</span> patient<span class="token punctuation brace-round brace-close brace-level-1" id="pair-10-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-43-close">{</span>
	<span class="token comment">// Our doctor will add this patient</span>
	m_patient<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-11-close">(</span>patient<span class="token punctuation brace-round brace-close brace-level-2" id="pair-11-open">)</span><span class="token punctuation">;</span>

	<span class="token comment">// and the patient will also add this doctor</span>
	patient<span class="token punctuation">.</span><span class="token function">addDoctor</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-12-close">(</span><span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-12-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-43-open">}</span>

std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-13-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Doctor<span class="token operator">&amp;</span> doctor<span class="token punctuation brace-round brace-close brace-level-1" id="pair-13-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-45-close">{</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-15-close">(</span>doctor<span class="token punctuation">.</span>m_patient<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-14-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-14-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-15-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-44-close">{</span>
		out <span class="token operator">&lt;&lt;</span> doctor<span class="token punctuation">.</span>m_name <span class="token operator">&lt;&lt;</span> <span class="token string">" has no patients right now"</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-44-open">}</span>

	out <span class="token operator">&lt;&lt;</span> doctor<span class="token punctuation">.</span>m_name <span class="token operator">&lt;&lt;</span> <span class="token string">" is seeing patients: "</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-16-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> patient <span class="token operator">:</span> doctor<span class="token punctuation">.</span>m_patient<span class="token punctuation brace-round brace-close brace-level-2" id="pair-16-open">)</span>
		out <span class="token operator">&lt;&lt;</span> patient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-17-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-17-open">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-18-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-18-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-45-open">}</span>

std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-19-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Patient<span class="token operator">&amp;</span> patient<span class="token punctuation brace-round brace-close brace-level-1" id="pair-19-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-47-close">{</span>
	<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-21-close">(</span>patient<span class="token punctuation">.</span>m_doctor<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-20-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-20-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-21-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-46-close">{</span>
		out <span class="token operator">&lt;&lt;</span> patient<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-22-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-22-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" has no doctors right now"</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-46-open">}</span>

	out <span class="token operator">&lt;&lt;</span> patient<span class="token punctuation">.</span>m_name <span class="token operator">&lt;&lt;</span> <span class="token string">" is seeing doctors: "</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-23-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> doctor <span class="token operator">:</span> patient<span class="token punctuation">.</span>m_doctor<span class="token punctuation brace-round brace-close brace-level-2" id="pair-23-open">)</span>
		out <span class="token operator">&lt;&lt;</span> doctor<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-24-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-24-open">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-25-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-25-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-47-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-26-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-26-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-53-close">{</span>
	<span class="token comment">// Create a Patient outside the scope of the Doctor</span>
	Patient dave<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-48-close">{</span> <span class="token string">"Dave"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-48-open">}</span><span class="token punctuation">;</span>
	Patient frank<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-49-close">{</span> <span class="token string">"Frank"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-49-open">}</span><span class="token punctuation">;</span>
	Patient betsy<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-50-close">{</span> <span class="token string">"Betsy"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-50-open">}</span><span class="token punctuation">;</span>

	Doctor james<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-51-close">{</span> <span class="token string">"James"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-51-open">}</span><span class="token punctuation">;</span>
	Doctor scott<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-52-close">{</span> <span class="token string">"Scott"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-52-open">}</span><span class="token punctuation">;</span>

	james<span class="token punctuation">.</span><span class="token function">addPatient</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-27-close">(</span>dave<span class="token punctuation brace-round brace-close brace-level-2" id="pair-27-open">)</span><span class="token punctuation">;</span>

	scott<span class="token punctuation">.</span><span class="token function">addPatient</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-28-close">(</span>dave<span class="token punctuation brace-round brace-close brace-level-2" id="pair-28-open">)</span><span class="token punctuation">;</span>
	scott<span class="token punctuation">.</span><span class="token function">addPatient</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-29-close">(</span>betsy<span class="token punctuation brace-round brace-close brace-level-2" id="pair-29-open">)</span><span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> james <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> scott <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> dave <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> frank <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> betsy <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-53-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This prints:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3575920703&amp;adf=3359636789&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1740212799&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fassociation%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963448383&amp;bpp=1&amp;bdt=1214&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=6588896507277&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3292&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C31093234%2C95331832%2C95353386%2C95362656%2C95365226%2C95365235%2C95365461%2C95365112%2C95359266%2C95365121%2C95365797&amp;oid=2&amp;pvsid=7325217677832792&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=1&amp;fsb=1&amp;dtd=10"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CNOZyLfsrI4DFa9DwgUdDacMug"
      ></iframe></div
  ></ins>
</div>
<pre>
James is seeing patients: Dave
Scott is seeing patients: Dave Betsy
Dave is seeing doctors: James Scott
Frank has no doctors right now
Betsy is seeing doctors: Scott
</pre>
<p>
  In general, you should avoid bidirectional associations if a unidirectional
  one will do, as they add complexity and tend to be harder to write without
  making errors.
</p>
<p class="cpp-section cpp-topline" style="clear: both">Reflexive association</p>
<p>
  Sometimes objects may have a relationship with other objects of the same type.
  This is called a <strong>reflexive association</strong>. A good example of a
  reflexive association is the relationship between a university course and its
  prerequisites (which are also university courses).
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>
  Consider the simplified case where a Course can only have one prerequisite. We
  can do something like this:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Course</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-60-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>string m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-55-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-55-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-const">const</span> Course<span class="token operator">*</span> m_prerequisite<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-56-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-56-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Course</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-54-close">(</span>std<span class="token double-colon punctuation">::</span>string_view name<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Course<span class="token operator">*</span> prerequisite <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-54-open">)</span><span class="token operator">:</span>
        m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-57-close">{</span> name <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-57-open">}</span><span class="token punctuation">,</span> m_prerequisite<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-58-close">{</span> prerequisite <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-58-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-59-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-59-open">}</span>

<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-60-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This can lead to a chain of associations (a course has a prerequisite, which
  has a prerequisite, etc…)
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3575920703&amp;adf=4196217099&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1740212799&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fassociation%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963448385&amp;bpp=1&amp;bdt=1215&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=6588896507277&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3949&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C31093234%2C95331832%2C95353386%2C95362656%2C95365226%2C95365235%2C95365461%2C95365112%2C95359266%2C95365121%2C95365797&amp;oid=2&amp;pvsid=7325217677832792&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=2&amp;fsb=1&amp;dtd=331"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CM7p27fsrI4DFX5EwgUdXGM4sQ"
      ></iframe></div
  ></ins>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Associations can be indirect
</p>
<p>
  In all of the previous cases, we’ve used either pointers or references to
  directly link objects together. However, in an association, this is not
  strictly required. Any kind of data that allows you to link two objects
  together suffices. In the following example, we show how a Driver class can
  have a unidirectional association with a Car without actually including a Car
  pointer or reference member:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Car</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-86-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span>string m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-79-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-79-open">}</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> m_id<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-80-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-80-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Car</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-61-close">(</span>std<span class="token double-colon punctuation">::</span>string_view name<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> id<span class="token punctuation brace-round brace-close brace-level-2" id="pair-61-open">)</span>
		<span class="token operator">:</span> m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-81-close">{</span> name <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-81-open">}</span><span class="token punctuation">,</span> m_id<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-82-close">{</span> id <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-82-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-83-close">{</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-83-open">}</span>

	<span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> <span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-62-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-62-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-84-close">{</span> <span class="token keyword keyword-return">return</span> m_name<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-84-open">}</span>
	<span class="token keyword keyword-int">int</span> <span class="token function">getId</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-63-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-63-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-85-close">{</span> <span class="token keyword keyword-return">return</span> m_id<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-85-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-86-open">}</span><span class="token punctuation">;</span>

<span class="token comment">// Our CarLot is essentially just a static array of Cars and a lookup function to retrieve them.</span>
<span class="token comment">// Because it's static, we don't need to allocate an object of type CarLot to use it</span>
<span class="token keyword keyword-namespace">namespace</span> CarLot
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-95-close">{</span>
    Car carLot<span class="token punctuation brace-square brace-open brace-level-2" id="pair-78-close">[</span><span class="token number">4</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-78-open">]</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-91-close">{</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-87-close">{</span> <span class="token string">"Prius"</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-87-open">}</span><span class="token punctuation">,</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-88-close">{</span> <span class="token string">"Corolla"</span><span class="token punctuation">,</span> <span class="token number">17</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-88-open">}</span><span class="token punctuation">,</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-89-close">{</span> <span class="token string">"Accord"</span><span class="token punctuation">,</span> <span class="token number">84</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-89-open">}</span><span class="token punctuation">,</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-90-close">{</span> <span class="token string">"Matrix"</span><span class="token punctuation">,</span> <span class="token number">62</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-90-open">}</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-91-open">}</span><span class="token punctuation">;</span>

	Car<span class="token operator">*</span> <span class="token function">getCar</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-64-close">(</span><span class="token keyword keyword-int">int</span> id<span class="token punctuation brace-round brace-close brace-level-2" id="pair-64-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-94-close">{</span>
		<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-65-close">(</span><span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> car <span class="token operator">:</span> carLot<span class="token punctuation brace-round brace-close brace-level-3" id="pair-65-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-93-close">{</span>
			<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-4" id="pair-67-close">(</span>car<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation brace-round brace-open brace-level-5" id="pair-66-close">(</span><span class="token punctuation brace-round brace-close brace-level-5" id="pair-66-open">)</span> <span class="token operator">==</span> id<span class="token punctuation brace-round brace-close brace-level-4" id="pair-67-open">)</span>
			<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-92-close">{</span>
				<span class="token keyword keyword-return">return</span> <span class="token operator">&amp;</span>car<span class="token punctuation">;</span>
			<span class="token punctuation brace-curly brace-close brace-level-4" id="pair-92-open">}</span>
		<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-93-open">}</span>

		<span class="token keyword keyword-return">return</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-94-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-95-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Driver</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-103-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	std<span class="token double-colon punctuation">::</span>string m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-96-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-96-open">}</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> m_carId<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-97-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-97-open">}</span><span class="token punctuation">;</span> <span class="token comment">// we're associated with the Car by ID rather than pointer</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Driver</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-68-close">(</span>std<span class="token double-colon punctuation">::</span>string_view name<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> carId<span class="token punctuation brace-round brace-close brace-level-2" id="pair-68-open">)</span>
		<span class="token operator">:</span> m_name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-98-close">{</span> name <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-98-open">}</span><span class="token punctuation">,</span> m_carId<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-99-close">{</span> carId <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-99-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-100-close">{</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-100-open">}</span>

	<span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> <span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-69-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-69-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-101-close">{</span> <span class="token keyword keyword-return">return</span> m_name<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-101-open">}</span>
	<span class="token keyword keyword-int">int</span> <span class="token function">getCarId</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-70-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-70-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-102-close">{</span> <span class="token keyword keyword-return">return</span> m_carId<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-102-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-103-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-71-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-71-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-106-close">{</span>
	Driver d<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-104-close">{</span> <span class="token string">"Franz"</span><span class="token punctuation">,</span> <span class="token number">17</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-104-open">}</span><span class="token punctuation">;</span> <span class="token comment">// Franz is driving the car with ID 17</span>

	Car<span class="token operator">*</span> car<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-105-close">{</span> <span class="token class-name">CarLot</span><span class="token double-colon punctuation">::</span><span class="token function">getCar</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-73-close">(</span>d<span class="token punctuation">.</span><span class="token function">getCarId</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-72-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-72-open">)</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-73-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-105-open">}</span><span class="token punctuation">;</span> <span class="token comment">// Get that car from the car lot</span>

	<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-74-close">(</span>car<span class="token punctuation brace-round brace-close brace-level-2" id="pair-74-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-75-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-75-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" is driving a "</span> <span class="token operator">&lt;&lt;</span> car<span class="token operator">-&gt;</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-76-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-76-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-else">else</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-77-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-77-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" couldn't find his car\n"</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-106-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In the above example, we have a CarLot holding our cars. The Driver, who needs
  a car, doesn’t have a pointer to his Car -- instead, he has the ID of the car,
  which we can use to get the Car from the CarLot when we need it.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  In this particular example, doing things this way is kind of silly, since
  getting the Car out of the CarLot requires an inefficient lookup (a pointer
  connecting the two is much faster). However, there are advantages to
  referencing things by a unique ID instead of a pointer. For example, you can
  reference things that are not currently in memory (maybe they’re in a file, or
  in a database, and can be loaded on demand). Also, pointers can take 4 or 8
  bytes -- if space is at a premium and the number of unique objects is fairly
  low, referencing them by an 8-bit or 16-bit integer can save lots of memory.
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  Composition vs aggregation vs association summary
</p>
<p>
  Here’s a summary table to help you remember the difference between
  composition, aggregation, and association:
</p>
<div class="cpp-table-wrapper">
  <p></p>
  <p></p>
  <table class="cpp-table">
    <tbody>
      <tr>
        <th>Property</th>
        <th>Composition</th>
        <th>Aggregation</th>
        <th>Association</th>
      </tr>
      <tr>
        <td>Relationship type</td>
        <td>Whole/part</td>
        <td>Whole/part</td>
        <td>Otherwise unrelated</td>
      </tr>
      <tr>
        <td>Members can belong to multiple classes</td>
        <td>No</td>
        <td>Yes</td>
        <td>Yes</td>
      </tr>
      <tr>
        <td>Members’ existence managed by class</td>
        <td>Yes</td>
        <td>No</td>
        <td>No</td>
      </tr>
      <tr>
        <td>Directionality</td>
        <td>Unidirectional</td>
        <td>Unidirectional</td>
        <td>Unidirectional or bidirectional</td>
      </tr>
      <tr>
        <td>Relationship verb</td>
        <td>Part-of</td>
        <td>Has-a</td>
        <td>Uses-a</td>
      </tr>
    </tbody>
  </table>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/dependencies/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">23.5</span>Dependencies
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/aggregation/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">23.3</span>Aggregation
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
