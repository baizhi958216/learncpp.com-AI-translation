<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  In a previous chapter, we covered function templates (<a
    href="https://www.learncpp.com/cpp-tutorial/function-templates/"
    >11.6 -- Function templates</a
  >), which allow us to generalize functions to work with many different data
  types. While this is a great start down the road to generalized programming,
  it doesn’t solve all of our problems. Let’s take a look at an example of one
  such problem, and see what templates can further do for us.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Templates and container classes
</p>
<p>
  In the lesson on
  <a href="https://www.learncpp.com/cpp-tutorial/container-classes/"
    >23.6 -- Container classes</a
  >, you learned how to use composition to implement classes that contained
  multiple instances of other classes. As one example of such a container, we
  took a look at the IntArray class. Here is a simplified example of that class:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">INTARRAY_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">INTARRAY_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-22-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-14-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-14-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span><span class="token operator">*</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-15-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-15-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>

    <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-0-close">(</span><span class="token keyword keyword-int">int</span> length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-0-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-17-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-1-close">(</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-1-open">)</span><span class="token punctuation">;</span>
        m_data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-9-close">[</span>length<span class="token punctuation brace-square brace-close brace-level-3" id="pair-9-open">]</span><span class="token punctuation brace-curly brace-open brace-level-3" id="pair-16-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-16-open">}</span><span class="token punctuation">;</span>
        m_length <span class="token operator">=</span> length<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-17-open">}</span>

    <span class="token comment">// We don't want to allow copies of IntArray to be created.</span>
    <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-2-close">(</span><span class="token keyword keyword-const">const</span> IntArray<span class="token operator">&amp;</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-2-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span>
    IntArray<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-3-close">(</span><span class="token keyword keyword-const">const</span> IntArray<span class="token operator">&amp;</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-3-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span>

    <span class="token operator">~</span><span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-4-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-4-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-18-close">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-10-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-10-open">]</span> m_data<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-18-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">erase</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-5-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-5-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-19-close">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-11-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-11-open">]</span> m_data<span class="token punctuation">;</span>
        <span class="token comment">// We need to make sure we set m_data to 0 here, otherwise it will</span>
        <span class="token comment">// be left pointing at deallocated memory!</span>
        m_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
        m_length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-19-open">}</span>

    <span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-12-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-12-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-6-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-6-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-20-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-7-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-7-open">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> m_data<span class="token punctuation brace-square brace-open brace-level-3" id="pair-13-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-13-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-20-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-8-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-8-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-21-close">{</span> <span class="token keyword keyword-return">return</span> m_length<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-21-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-22-open">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_2_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_2"
        name="aswift_2"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3224919742&amp;adf=1760548671&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751435738&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftemplate-classes%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963667531&amp;bpp=2&amp;bdt=1493&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280&amp;nras=2&amp;correlator=292300504047&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1417&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=42532242%2C95353386%2C95362655%2C95365226%2C95365235%2C95365698%2C42533294%2C95344789%2C95359265%2C95365119%2C95365798&amp;oid=2&amp;pvsid=1484266086480784&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=3&amp;uci=a!3&amp;btvi=1&amp;fsb=1&amp;dtd=21"
        data-google-container-id="a!3"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CLa5iKDtrI4DFZbJFgUdH-gYjw"
      ></iframe></div
  ></ins>
</div>
<p>
  While this class provides an easy way to create arrays of integers, what if we
  want to create an array of doubles? Using traditional programming methods,
  we’d have to create an entirely new class! Here’s an example of DoubleArray,
  an array class used to hold doubles.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">DOUBLEARRAY_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">DOUBLEARRAY_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">DoubleArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-45-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-37-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-37-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span><span class="token operator">*</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-38-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-38-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>

    <span class="token function">DoubleArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-23-close">(</span><span class="token keyword keyword-int">int</span> length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-23-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-40-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-24-close">(</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-24-open">)</span><span class="token punctuation">;</span>
        m_data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-double">double</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-32-close">[</span>length<span class="token punctuation brace-square brace-close brace-level-3" id="pair-32-open">]</span><span class="token punctuation brace-curly brace-open brace-level-3" id="pair-39-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-39-open">}</span><span class="token punctuation">;</span>
        m_length <span class="token operator">=</span> length<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-40-open">}</span>

    <span class="token function">DoubleArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-25-close">(</span><span class="token keyword keyword-const">const</span> DoubleArray<span class="token operator">&amp;</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-25-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span>
    DoubleArray<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-26-close">(</span><span class="token keyword keyword-const">const</span> DoubleArray<span class="token operator">&amp;</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-26-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span>

    <span class="token operator">~</span><span class="token function">DoubleArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-27-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-27-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-41-close">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-33-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-33-open">]</span> m_data<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-41-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">erase</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-28-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-28-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-42-close">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-34-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-34-open">]</span> m_data<span class="token punctuation">;</span>
        <span class="token comment">// We need to make sure we set m_data to 0 here, otherwise it will</span>
        <span class="token comment">// be left pointing at deallocated memory!</span>
        m_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
        m_length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-42-open">}</span>

    <span class="token keyword keyword-double">double</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-35-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-35-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-29-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-29-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-43-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-30-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-30-open">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> m_data<span class="token punctuation brace-square brace-open brace-level-3" id="pair-36-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-36-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-43-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-31-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-31-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-44-close">{</span> <span class="token keyword keyword-return">return</span> m_length<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-44-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-45-open">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_3_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_3"
        name="aswift_3"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3224919742&amp;adf=3418974549&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751435738&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftemplate-classes%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963667531&amp;bpp=1&amp;bdt=1492&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C1027x280&amp;nras=3&amp;correlator=292300504047&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2551&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=42532242%2C95353386%2C95362655%2C95365226%2C95365235%2C95365698%2C42533294%2C95344789%2C95359265%2C95365119%2C95365798&amp;oid=2&amp;pvsid=1484266086480784&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;cms=2&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=4&amp;uci=a!4&amp;btvi=2&amp;fsb=1&amp;dtd=22"
        data-google-container-id="a!4"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CPTtiKDtrI4DFXfJFgUdvnkn6w"
      ></iframe></div
  ></ins>
</div>
<p>
  Although the code listings are lengthy, you’ll note the two classes are almost
  identical! In fact, the only substantive difference is the contained data type
  (int vs double). As you likely have guessed, this is another area where
  templates can be put to good use, to free us from having to create classes
  that are bound to one specific data type.
</p>
<p>
  Creating template classes works pretty much identically to creating template
  functions, so we’ll proceed by example. Here’s our array class, templated
  version:
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p>Array.h:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">ARRAY_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ARRAY_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token comment">// added</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Array</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-69-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-62-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-62-open">}</span><span class="token punctuation">;</span>
    T<span class="token operator">*</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-63-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-63-open">}</span><span class="token punctuation">;</span> <span class="token comment">// changed type to T</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>

    <span class="token function">Array</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-46-close">(</span><span class="token keyword keyword-int">int</span> length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-46-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-65-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-47-close">(</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-47-open">)</span><span class="token punctuation">;</span>
        m_data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> T<span class="token punctuation brace-square brace-open brace-level-3" id="pair-56-close">[</span>length<span class="token punctuation brace-square brace-close brace-level-3" id="pair-56-open">]</span><span class="token punctuation brace-curly brace-open brace-level-3" id="pair-64-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-64-open">}</span><span class="token punctuation">;</span> <span class="token comment">// allocated an array of objects of type T</span>
        m_length <span class="token operator">=</span> length<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-65-open">}</span>

    <span class="token function">Array</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-48-close">(</span><span class="token keyword keyword-const">const</span> Array<span class="token operator">&amp;</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-48-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span>
    Array<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-49-close">(</span><span class="token keyword keyword-const">const</span> Array<span class="token operator">&amp;</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-49-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span>

    <span class="token operator">~</span><span class="token function">Array</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-50-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-50-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-66-close">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-57-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-57-open">]</span> m_data<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-66-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">erase</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-51-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-51-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-67-close">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-58-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-58-open">]</span> m_data<span class="token punctuation">;</span>
        <span class="token comment">// We need to make sure we set m_data to 0 here, otherwise it will</span>
        <span class="token comment">// be left pointing at deallocated memory!</span>
        m_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
        m_length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-67-open">}</span>

    <span class="token comment">// templated operator[] function defined below</span>
    T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-59-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-59-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-52-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-52-open">)</span><span class="token punctuation">;</span> <span class="token comment">// now returns a T&amp;</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-53-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-53-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-68-close">{</span> <span class="token keyword keyword-return">return</span> m_length<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-68-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-69-open">}</span><span class="token punctuation">;</span>

<span class="token comment">// member functions defined outside the class need their own template declaration</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
T<span class="token operator">&amp;</span> Array<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-1" id="pair-60-close">[</span><span class="token punctuation brace-square brace-close brace-level-1" id="pair-60-open">]</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-54-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-1" id="pair-54-open">)</span> <span class="token comment">// now returns a T&amp;</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-70-close">{</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-55-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-55-open">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> m_data<span class="token punctuation brace-square brace-open brace-level-2" id="pair-61-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-2" id="pair-61-open">]</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-70-open">}</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_4_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_4"
        name="aswift_4"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3224919742&amp;adf=2735029455&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751435738&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftemplate-classes%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963667531&amp;bpp=1&amp;bdt=1492&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=292300504047&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3871&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=42532242%2C95353386%2C95362655%2C95365226%2C95365235%2C95365698%2C42533294%2C95344789%2C95359265%2C95365119%2C95365798&amp;oid=2&amp;pvsid=1484266086480784&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=5&amp;uci=a!5&amp;btvi=3&amp;fsb=1&amp;dtd=23"
        data-google-container-id="a!5"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CN6FiaDtrI4DFW_IFgUdPe8D1w"
      ></iframe></div
  ></ins>
</div>
<p>
  As you can see, this version is almost identical to the IntArray version,
  except we’ve added the template declaration, and changed the contained data
  type from int to T.
</p>
<p>
  Note that we’ve also defined the <code>operator[]</code> function outside of
  the class declaration. This isn’t necessary, but new programmers typically
  stumble when trying to do this for the first time due to the syntax, so an
  example is instructive. Each templated member function defined outside the
  class declaration needs its own template declaration. Also, note that the name
  of the templated array class is Array&lt;T&gt;, not Array -- Array would refer
  to a non-templated version of a class named Array, unless Array is used inside
  of the class. For example, the copy constructor and copy-assignment operator
  used Array rather than Array&lt;T&gt;. When the class name is used without
  template arguments inside of the class, the arguments are the same as the ones
  of the current instantiation.
</p>
<p>Here’s a short example using the above templated array class:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Array.h"</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-71-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-71-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-84-close">{</span>
	<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> length <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-78-close">{</span> <span class="token number">12</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-78-open">}</span><span class="token punctuation">;</span>
	Array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> intArray <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-79-close">{</span> length <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-79-open">}</span><span class="token punctuation">;</span>
	Array<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span> doubleArray <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-80-close">{</span> length <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-80-open">}</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-72-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-81-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-81-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-72-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-82-close">{</span>
		intArray<span class="token punctuation brace-square brace-open brace-level-3" id="pair-74-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-3" id="pair-74-open">]</span> <span class="token operator">=</span> count<span class="token punctuation">;</span>
		doubleArray<span class="token punctuation brace-square brace-open brace-level-3" id="pair-75-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-3" id="pair-75-open">]</span> <span class="token operator">=</span> count <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-82-open">}</span>

	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-73-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-83-close">{</span> length <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-83-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-73-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> intArray<span class="token punctuation brace-square brace-open brace-level-2" id="pair-76-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-76-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\t'</span> <span class="token operator">&lt;&lt;</span> doubleArray<span class="token punctuation brace-square brace-open brace-level-2" id="pair-77-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-77-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-84-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3224919742&amp;adf=3830578675&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751435738&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftemplate-classes%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963667532&amp;bpp=1&amp;bdt=1494&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C1027x280%2C1027x280%2C1027x280%2C160x600%2C160x600&amp;nras=5&amp;correlator=292300504047&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3888&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=42532242%2C95353386%2C95362655%2C95365226%2C95365235%2C95365698%2C42533294%2C95344789%2C95359265%2C95365119%2C95365798&amp;oid=2&amp;pvsid=1484266086480784&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=4&amp;fsb=1&amp;dtd=331"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CL27m6DtrI4DFenIFgUds7gfiQ"
      ></iframe></div
  ></ins>
</div>
<p>This example prints the following:</p>
<pre>
11     11.5
10     10.5
9       9.5
8       8.5
7       7.5
6       6.5
5       5.5
4       4.5
3       3.5
2       2.5
1       1.5
0       0.5
</pre>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  Template classes are instantiated in the same way template functions are --
  the compiler stencils out a copy upon demand, with the template parameter
  replaced by the actual data type the user needs, and then compiles the copy.
  If you don’t ever use a template class, the compiler won’t even compile it.
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>
  Template classes are ideal for implementing container classes, because it is
  highly desirable to have containers work across a wide variety of data types,
  and templates allow you to do so without duplicating code. Although the syntax
  is ugly, and the error messages can be cryptic, template classes are truly one
  of C++’s best and most useful features.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Splitting up template classes
</p>
<p>
  A template is not a class or a function -- it is a stencil used to create
  classes or functions. As such, it does not work in quite the same way as
  normal functions or classes. In most cases, this isn’t much of a issue.
  However, there is one area that commonly causes problems for developers.
</p>
<p>
  With non-template classes, the common procedure is to put the class definition
  in a header file, and the member function definitions in a similarly named
  code file. In this way, the member function definitions are compiled as a
  separate project file. However, with templates, this does not work. Consider
  the following:
</p>
<p>Array.h:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">ARRAY_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">ARRAY_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span></span>

<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span> <span class="token comment">// added</span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Array</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-104-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-97-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-97-open">}</span><span class="token punctuation">;</span>
    T<span class="token operator">*</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-98-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-98-open">}</span><span class="token punctuation">;</span> <span class="token comment">// changed type to T</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>

    <span class="token function">Array</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-85-close">(</span><span class="token keyword keyword-int">int</span> length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-85-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-100-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-86-close">(</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-86-open">)</span><span class="token punctuation">;</span>
        m_data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> T<span class="token punctuation brace-square brace-open brace-level-3" id="pair-93-close">[</span>length<span class="token punctuation brace-square brace-close brace-level-3" id="pair-93-open">]</span><span class="token punctuation brace-curly brace-open brace-level-3" id="pair-99-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-99-open">}</span><span class="token punctuation">;</span> <span class="token comment">// allocated an array of objects of type T</span>
        m_length <span class="token operator">=</span> length<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-100-open">}</span>

    <span class="token function">Array</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-87-close">(</span><span class="token keyword keyword-const">const</span> Array<span class="token operator">&amp;</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-87-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span>
    Array<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-88-close">(</span><span class="token keyword keyword-const">const</span> Array<span class="token operator">&amp;</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-88-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span>

    <span class="token operator">~</span><span class="token function">Array</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-89-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-89-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-101-close">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-94-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-94-open">]</span> m_data<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-101-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">erase</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-90-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-90-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-102-close">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-95-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-95-open">]</span> m_data<span class="token punctuation">;</span>
        <span class="token comment">// We need to make sure we set m_data to 0 here, otherwise it will</span>
        <span class="token comment">// be left pointing at deallocated memory!</span>
        m_data <span class="token operator">=</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
        m_length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-102-open">}</span>

    <span class="token comment">// templated operator[] function defined below</span>
    T<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-96-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-96-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-91-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-91-open">)</span><span class="token punctuation">;</span> <span class="token comment">// now returns a T&amp;</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-92-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-92-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-103-close">{</span> <span class="token keyword keyword-return">return</span> m_length<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-103-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-104-open">}</span><span class="token punctuation">;</span>

<span class="token comment">// Definition of Array&lt;T&gt;::operator[] moved into Array.cpp below</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>Array.cpp:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Array.h"</span></span>

<span class="token comment">// member functions defined outside the class need their own template declaration</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
T<span class="token operator">&amp;</span> Array<span class="token operator">&lt;</span>T<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-1" id="pair-107-close">[</span><span class="token punctuation brace-square brace-close brace-level-1" id="pair-107-open">]</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-105-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-1" id="pair-105-open">)</span> <span class="token comment">// now returns a T&amp;</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-109-close">{</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-106-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-106-open">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> m_data<span class="token punctuation brace-square brace-open brace-level-2" id="pair-108-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-2" id="pair-108-open">]</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-109-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>main.cpp:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Array.h"</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-110-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-110-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-123-close">{</span>
	<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-int">int</span> length <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-117-close">{</span> <span class="token number">12</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-117-open">}</span><span class="token punctuation">;</span>
	Array<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> intArray <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-118-close">{</span> length <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-118-open">}</span><span class="token punctuation">;</span>
	Array<span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span> doubleArray <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-119-close">{</span> length <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-119-open">}</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-111-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-120-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-120-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-111-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-121-close">{</span>
		intArray<span class="token punctuation brace-square brace-open brace-level-3" id="pair-113-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-3" id="pair-113-open">]</span> <span class="token operator">=</span> count<span class="token punctuation">;</span>
		doubleArray<span class="token punctuation brace-square brace-open brace-level-3" id="pair-114-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-3" id="pair-114-open">]</span> <span class="token operator">=</span> count <span class="token operator">+</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-121-open">}</span>

	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-112-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-122-close">{</span> length <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-122-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-112-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> intArray<span class="token punctuation brace-square brace-open brace-level-2" id="pair-115-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-115-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\t'</span> <span class="token operator">&lt;&lt;</span> doubleArray<span class="token punctuation brace-square brace-open brace-level-2" id="pair-116-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-116-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-123-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>The above program will compile, but cause a linker error:</p>
<pre>
undefined reference to `Array&lt;int&gt;::operator[](int)'
</pre>
<p>
  Just like with function templates, the compiler will only instantiate a class
  template if the class template is used (e.g. as the type of an object like
  intArray) in a translation unit. In order to perform the instantiation, the
  compiler must see both the full class template definition (not just a
  declaration) and the specific template type(s) needed.
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p>
  Also remember that C++ compiles files individually. When main.cpp is compiled,
  the contents of the Array.h header (including the template class definition)
  are copied into main.cpp. When the compiler sees that we need two template
  instances, Array&lt;int&gt;, and Array&lt;double&gt;, it will instantiate
  these, and compile them as part of the main.cpp translation unit. Because the
  <code>operator[]</code> member function has a declaration, the compiler will
  accept a call to it, assuming it will be defined elsewhere.
</p>
<p>
  When Array.cpp is compiled separately, the contents of the Array.h header are
  copied into Array.cpp, but the compiler won’t find any code in Array.cpp that
  requires the Array class template or
  <code>Array&lt;int&gt;::operator[]</code> function template to be instantiated
  -- so it won’t instantiate anything.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  Thus, when the program is linked, we’ll get a linker error, because main.cpp
  made a call to <code>Array&lt;int&gt;::operator[]</code> but that template
  function was never instantiated!
</p>
<p>There are quite a few ways to work around this.</p>
<p>
  The easiest way is to simply put all of your template class code in the header
  file (in this case, put the contents of Array.cpp into Array.h, below the
  class). In this way, when you #include the header, all of the template code
  will be in one place. The upside of this solution is that it is simple. The
  downside here is that if the template class is used in many files, you will
  end up with many local instances of the template class, which can increase
  your compile and link times (your linker should remove the duplicate
  definitions, so it shouldn’t bloat your executable). This is our preferred
  solution unless the compile or link times start to become a problem.
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<p>
  If you feel that putting the Array.cpp code into the Array.h header makes the
  header too long/messy, an alternative is to move the contents of Array.cpp to
  a new file named Array.inl (.inl stands for inline), and then include
  Array.inl at the bottom of the Array.h header (inside the header guard). That
  yields the same result as putting all the code in the header, but helps keep
  things a little more organized.
</p>
<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Tip</p>
  <div
    class="google-auto-placed ap_container"
    style="width: 100%; height: auto; clear: both; text-align: center"
  >
    <ins
      data-ad-format="auto"
      class="adsbygoogle adsbygoogle-noablate"
      data-ad-client="ca-pub-0588844875925051"
      data-adsbygoogle-status="done"
      style="
        display: block;
        margin: auto;
        background-color: transparent;
        height: 280px;
      "
      ><div
        id="aswift_11_host"
        style="
          border: none;
          height: 280px;
          width: 995px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
        "
      ></div
    ></ins>
  </div>
  <p>
    If you use the .inl method and then get a compiler error about duplicate
    definitions, your compiler is most likely compiling the .inl file as part of
    the project as if it were a code file. This results in the contents of the
    .inl getting compiled twice: once when your compiler compiles the .inl, and
    once when the .cpp file that includes the .inl gets compiled. If the .inl
    file contains any non-inline functions (or variables), then we will run
    afoul of the one definition rule. If this happens, you’ll need to exclude
    the .inl file from being compiled as part of the build.
  </p>
  <p>
    Excluding the .inl from the build can usually be done by right clicking on
    the .inl file in the project view, and then choosing properties. The setting
    will be somewhere in there. In Visual Studio, set “Exclude From Build” to
    “Yes”. In Code::Blocks, uncheck “Compile file” and “Link file”.
  </p>
</div>
<p>
  Other solutions involve #including .cpp files, but we don’t recommend these
  because of the non-standard usage of #include.
</p>
<p>
  Another alternative is to use a three-file approach. The template class
  definition goes in the header. The template class member functions goes in the
  code file. Then you add a third file, which contains <em>all</em> of the
  instantiated classes you need:
</p>
<p>templates.cpp:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// Ensure the full Array template definition can be seen</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Array.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"Array.cpp"</span> <span class="token comment">// we're breaking best practices here, but only in this one place</span></span>

<span class="token comment">// #include other .h and .cpp template definitions you need here</span>

<span class="token keyword keyword-template">template</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// Explicitly instantiate template Array&lt;int&gt;</span>
<span class="token keyword keyword-template">template</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// Explicitly instantiate template Array&lt;double&gt;</span>

<span class="token comment">// instantiate other templates here</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  The “template class” command causes the compiler to explicitly instantiate the
  template class. In the above case, the compiler will stencil out definitions
  for Array&lt;int&gt; and Array&lt;double&gt; inside of templates.cpp. Other
  code files that want to use these types can include Array.h (to satisfy the
  compiler), and the linker will link in these explicit type definitions from
  template.cpp.
</p>
<p>
  This method may be more efficient (depending on how your compiler and linker
  handle templates and duplicate definitions), but requires maintaining the
  templates.cpp file for each program.
</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/template-non-type-parameters/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">26.2</span>Template non-type
            parameters
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/chapter-25-summary-and-quiz/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">25.x</span>Chapter 25 summary
            and quiz
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
