<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  Consider this snippet of code that we introduced in lesson
  <a
    href="https://www.learncpp.com/cpp-tutorial/introduction-to-standard-library-algorithms/"
    >18.3 -- Introduction to standard library algorithms</a
  >:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token comment">// Our function will return true if the element matches</span>
<span class="token keyword keyword-bool">bool</span> <span class="token function">containsNut</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-0-close">(</span>std<span class="token double-colon punctuation">::</span>string_view str<span class="token punctuation brace-round brace-close brace-level-1" id="pair-0-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-8-close">{</span>
    <span class="token comment">// std::string_view::find returns std::string_view::npos if it doesn't find</span>
    <span class="token comment">// the substring. Otherwise it returns the index where the substring occurs</span>
    <span class="token comment">// in str.</span>
    <span class="token keyword keyword-return">return</span> str<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-1-close">(</span><span class="token string">"nut"</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-1-open">)</span> <span class="token operator">!=</span> std<span class="token double-colon punctuation">::</span>string_view<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-8-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-2-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-2-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-13-close">{</span>
    <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string_view<span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span> arr<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-9-close">{</span> <span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"walnut"</span><span class="token punctuation">,</span> <span class="token string">"lemon"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-9-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Scan our array to see if any elements contain the "nut" substring</span>
    <span class="token keyword keyword-auto">auto</span> found<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-10-close">{</span> std<span class="token double-colon punctuation">::</span><span class="token function">find_if</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-5-close">(</span>arr<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-3-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-3-open">)</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-4-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-4-open">)</span><span class="token punctuation">,</span> containsNut<span class="token punctuation brace-round brace-close brace-level-3" id="pair-5-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-10-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-7-close">(</span>found <span class="token operator">==</span> arr<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-6-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-6-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-7-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-11-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"No nuts\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-11-open">}</span>
    <span class="token keyword keyword-else">else</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-12-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Found "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>found <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-12-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-13-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This code searches through an array of strings looking for the first element
  that contains the substring “nut”. Thus, it produces the result:
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1782321953&amp;adf=2644216369&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751811602&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-lambdas-anonymous-functions%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963262173&amp;bpp=1&amp;bdt=625&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=4476829049964&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1093&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365226%2C95365234%2C95365111%2C95359265%2C95365122%2C95365798&amp;oid=2&amp;pvsid=569689569630219&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=24"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CK3O497rrI4DFUTMFgUdpN8IEg"
      ></iframe></div
  ></ins>
</div>
<pre>
Found walnut
</pre>
<p>And while it works, it could be improved.</p>
<p>
  The root of the issue here is that <code>std::find_if</code> requires that we
  pass it a function pointer. Because of that, we are forced to define a
  function that’s only going to be used once, that must be given a name, and
  that must be put in the global scope (because functions can’t be nested!). The
  function is also so short, it’s almost easier to discern what it does from the
  one line of code than from the name and comments.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Lambdas are anonymous functions
</p>
<p>
  A <strong>lambda expression</strong> (also called a <strong>lambda</strong> or
  <strong>closure</strong>) allows us to define an anonymous function inside
  another function. The nesting is important, as it allows us both to avoid
  namespace naming pollution, and to define the function as close to where it is
  used as possible (providing additional context).
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p>
  The syntax for lambdas is one of the weirder things in C++, and takes a bit of
  getting used to. Lambdas take the form:
</p>
<pre>
[ captureClause ] ( parameters ) -&gt; returnType
{
    statements;
}
</pre>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1782321953&amp;adf=1093728721&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751811602&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-lambdas-anonymous-functions%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963262173&amp;bpp=1&amp;bdt=626&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=4476829049964&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1813&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365226%2C95365234%2C95365111%2C95359265%2C95365122%2C95365798&amp;oid=2&amp;pvsid=569689569630219&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=25"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="COrW497rrI4DFV7IFgUdKRYjQg"
      ></iframe></div
  ></ins>
</div>
<ul>
  <li>The capture clause can be empty if no captures are needed.</li>
  <li>
    The parameter list can be empty if no parameters are required. It can also
    be omitted entirely unless a return type is specified.
  </li>
  <li>
    The return type is optional, and if omitted, <code>auto</code> will be
    assumed (thus using type deduction used to determine the return type). While
    we previously noted that type deduction for function return types should be
    avoided, in this context, it’s fine to use (because these functions are
    typically so trivial).
  </li>
</ul>
<p>
  Also note that lambdas (being anonymous) have no name, so we don’t need to
  provide one.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">As an aside…</p>
  <p>This means a trivial lambda definition looks like this:</p>
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-14-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-14-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-17-close">{</span>
  <span class="token punctuation brace-square brace-open brace-level-2" id="pair-15-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-15-open">]</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-16-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-16-open">}</span><span class="token punctuation">;</span> <span class="token comment">// a lambda with an omitted return type, no captures, and omitted parameters.</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-17-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<p>Let’s rewrite the above example using a lambda:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-18-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-18-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-32-close">{</span>
  <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string_view<span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span> arr<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-27-close">{</span> <span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"walnut"</span><span class="token punctuation">,</span> <span class="token string">"lemon"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-27-open">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Define the function right where we use it.</span>
  <span class="token keyword keyword-auto">auto</span> found<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-29-close">{</span> std<span class="token double-colon punctuation">::</span><span class="token function">find_if</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-23-close">(</span>arr<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-19-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-19-open">)</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-20-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-20-open">)</span><span class="token punctuation">,</span>
                           <span class="token punctuation brace-square brace-open brace-level-4" id="pair-26-close">[</span><span class="token punctuation brace-square brace-close brace-level-4" id="pair-26-open">]</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-21-close">(</span>std<span class="token double-colon punctuation">::</span>string_view str<span class="token punctuation brace-round brace-close brace-level-4" id="pair-21-open">)</span> <span class="token comment">// here's our lambda, no capture clause</span>
                           <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-28-close">{</span>
                             <span class="token keyword keyword-return">return</span> str<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation brace-round brace-open brace-level-5" id="pair-22-close">(</span><span class="token string">"nut"</span><span class="token punctuation brace-round brace-close brace-level-5" id="pair-22-open">)</span> <span class="token operator">!=</span> std<span class="token double-colon punctuation">::</span>string_view<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">;</span>
                           <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-28-open">}</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-23-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-29-open">}</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-25-close">(</span>found <span class="token operator">==</span> arr<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-24-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-24-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-25-open">)</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-30-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"No nuts\n"</span><span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-30-open">}</span>
  <span class="token keyword keyword-else">else</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-31-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Found "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>found <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-31-open">}</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-32-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This works just like the function pointer case, and produces an identical
  result:
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1782321953&amp;adf=385282025&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751811602&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-lambdas-anonymous-functions%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963262173&amp;bpp=1&amp;bdt=626&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=4476829049964&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3044&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365226%2C95365234%2C95365111%2C95359265%2C95365122%2C95365798&amp;oid=2&amp;pvsid=569689569630219&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=25"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CPTU497rrI4DFWvIFgUd5dwrQg"
      ></iframe></div
  ></ins>
</div>
<pre>
Found walnut
</pre>
<p>
  Note how similar our lambda is to our <code>containsNut</code> function. They
  both have identical parameters and function bodies. The lambda has no capture
  clause (we’ll explain what a capture clause is in the next lesson) because it
  doesn’t need one. And we’ve omitted the trailing return type in the lambda
  (for conciseness), but since <code>operator!=</code> returns a
  <code>bool</code>, our lambda will return a <code>bool</code> too.
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>
    Following the best practice of defining things in the smallest scope and
    closest to first use, lambdas are preferred over normal functions when we
    need a trivial, one-off function to pass as an argument to some other
    function.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">Type of a lambda</p>
<p>
  In the above example, we defined a lambda right where it was needed. This use
  of a lambda is sometimes called a <strong>function literal</strong>.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1782321953&amp;adf=4239731253&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751811602&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-lambdas-anonymous-functions%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963262173&amp;bpp=1&amp;bdt=625&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=4476829049964&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3670&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365226%2C95365234%2C95365111%2C95359265%2C95365122%2C95365798&amp;oid=2&amp;pvsid=569689569630219&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=26"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CMz7497rrI4DFQfIFgUdiycw7A"
      ></iframe></div
  ></ins>
</div>
<p>
  However, writing a lambda in the same line as it’s used can sometimes make
  code harder to read. Much like we can initialize a variable with a literal
  value (or a function pointer) for use later, we can also initialize a lambda
  variable with a lambda definition and then use it later. A named lambda along
  with a good function name can make code easier to read.
</p>
<p>
  For example, in the following snippet, we’re using <code>std::all_of</code> to
  check if all elements of an array are even:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// Bad: We have to read the lambda to understand what's happening.</span>
<span class="token keyword keyword-return">return</span> std<span class="token double-colon punctuation">::</span><span class="token function">all_of</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-38-close">(</span>array<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-33-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-33-open">)</span><span class="token punctuation">,</span> array<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-34-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-34-open">)</span><span class="token punctuation">,</span> <span class="token punctuation brace-square brace-open brace-level-2" id="pair-39-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-39-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-35-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-35-open">)</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-40-close">{</span> <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-37-close">(</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-36-close">(</span>i <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-36-open">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-37-open">)</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-40-open">}</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-38-open">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>We can improve the readability of this as follows:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// Good: Instead, we can store the lambda in a named variable and pass it to the function.</span>
<span class="token keyword keyword-auto">auto</span> isEven<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-48-close">{</span>
  <span class="token punctuation brace-square brace-open brace-level-2" id="pair-46-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-46-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-41-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-41-open">)</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-47-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-42-close">(</span>i <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-42-open">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-47-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-48-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-return">return</span> std<span class="token double-colon punctuation">::</span><span class="token function">all_of</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-45-close">(</span>array<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-43-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-43-open">)</span><span class="token punctuation">,</span> array<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-44-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-44-open">)</span><span class="token punctuation">,</span> isEven<span class="token punctuation brace-round brace-close brace-level-1" id="pair-45-open">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Note how well the last line reads: “return whether <em>all of</em> the
  elements in the <em>array</em> are <em>even</em>”
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Key insight</p>
  <p>
    Storing a lambda in a variable provides a way for us to give the lambda a
    useful name, which can help make our code more readable.
  </p>
  <p>
    Storing a lambda in a variable also provides us with a way to use that
    lambda more than once.
  </p>
</div>
<p>But what is the type of lambda <code>isEven</code>?</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=1782321953&amp;adf=2775125904&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1751811602&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-lambdas-anonymous-functions%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963262177&amp;bpp=1&amp;bdt=629&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=6&amp;correlator=4476829049964&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=4012&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365226%2C95365234%2C95365111%2C95359265%2C95365122%2C95365798&amp;oid=2&amp;pvsid=569689569630219&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=5&amp;fsb=1&amp;dtd=299"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CJTQ9N7rrI4DFbvKFgUd7bgciQ"
      ></iframe></div
  ></ins>
</div>
<p>
  As it turns out, lambdas don’t have a type that we can explicitly use. When we
  write a lambda, the compiler generates a unique type just for the lambda that
  is not exposed to us.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">For advanced readers</p>
  <p>
    In actuality, lambdas aren’t functions (which is part of how they avoid the
    limitation of C++ not supporting nested functions). They’re a special kind
    of object called a functor. Functors are objects that contain an overloaded
    <code>operator()</code> that make them callable like a function.
  </p>
</div>
<p>
  Although we don’t know the type of a lambda, there are several ways of storing
  a lambda for use post-definition. If the lambda has an empty capture clause
  (nothing between the hard brackets []), we can use a regular function pointer.
  <code>std::function</code> or type deduction via the <code>auto</code> keyword
  will also work (even if the lambda has a non-empty capture clause).
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-49-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-49-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-67-close">{</span>
  <span class="token comment">// A regular function pointer. Only works with an empty capture clause (empty []).</span>
  <span class="token keyword keyword-double">double</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-50-close">(</span><span class="token operator">*</span>addNumbers1<span class="token punctuation brace-round brace-close brace-level-2" id="pair-50-open">)</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-51-close">(</span><span class="token keyword keyword-double">double</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-51-open">)</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-62-close">{</span>
    <span class="token punctuation brace-square brace-open brace-level-3" id="pair-58-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-58-open">]</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-52-close">(</span><span class="token keyword keyword-double">double</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-52-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-61-close">{</span>
      <span class="token keyword keyword-return">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-61-open">}</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-62-open">}</span><span class="token punctuation">;</span>

  <span class="token function">addNumbers1</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-53-close">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-53-open">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Using std::function. The lambda could have a non-empty capture clause (discussed next lesson).</span>
  std<span class="token double-colon punctuation">::</span>function addNumbers2<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-64-close">{</span> <span class="token comment">// note: pre-C++17, use std::function&lt;double(double, double)&gt; instead</span>
    <span class="token punctuation brace-square brace-open brace-level-3" id="pair-59-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-59-open">]</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-54-close">(</span><span class="token keyword keyword-double">double</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-54-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-63-close">{</span>
      <span class="token keyword keyword-return">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-63-open">}</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-64-open">}</span><span class="token punctuation">;</span>

  <span class="token function">addNumbers2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-55-close">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-55-open">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Using auto. Stores the lambda with its real type.</span>
  <span class="token keyword keyword-auto">auto</span> addNumbers3<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-66-close">{</span>
    <span class="token punctuation brace-square brace-open brace-level-3" id="pair-60-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-60-open">]</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-56-close">(</span><span class="token keyword keyword-double">double</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-56-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-65-close">{</span>
      <span class="token keyword keyword-return">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-65-open">}</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-66-open">}</span><span class="token punctuation">;</span>

  <span class="token function">addNumbers3</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-57-close">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-57-open">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-67-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  The only way of using the lambda’s actual type is by means of
  <code>auto</code>. <code>auto</code> also has the benefit of having no
  overhead compared to <code>std::function</code>.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>What if we want to pass a lambda to a function? There are 4 options:</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token comment">// Case 1: use a `std::function` parameter</span>
<span class="token keyword keyword-void">void</span> <span class="token function">repeat1</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-69-close">(</span><span class="token keyword keyword-int">int</span> repetitions<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>function<span class="token operator">&lt;</span><span class="token keyword keyword-void">void</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-68-close">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-68-open">)</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> fn<span class="token punctuation brace-round brace-close brace-level-1" id="pair-69-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-91-close">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-70-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-90-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-90-open">}</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> repetitions<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-70-open">)</span>
        <span class="token function">fn</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-71-close">(</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-71-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-91-open">}</span>

<span class="token comment">// Case 2: use a function template with a type template parameter</span>
<span class="token keyword keyword-template">template</span> <span class="token operator">&lt;</span><span class="token keyword keyword-typename">typename</span> <span class="token class-name">T</span><span class="token operator">&gt;</span>
<span class="token keyword keyword-void">void</span> <span class="token function">repeat2</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-72-close">(</span><span class="token keyword keyword-int">int</span> repetitions<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> T<span class="token operator">&amp;</span> fn<span class="token punctuation brace-round brace-close brace-level-1" id="pair-72-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-93-close">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-73-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-92-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-92-open">}</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> repetitions<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-73-open">)</span>
        <span class="token function">fn</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-74-close">(</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-74-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-93-open">}</span>

<span class="token comment">// Case 3: use the abbreviated function template syntax (C++20)</span>
<span class="token keyword keyword-void">void</span> <span class="token function">repeat3</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-75-close">(</span><span class="token keyword keyword-int">int</span> repetitions<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> fn<span class="token punctuation brace-round brace-close brace-level-1" id="pair-75-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-95-close">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-76-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-94-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-94-open">}</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> repetitions<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-76-open">)</span>
        <span class="token function">fn</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-77-close">(</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-77-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-95-open">}</span>

<span class="token comment">// Case 4: use function pointer (only for lambda with no captures)</span>
<span class="token keyword keyword-void">void</span> <span class="token function">repeat4</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-80-close">(</span><span class="token keyword keyword-int">int</span> repetitions<span class="token punctuation">,</span> <span class="token keyword keyword-void">void</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-78-close">(</span><span class="token operator">*</span>fn<span class="token punctuation brace-round brace-close brace-level-2" id="pair-78-open">)</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-79-close">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-79-open">)</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-80-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-97-close">{</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-81-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-96-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-96-open">}</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> repetitions<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-81-open">)</span>
        <span class="token function">fn</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-82-close">(</span>i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-82-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-97-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-83-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-83-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-99-close">{</span>
    <span class="token keyword keyword-auto">auto</span> lambda <span class="token operator">=</span> <span class="token punctuation brace-square brace-open brace-level-2" id="pair-89-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-89-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-84-close">(</span><span class="token keyword keyword-int">int</span> i<span class="token punctuation brace-round brace-close brace-level-2" id="pair-84-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-98-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-98-open">}</span><span class="token punctuation">;</span>

    <span class="token function">repeat1</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-85-close">(</span><span class="token number">3</span><span class="token punctuation">,</span> lambda<span class="token punctuation brace-round brace-close brace-level-2" id="pair-85-open">)</span><span class="token punctuation">;</span>
    <span class="token function">repeat2</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-86-close">(</span><span class="token number">3</span><span class="token punctuation">,</span> lambda<span class="token punctuation brace-round brace-close brace-level-2" id="pair-86-open">)</span><span class="token punctuation">;</span>
    <span class="token function">repeat3</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-87-close">(</span><span class="token number">3</span><span class="token punctuation">,</span> lambda<span class="token punctuation brace-round brace-close brace-level-2" id="pair-87-open">)</span><span class="token punctuation">;</span>
    <span class="token function">repeat4</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-88-close">(</span><span class="token number">3</span><span class="token punctuation">,</span> lambda<span class="token punctuation brace-round brace-close brace-level-2" id="pair-88-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-99-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In case 1, our function parameter is a <code>std::function</code>. This is
  nice because we can explicitly see what the parameters and return type of the
  <code>std::function</code> are. However, this requires the lambda to be
  implicitly converted whenever the function is called, which adds some
  overhead. This method also has the benefit of being separable into a
  declaration (in a header) and a definition (in a .cpp file) if that’s
  desirable.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_11_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  In case 2, we’re using a function template with type template parameter
  <code>T</code>. When the function is called, a function will be instantiated
  where <code>T</code> matches the actual type of the lambda. This is more
  efficient, but the parameters and return type of <code>T</code> are not
  obvious.
</p>
<p>
  In case 3, we use C++20’s <code>auto</code> to invoke the abbreviated function
  template syntax. This generates a function template identical to case 2.
</p>
<p>
  In case 4, the function parameter is a function pointer. Since a lambda with
  no captures will implicitly convert to a function pointer, we can pass a
  lambda with no captures to this function.
</p>
<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>
    When storing a lambda in a variable, use <code>auto</code> as the variable’s
    type.
  </p>
  <p>When passing a lambda to a function:</p>
  <ul>
    <li>If C++20 capable, use <code>auto</code> as the parameter’s type.</li>
    <li>
      Otherwise, use a function with a type template parameter or
      <code>std::function</code> parameter (or a function pointer if the lambda
      has no captures).
    </li>
  </ul>
</div>
<p class="cpp-section cpp-topline" style="clear: both">Generic lambdas</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_12_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<p>
  For the most part, lambda parameters work by the same rules as regular
  function parameters.
</p>
<p>
  One notable exception is that since C++14 we’re allowed to use
  <code>auto</code> for parameters (note: in C++20, regular functions are able
  to use <code>auto</code> for parameters too). When a lambda has one or more
  <code>auto</code> parameter, the compiler will infer what parameter types are
  needed from the calls to the lambda.
</p>
<p>
  Because lambdas with one or more <code>auto</code> parameter can potentially
  work with a wide variety of types, they are called
  <strong>generic lambdas</strong>.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">For advanced readers</p>
  <p>
    When used in the context of a lambda, <code>auto</code> is just a shorthand
    for a template parameter.
  </p>
</div>
<p>Let’s take a look at a generic lambda:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-100-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-100-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-115-close">{</span>
  <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array months<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-111-close">{</span> <span class="token comment">// pre-C++17 use std::array&lt;const char*, 12&gt;</span>
    <span class="token string">"January"</span><span class="token punctuation">,</span>
    <span class="token string">"February"</span><span class="token punctuation">,</span>
    <span class="token string">"March"</span><span class="token punctuation">,</span>
    <span class="token string">"April"</span><span class="token punctuation">,</span>
    <span class="token string">"May"</span><span class="token punctuation">,</span>
    <span class="token string">"June"</span><span class="token punctuation">,</span>
    <span class="token string">"July"</span><span class="token punctuation">,</span>
    <span class="token string">"August"</span><span class="token punctuation">,</span>
    <span class="token string">"September"</span><span class="token punctuation">,</span>
    <span class="token string">"October"</span><span class="token punctuation">,</span>
    <span class="token string">"November"</span><span class="token punctuation">,</span>
    <span class="token string">"December"</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-111-open">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Search for two consecutive months that start with the same letter.</span>
  <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span> sameLetter<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-113-close">{</span> std<span class="token double-colon punctuation">::</span><span class="token function">adjacent_find</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-104-close">(</span>months<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-101-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-101-open">)</span><span class="token punctuation">,</span> months<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-102-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-102-open">)</span><span class="token punctuation">,</span>
                                      <span class="token punctuation brace-square brace-open brace-level-4" id="pair-108-close">[</span><span class="token punctuation brace-square brace-close brace-level-4" id="pair-108-open">]</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-103-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> b<span class="token punctuation brace-round brace-close brace-level-4" id="pair-103-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-112-close">{</span>
                                        <span class="token keyword keyword-return">return</span> a<span class="token punctuation brace-square brace-open brace-level-5" id="pair-109-close">[</span><span class="token number">0</span><span class="token punctuation brace-square brace-close brace-level-5" id="pair-109-open">]</span> <span class="token operator">==</span> b<span class="token punctuation brace-square brace-open brace-level-5" id="pair-110-close">[</span><span class="token number">0</span><span class="token punctuation brace-square brace-close brace-level-5" id="pair-110-open">]</span><span class="token punctuation">;</span>
                                      <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-112-open">}</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-104-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-113-open">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Make sure that two months were found.</span>
  <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-106-close">(</span>sameLetter <span class="token operator">!=</span> months<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-105-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-105-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-106-open">)</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-114-close">{</span>
    <span class="token comment">// std::next returns the next iterator after sameLetter</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>sameLetter <span class="token operator">&lt;&lt;</span> <span class="token string">" and "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>std<span class="token double-colon punctuation">::</span><span class="token function">next</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-107-close">(</span>sameLetter<span class="token punctuation brace-round brace-close brace-level-3" id="pair-107-open">)</span>
              <span class="token operator">&lt;&lt;</span> <span class="token string">" start with the same letter\n"</span><span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-114-open">}</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-115-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Output:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_13_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>

<pre>
June and July start with the same letter
</pre>
<p>
  In the above example, we use <code>auto</code> parameters to capture our
  strings by <code>const</code> reference. Because all string types allow access
  to their individual characters via <code>operator[]</code>, we don’t need to
  care whether the user is passing in a <code>std::string</code>, C-style
  string, or something else. This allows us to write a lambda that could accept
  any of these, meaning if we change the type of <code>months</code> later, we
  won’t have to rewrite the lambda.
</p>
<p>However, <code>auto</code> isn’t always the best choice. Consider:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-116-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-116-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-126-close">{</span>
  <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array months<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-123-close">{</span> <span class="token comment">// pre-C++17 use std::array&lt;const char*, 12&gt;</span>
    <span class="token string">"January"</span><span class="token punctuation">,</span>
    <span class="token string">"February"</span><span class="token punctuation">,</span>
    <span class="token string">"March"</span><span class="token punctuation">,</span>
    <span class="token string">"April"</span><span class="token punctuation">,</span>
    <span class="token string">"May"</span><span class="token punctuation">,</span>
    <span class="token string">"June"</span><span class="token punctuation">,</span>
    <span class="token string">"July"</span><span class="token punctuation">,</span>
    <span class="token string">"August"</span><span class="token punctuation">,</span>
    <span class="token string">"September"</span><span class="token punctuation">,</span>
    <span class="token string">"October"</span><span class="token punctuation">,</span>
    <span class="token string">"November"</span><span class="token punctuation">,</span>
    <span class="token string">"December"</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-123-open">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Count how many months consist of 5 letters</span>
  <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span> fiveLetterMonths<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-125-close">{</span> std<span class="token double-colon punctuation">::</span><span class="token function">count_if</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-121-close">(</span>months<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-117-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-117-open">)</span><span class="token punctuation">,</span> months<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-118-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-118-open">)</span><span class="token punctuation">,</span>
                                       <span class="token punctuation brace-square brace-open brace-level-4" id="pair-122-close">[</span><span class="token punctuation brace-square brace-close brace-level-4" id="pair-122-open">]</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-119-close">(</span>std<span class="token double-colon punctuation">::</span>string_view str<span class="token punctuation brace-round brace-close brace-level-4" id="pair-119-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-124-close">{</span>
                                         <span class="token keyword keyword-return">return</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation brace-round brace-open brace-level-5" id="pair-120-close">(</span><span class="token punctuation brace-round brace-close brace-level-5" id="pair-120-open">)</span> <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">;</span>
                                       <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-124-open">}</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-121-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-125-open">}</span><span class="token punctuation">;</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"There are "</span> <span class="token operator">&lt;&lt;</span> fiveLetterMonths <span class="token operator">&lt;&lt;</span> <span class="token string">" months with 5 letters\n"</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-126-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Output:</p>
<pre>
There are 2 months with 5 letters
</pre>
<p>
  In this example, using <code>auto</code> would infer a type of
  <code>const char*</code>. C-style strings aren’t easy to work with (apart from
  using <code>operator[]</code>). In this case, we prefer to explicitly define
  the parameter as a <code>std::string_view</code>, which allows us to work with
  the underlying data much more easily (e.g. we can ask the string view for its
  length, even if the user passed in a C-style array).
</p>
<p class="cpp-section cpp-topline" style="clear: both">Constexpr lambdas</p>
<p>
  As of C++17, lambdas are implicitly constexpr if the result satisfies the
  requirements of a constant expression. This generally requires two things:
</p>
<div class="code-block code-block-8" style="margin: 8px 0; clear: both"></div>

<ul>
  <li>
    The lambda must either have no captures, or all captures must be constexpr.
  </li>
  <li>
    The functions called by the lambda must be constexpr. Note that many
    standard library algorithms and math functions weren’t made constexpr until
    C++20 or C++23.
  </li>
</ul>
<p>
  In the above example, our lambda would not be implicitly constexpr in C++17
  but it would be in C++20 (as <code>std::count_if</code> was made constexpr in
  C++20). This means in C++20 we can make
  <code>fiveLetterMonths</code> constexpr:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-constexpr">constexpr</span> <span class="token keyword keyword-auto">auto</span> fiveLetterMonths<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-134-close">{</span> std<span class="token double-colon punctuation">::</span><span class="token function">count_if</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-131-close">(</span>months<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-127-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-127-open">)</span><span class="token punctuation">,</span> months<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-128-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-128-open">)</span><span class="token punctuation">,</span>
                                     <span class="token punctuation brace-square brace-open brace-level-3" id="pair-132-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-132-open">]</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-129-close">(</span>std<span class="token double-colon punctuation">::</span>string_view str<span class="token punctuation brace-round brace-close brace-level-3" id="pair-129-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-133-close">{</span>
                                       <span class="token keyword keyword-return">return</span> str<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-130-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-130-open">)</span> <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">;</span>
                                     <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-133-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-131-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-134-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Generic lambdas and static variables
</p>
<p>
  In lesson
  <a
    href="https://www.learncpp.com/cpp-tutorial/function-template-instantiation/"
    >11.7 -- Function template instantiation</a
  >, we discussed that when a function template contains a static local
  variable, each function instantiated from that template will receive its own
  independent static local variable. This may cause issues if that is not
  expected.
</p>
<p>
  Generic lambdas work the same way: a unique lambda will be generated for each
  different type that <code>auto</code> resolves to.
</p>
<p>
  The following example shows how one generic lambda turns into two distinct
  lambdas:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-135-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-135-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-146-close">{</span>
  <span class="token comment">// Print a value and count how many times @print has been called.</span>
  <span class="token keyword keyword-auto">auto</span> print<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-145-close">{</span>
    <span class="token punctuation brace-square brace-open brace-level-3" id="pair-142-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-142-open">]</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-136-close">(</span><span class="token keyword keyword-auto">auto</span> value<span class="token punctuation brace-round brace-close brace-level-3" id="pair-136-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-144-close">{</span>
      <span class="token keyword keyword-static">static</span> <span class="token keyword keyword-int">int</span> callCount<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-143-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-143-open">}</span><span class="token punctuation">;</span>
      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> callCount<span class="token operator">++</span> <span class="token operator">&lt;&lt;</span> <span class="token string">": "</span> <span class="token operator">&lt;&lt;</span> value <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-144-open">}</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-145-open">}</span><span class="token punctuation">;</span>

  <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-137-close">(</span><span class="token string">"hello"</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-137-open">)</span><span class="token punctuation">;</span> <span class="token comment">// 0: hello</span>
  <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-138-close">(</span><span class="token string">"world"</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-138-open">)</span><span class="token punctuation">;</span> <span class="token comment">// 1: world</span>

  <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-139-close">(</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-139-open">)</span><span class="token punctuation">;</span> <span class="token comment">// 0: 1</span>
  <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-140-close">(</span><span class="token number">2</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-140-open">)</span><span class="token punctuation">;</span> <span class="token comment">// 1: 2</span>

  <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-141-close">(</span><span class="token string">"ding dong"</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-141-open">)</span><span class="token punctuation">;</span> <span class="token comment">// 2: ding dong</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-146-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Output</p>
<pre>
0: hello
1: world
0: 1
1: 2
2: ding dong
</pre>
<p>
  In the above example, we define a lambda and then call it with two different
  parameters (a string literal parameter, and an integer parameter). This
  generates two different versions of the lambda (one with a string literal
  parameter, and one with an integer parameter).
</p>
<p>
  Most of the time, this is inconsequential. However, note that if the generic
  lambda uses static duration variables, those variables are not shared between
  the generated lambdas.
</p>
<p>
  We can see this in the example above, where each type (string literals and
  integers) has its own unique count! Although we only wrote the lambda once,
  two lambdas were generated -- and each has its own version of
  <code>callCount</code>. To have a shared counter between the two generated
  lambdas, we’d have to define a global variable or a <code>static</code> local
  variable outside of the lambda. As you know from previous lessons, both
  global- and static local variables can cause problems and make it more
  difficult to understand code. We’ll be able to avoid those variables after
  talking about lambda captures in the next lesson.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Return type deduction and trailing return types
</p>
<p>
  If return type deduction is used, a lambda’s return type is deduced from the
  <code>return</code>-statements inside the lambda, and all return statements in
  the lambda must return the same type (otherwise the compiler won’t know which
  one to prefer).
</p>
<p>For example:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-147-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-147-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-156-close">{</span>
  <span class="token keyword keyword-auto">auto</span> divide<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-155-close">{</span> <span class="token punctuation brace-square brace-open brace-level-3" id="pair-153-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-153-open">]</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-148-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">,</span> <span class="token keyword keyword-bool">bool</span> intDivision<span class="token punctuation brace-round brace-close brace-level-3" id="pair-148-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-154-close">{</span> <span class="token comment">// note: no specified return type</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-4" id="pair-149-close">(</span>intDivision<span class="token punctuation brace-round brace-close brace-level-4" id="pair-149-open">)</span>
      <span class="token keyword keyword-return">return</span> x <span class="token operator">/</span> y<span class="token punctuation">;</span> <span class="token comment">// return type is int</span>
    <span class="token keyword keyword-else">else</span>
      <span class="token keyword keyword-return">return</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-150-close">(</span>x<span class="token punctuation brace-round brace-close brace-level-4" id="pair-150-open">)</span> <span class="token operator">/</span> y<span class="token punctuation">;</span> <span class="token comment">// ERROR: return type doesn't match previous return type</span>
  <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-154-open">}</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-155-open">}</span><span class="token punctuation">;</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">divide</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-151-close">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-151-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">divide</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-152-close">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-152-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-156-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This produces a compile error because the return type of the first return
  statement (int) doesn’t match the return type of the second return statement
  (double).
</p>
<p>In the case where we’re returning different types, we have two options:</p>
<ol start="1">
  <li>Do explicit casts to make all the return types match, or</li>
  <li>
    explicitly specify a return type for the lambda, and let the compiler do
    implicit conversions.
  </li>
</ol>
<p>The second case is usually the better choice:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-157-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-157-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-166-close">{</span>
  <span class="token comment">// note: explicitly specifying this returns a double</span>
  <span class="token keyword keyword-auto">auto</span> divide<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-165-close">{</span> <span class="token punctuation brace-square brace-open brace-level-3" id="pair-163-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-163-open">]</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-158-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation">,</span> <span class="token keyword keyword-bool">bool</span> intDivision<span class="token punctuation brace-round brace-close brace-level-3" id="pair-158-open">)</span> <span class="token operator">-&gt;</span> <span class="token keyword keyword-double">double</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-164-close">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-4" id="pair-159-close">(</span>intDivision<span class="token punctuation brace-round brace-close brace-level-4" id="pair-159-open">)</span>
      <span class="token keyword keyword-return">return</span> x <span class="token operator">/</span> y<span class="token punctuation">;</span> <span class="token comment">// will do an implicit conversion of result to double</span>
    <span class="token keyword keyword-else">else</span>
      <span class="token keyword keyword-return">return</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-double">double</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-160-close">(</span>x<span class="token punctuation brace-round brace-close brace-level-4" id="pair-160-open">)</span> <span class="token operator">/</span> y<span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-164-open">}</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-165-open">}</span><span class="token punctuation">;</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">divide</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-161-close">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-161-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">divide</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-162-close">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-162-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-166-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  That way, if you ever decide to change the return type, you (usually) only
  need to change the lambda’s return type, and not touch the lambda body.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Standard library function objects
</p>
<p>
  For common operations (e.g. addition, negation, or comparison) you don’t need
  to write your own lambdas, because the standard library comes with many basic
  callable objects that can be used instead. These are defined in the
  <a
    href="https://en.cppreference.com/w/cpp/utility/functional#Operator_function_objects"
    >&lt;functional&gt;</a
  >
  header.
</p>
<p>In the following example:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-bool">bool</span> <span class="token function">greater</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-167-close">(</span><span class="token keyword keyword-int">int</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> b<span class="token punctuation brace-round brace-close brace-level-1" id="pair-167-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-173-close">{</span>
  <span class="token comment">// Order @a before @b if @a is greater than @b.</span>
  <span class="token keyword keyword-return">return</span> a <span class="token operator">&gt;</span> b<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-173-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-168-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-168-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-176-close">{</span>
  std<span class="token double-colon punctuation">::</span>array arr<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-174-close">{</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">80</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-174-open">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Pass greater to std::sort</span>
  std<span class="token double-colon punctuation">::</span><span class="token function">sort</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-171-close">(</span>arr<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-169-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-169-open">)</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-170-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-170-open">)</span><span class="token punctuation">,</span> greater<span class="token punctuation brace-round brace-close brace-level-2" id="pair-171-open">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-172-close">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">:</span> arr<span class="token punctuation brace-round brace-close brace-level-2" id="pair-172-open">)</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-175-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-175-open">}</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-176-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Output</p>
<pre>
99 90 80 40 13 5
</pre>
<p>
  Instead of converting our <code>greater</code> function to a lambda (which
  would obscure its meaning a bit), we can instead use
  <code>std::greater</code>:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;functional&gt;</span> <span class="token comment">// for std::greater</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-177-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-177-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-185-close">{</span>
  std<span class="token double-colon punctuation">::</span>array arr<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-182-close">{</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">80</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-182-open">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Pass std::greater to std::sort</span>
  std<span class="token double-colon punctuation">::</span><span class="token function">sort</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-180-close">(</span>arr<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-178-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-178-open">)</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-179-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-179-open">)</span><span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>greater<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-183-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-183-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-180-open">)</span><span class="token punctuation">;</span> <span class="token comment">// note: need curly braces to instantiate object</span>

  <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-181-close">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">:</span> arr<span class="token punctuation brace-round brace-close brace-level-2" id="pair-181-open">)</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-184-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-184-open">}</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-185-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Output</p>
<pre>
99 90 80 40 13 5
</pre>
<p class="cpp-section cpp-topline" style="clear: both">Conclusion</p>
<p>
  Lambdas and the algorithm library may seem unnecessarily complicated when
  compared to a solution that uses a loop. However, this combination can allow
  some very powerful operations in just a few lines of code, and can be more
  readable than writing your own loops. On top of that, the algorithm library
  features powerful and easy-to-use parallelism, which you won’t get with loops.
  Upgrading source code that uses library functions is easier than upgrading
  code that uses loops.
</p>
<p>
  Lambdas are great, but they don’t replace regular functions for all cases.
  Prefer regular functions for non-trivial and reusable cases.
</p>
<p class="cpp-section cpp-topline" style="clear: both">Quiz time</p>
<div class="quiz" style="clear: both">
  <p class="quiz-header">Question #1</p>
  <p>
    Create a <code>struct Student</code> that stores the name and points of a
    student. Create an array of students and use
    <a href="https://en.cppreference.com/w/cpp/algorithm/max_element"
      ><code>std::max_element</code></a
    >
    to find the student with the most points, then print that student’s name.
    <code>std::max_element</code> takes the <code>begin</code> and
    <code>end</code> of a list, and a function that takes 2 parameters and
    returns <code>true</code> if the first argument is less than the second.
  </p>
  <p>Given the following array</p>
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp">std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>Student<span class="token punctuation">,</span> <span class="token number">8</span><span class="token operator">&gt;</span> arr<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-195-close">{</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-194-close">{</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-186-close">{</span> <span class="token string">"Albert"</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-186-open">}</span><span class="token punctuation">,</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-187-close">{</span> <span class="token string">"Ben"</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-187-open">}</span><span class="token punctuation">,</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-188-close">{</span> <span class="token string">"Christine"</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-188-open">}</span><span class="token punctuation">,</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-189-close">{</span> <span class="token string">"Dan"</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-189-open">}</span><span class="token punctuation">,</span> <span class="token comment">// Dan has the most points (8).</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-190-close">{</span> <span class="token string">"Enchilada"</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-190-open">}</span><span class="token punctuation">,</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-191-close">{</span> <span class="token string">"Francis"</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-191-open">}</span><span class="token punctuation">,</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-192-close">{</span> <span class="token string">"Greg"</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-192-open">}</span><span class="token punctuation">,</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-193-close">{</span> <span class="token string">"Hagrid"</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-193-open">}</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-194-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-195-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
  <p>your program should print</p>
  <pre>
Dan is the best student
</pre
  >
  <p>
    <a
      class="hint_link_show"
      href="javascript:void(0)"
      onclick="cppHintToggle(document.getElementById('cpp_hint_id_0'), this, 'Show Hint', '')"
      >Show Hint</a
    >
  </p>
  <div
    class="wphint"
    id="cpp_hint_id_0"
    style="display: none; margin-bottom: 1em"
  >
    Hint:
    <p></p>
    <div class="code-toolbar">
      <pre
        class="line-numbers language-cpp"
        tabindex="0"
      ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Student</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-202-close">{</span>
  std<span class="token double-colon punctuation">::</span>string_view name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-200-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-200-open">}</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-int">int</span> points<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-201-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-201-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-202-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-196-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-196-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-214-close">{</span>
  <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>Student<span class="token punctuation">,</span> <span class="token number">8</span><span class="token operator">&gt;</span> arr<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-212-close">{</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-211-close">{</span> <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-203-close">{</span> <span class="token string">"Albert"</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-203-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-204-close">{</span> <span class="token string">"Ben"</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-204-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-205-close">{</span> <span class="token string">"Christine"</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-205-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-206-close">{</span> <span class="token string">"Dan"</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-206-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-207-close">{</span> <span class="token string">"Enchilada"</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-207-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-208-close">{</span> <span class="token string">"Francis"</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-208-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-209-close">{</span> <span class="token string">"Greg"</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-209-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-210-close">{</span> <span class="token string">"Hagrid"</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-210-open">}</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-211-open">}</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-212-open">}</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span> best<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-213-close">{</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">max_element</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-199-close">(</span>arr<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-197-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-197-open">)</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-198-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-198-open">)</span><span class="token punctuation">,</span> <span class="token comment">/* lambda */</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-199-open">)</span> <span class="token comment">// returns an iterator</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-213-open">}</span><span class="token punctuation">;</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> best<span class="token operator">-&gt;</span>name <span class="token operator">&lt;&lt;</span> <span class="token string">" is the best student\n"</span><span class="token punctuation">;</span> <span class="token comment">// must dereference iterator to get element</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-214-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
      <div class="toolbar">
        <div class="toolbar-item">
          <button
            class="copy-to-clipboard-button"
            type="button"
            data-copy-state="copy"
          >
            <span>Copy</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <p>
    <a
      class="solution_link_show"
      href="javascript:void(0)"
      onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_0'), this, 'Show Solution', 'Hide Solution')"
      >Show Solution</a
    >
  </p>
  <div class="wpsolution" id="cpp_solution_id_0" style="display: none">
    <div class="code-toolbar">
      <pre
        class="line-numbers language-cpp"
        tabindex="0"
      ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Student</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-223-close">{</span>
  std<span class="token double-colon punctuation">::</span>string_view name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-221-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-221-open">}</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-int">int</span> points<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-222-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-222-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-223-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-215-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-215-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-236-close">{</span>
  <span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>Student<span class="token punctuation">,</span> <span class="token number">8</span><span class="token operator">&gt;</span> arr<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-233-close">{</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-232-close">{</span> <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-224-close">{</span> <span class="token string">"Albert"</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-224-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-225-close">{</span> <span class="token string">"Ben"</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-225-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-226-close">{</span> <span class="token string">"Christine"</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-226-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-227-close">{</span> <span class="token string">"Dan"</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-227-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-228-close">{</span> <span class="token string">"Enchilada"</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-228-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-229-close">{</span> <span class="token string">"Francis"</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-229-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-230-close">{</span> <span class="token string">"Greg"</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-230-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-231-close">{</span> <span class="token string">"Hagrid"</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-231-open">}</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-232-open">}</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-233-open">}</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span> best <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-235-close">{</span> <span class="token comment">// returns an iterator</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">max_element</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-219-close">(</span>arr<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-216-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-216-open">)</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-217-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-217-open">)</span><span class="token punctuation">,</span> <span class="token punctuation brace-square brace-open brace-level-4" id="pair-220-close">[</span><span class="token punctuation brace-square brace-close brace-level-4" id="pair-220-open">]</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-218-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> b<span class="token punctuation brace-round brace-close brace-level-4" id="pair-218-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-234-close">{</span>
      <span class="token keyword keyword-return">return</span> a<span class="token punctuation">.</span>points <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>points<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-234-open">}</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-219-open">)</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-235-open">}</span><span class="token punctuation">;</span>

  std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> best<span class="token operator">-&gt;</span>name <span class="token operator">&lt;&lt;</span> <span class="token string">" is the best student\n"</span><span class="token punctuation">;</span> <span class="token comment">// must dereference iterator to get element</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-236-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
      <div class="toolbar">
        <div class="toolbar-item">
          <button
            class="copy-to-clipboard-button"
            type="button"
            data-copy-state="copy"
          >
            <span>Copy</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="quiz" style="clear: both">
  <p class="quiz-header">Question #2</p>
  <p>
    Use <code>std::sort</code> and a lambda in the following code to sort the
    seasons by ascending average temperature.
  </p>
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Season</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-241-close">{</span>
  std<span class="token double-colon punctuation">::</span>string_view name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-239-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-239-open">}</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-double">double</span> averageTemperature<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-240-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-240-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-241-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-237-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-237-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-249-close">{</span>
  std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>Season<span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span> seasons<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-247-close">{</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-246-close">{</span> <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-242-close">{</span> <span class="token string">"Spring"</span><span class="token punctuation">,</span> <span class="token number">285.0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-242-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-243-close">{</span> <span class="token string">"Summer"</span><span class="token punctuation">,</span> <span class="token number">296.0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-243-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-244-close">{</span> <span class="token string">"Fall"</span><span class="token punctuation">,</span> <span class="token number">288.0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-244-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-245-close">{</span> <span class="token string">"Winter"</span><span class="token punctuation">,</span> <span class="token number">263.0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-245-open">}</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-246-open">}</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-247-open">}</span><span class="token punctuation">;</span>

  <span class="token comment">/*
   * Use std::sort here
   */</span>

  <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-238-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> season <span class="token operator">:</span> seasons<span class="token punctuation brace-round brace-close brace-level-2" id="pair-238-open">)</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-248-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> season<span class="token punctuation">.</span>name <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-248-open">}</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-249-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
  <p>The program should print</p>
  <pre>
Winter
Spring
Fall
Summer
</pre
  >
  <p>
    <a
      class="solution_link_show"
      href="javascript:void(0)"
      onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_1'), this, 'Show Solution', 'Hide Solution')"
      >Show Solution</a
    >
  </p>
  <div class="wpsolution" id="cpp_solution_id_1" style="display: none">
    <div class="code-toolbar">
      <pre
        class="line-numbers language-cpp"
        tabindex="0"
      ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;array&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-struct">struct</span> <span class="token class-name">Season</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-259-close">{</span>
  std<span class="token double-colon punctuation">::</span>string_view name<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-257-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-257-open">}</span><span class="token punctuation">;</span>
  <span class="token keyword keyword-double">double</span> averageTemperature<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-258-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-258-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-259-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-250-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-250-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-268-close">{</span>
  std<span class="token double-colon punctuation">::</span>array<span class="token operator">&lt;</span>Season<span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">&gt;</span> seasons<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-265-close">{</span>
    <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-264-close">{</span> <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-260-close">{</span> <span class="token string">"Spring"</span><span class="token punctuation">,</span> <span class="token number">285.0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-260-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-261-close">{</span> <span class="token string">"Summer"</span><span class="token punctuation">,</span> <span class="token number">296.0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-261-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-262-close">{</span> <span class="token string">"Fall"</span><span class="token punctuation">,</span> <span class="token number">288.0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-262-open">}</span><span class="token punctuation">,</span>
      <span class="token punctuation brace-curly brace-open brace-level-4" id="pair-263-close">{</span> <span class="token string">"Winter"</span><span class="token punctuation">,</span> <span class="token number">263.0</span> <span class="token punctuation brace-curly brace-close brace-level-4" id="pair-263-open">}</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-264-open">}</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-265-open">}</span><span class="token punctuation">;</span>

  <span class="token comment">// We can compare averageTemperature of the two arguments to</span>
  <span class="token comment">// sort the array.</span>
  std<span class="token double-colon punctuation">::</span><span class="token function">sort</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-254-close">(</span>seasons<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-251-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-251-open">)</span><span class="token punctuation">,</span> seasons<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-252-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-252-open">)</span><span class="token punctuation">,</span>
            <span class="token punctuation brace-square brace-open brace-level-3" id="pair-256-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-256-open">]</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-253-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-253-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-266-close">{</span>
              <span class="token keyword keyword-return">return</span> a<span class="token punctuation">.</span>averageTemperature <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>averageTemperature<span class="token punctuation">;</span>
            <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-266-open">}</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-254-open">)</span><span class="token punctuation">;</span>

  <span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-255-close">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-auto">auto</span><span class="token operator">&amp;</span> season <span class="token operator">:</span> seasons<span class="token punctuation brace-round brace-close brace-level-2" id="pair-255-open">)</span>
  <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-267-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> season<span class="token punctuation">.</span>name <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
  <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-267-open">}</span>

  <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-268-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
      <div class="toolbar">
        <div class="toolbar-item">
          <button
            class="copy-to-clipboard-button"
            type="button"
            data-copy-state="copy"
          >
            <span>Copy</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/lambda-captures/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">20.7</span>Lambda captures
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/ellipsis-and-why-to-avoid-them/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">20.5</span>Ellipsis (and why
            to avoid them)
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
