<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>Consider the following example:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">add</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-269-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-1" id="pair-269-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-273-close">{</span>
    <span class="token keyword keyword-int">int</span> sum<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-272-close">{</span> x <span class="token operator">+</span> y <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-272-open">}</span><span class="token punctuation">;</span> <span class="token comment">// stores x + y in a variable</span>
    <span class="token keyword keyword-return">return</span> sum<span class="token punctuation">;</span>       <span class="token comment">// returns value of that variable</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-273-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-270-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-270-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-274-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">add</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-271-close">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-271-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-274-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In the <code>add()</code> function, the variable <code>sum</code> is used to
  store the result of the expression <code>x + y</code>. This variable is then
  evaluated in the return statement to produce the value to be returned. While
  this might be occasionally useful for debugging (so we can inspect the value
  of <code>sum</code> if desired), it actually makes the function more complex
  than it needs to be by defining an object that is then only used one time.
</p>
<p>
  In most cases where a variable is used only once, we actually don’t need a
  variable. Instead, we can substitute in the expression used to initialize the
  variable where the variable would have been used. Here is the
  <code>add()</code> function rewritten in this manner:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">add</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-275-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-1" id="pair-275-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-278-close">{</span>
    <span class="token keyword keyword-return">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span> <span class="token comment">// just return x + y directly</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-278-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-276-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-276-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-279-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token function">add</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-277-close">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-277-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-279-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This works not only with return values, but also with most function arguments.
  For example, instead of this:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-void">void</span> <span class="token function">printValue</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-280-close">(</span><span class="token keyword keyword-int">int</span> value<span class="token punctuation brace-round brace-close brace-level-1" id="pair-280-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-283-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> value<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-283-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-281-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-281-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-285-close">{</span>
    <span class="token keyword keyword-int">int</span> sum<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-284-close">{</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-284-open">}</span><span class="token punctuation">;</span>
    <span class="token function">printValue</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-282-close">(</span>sum<span class="token punctuation brace-round brace-close brace-level-2" id="pair-282-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-285-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>We can write this:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-void">void</span> <span class="token function">printValue</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-286-close">(</span><span class="token keyword keyword-int">int</span> value<span class="token punctuation brace-round brace-close brace-level-1" id="pair-286-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-289-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> value<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-289-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-287-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-287-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-290-close">{</span>
    <span class="token function">printValue</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-288-close">(</span><span class="token number">5</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-288-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-290-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Note how much cleaner this keeps our code. We don’t have to define and give a
  name to a variable. And we don’t have to scan through the entire function to
  determine whether that variable is actually used elsewhere. Because
  <code>5 + 3</code> is an expression, we know it is only used on that one line.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=357572144&amp;adf=3985457747&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1748977331&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftemporary-class-objects%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962964230&amp;bpp=1&amp;bdt=755&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=3920196830538&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1810&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365225%2C95365234%2C95365111%2C95359266%2C95365116%2C95365797&amp;oid=2&amp;pvsid=355184197271720&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=31"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CPGe29DqrI4DFcTJFgUdmmclFw"
      ></iframe></div
  ></ins>
</div>
<p>
  Do note that this only works in cases where an rvalue expression is accepted.
  In cases where an lvalue expression is required, we must have an object:
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-void">void</span> <span class="token function">addOne</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-291-close">(</span><span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> value<span class="token punctuation brace-round brace-close brace-level-1" id="pair-291-open">)</span> <span class="token comment">// pass by non-const references requires lvalue</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-295-close">{</span>
    <span class="token operator">++</span>value<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-295-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-292-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-292-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-297-close">{</span>
    <span class="token keyword keyword-int">int</span> sum <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-296-close">{</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-296-open">}</span><span class="token punctuation">;</span>
    <span class="token function">addOne</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-293-close">(</span>sum<span class="token punctuation brace-round brace-close brace-level-2" id="pair-293-open">)</span><span class="token punctuation">;</span>   <span class="token comment">// okay, sum is an lvalue</span>

    <span class="token function">addOne</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-294-close">(</span><span class="token number">5</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-294-open">)</span><span class="token punctuation">;</span> <span class="token comment">// compile error: not an lvalue</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-297-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Temporary class objects
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=357572144&amp;adf=4241856819&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1748977331&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftemporary-class-objects%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962964230&amp;bpp=1&amp;bdt=755&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=3920196830538&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2473&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365225%2C95365234%2C95365111%2C95359266%2C95365116%2C95365797&amp;oid=2&amp;pvsid=355184197271720&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=34"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CN-129DqrI4DFeVEwgUdrcUfjA"
      ></iframe></div
  ></ins>
</div>
<p>The same issue applies in the context of class types.</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">Author’s note</p>
  <p>
    We’ll use a class here, but everything in this lesson that uses list
    initialization is equally applicable to structs that are initialized using
    aggregate initialization.
  </p>
</div>
<p>
  The following example is similar to the ones above, but uses program-defined
  class type <code>IntPair</code> instead of <code>int</code>:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntPair</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-313-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-306-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-306-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-307-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-307-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">IntPair</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-298-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-298-open">)</span>
        <span class="token operator">:</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-308-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-308-open">}</span><span class="token punctuation">,</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-309-close">{</span> y <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-309-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-310-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-310-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">x</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-299-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-299-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-311-close">{</span> <span class="token keyword keyword-return">return</span> m_x<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-311-open">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">y</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-300-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-300-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-312-close">{</span> <span class="token keyword keyword-return">return</span> m_y<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-312-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-313-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-301-close">(</span>IntPair p<span class="token punctuation brace-round brace-close brace-level-1" id="pair-301-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-314-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"("</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-302-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-302-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-303-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-303-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-314-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-304-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-304-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-316-close">{</span>
    <span class="token comment">// Case 1: Pass variable</span>
    IntPair p <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-315-close">{</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-315-open">}</span><span class="token punctuation">;</span>
    <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-305-close">(</span>p<span class="token punctuation brace-round brace-close brace-level-2" id="pair-305-open">)</span><span class="token punctuation">;</span> <span class="token comment">// prints (3, 4)</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-316-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In case 1, we’re instantiating variable <code>IntPair p</code> and then
  passing <code>p</code> to function <code>print()</code>.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=357572144&amp;adf=3167398943&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1748977331&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftemporary-class-objects%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962964230&amp;bpp=1&amp;bdt=756&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=3920196830538&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3481&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365225%2C95365234%2C95365111%2C95359266%2C95365116%2C95365797&amp;oid=2&amp;pvsid=355184197271720&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=35"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-google-query-id="CJa429DqrI4DFZvIFgUdxSoN9g"
        data-load-complete="true"
      ></iframe></div
  ></ins>
</div>
<p>
  However, <code>p</code> is only used once, and function
  <code>print()</code> will accept rvalues, so there is really no reason to
  define a variable here. So let’s get rid of <code>p</code>.
</p>
<p>
  We can do that by passing a temporary object instead of a named variable. A
  <strong>temporary object</strong> (sometimes called an
  <strong>anonymous object</strong> or an <strong>unnamed object</strong>) is an
  object that has no name and exists only for the duration of a single
  expression.
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>There are two common ways to create temporary class type objects:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntPair</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-334-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-327-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-327-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-328-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-328-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">IntPair</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-317-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-317-open">)</span>
        <span class="token operator">:</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-329-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-329-open">}</span><span class="token punctuation">,</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-330-close">{</span> y <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-330-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-331-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-331-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">x</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-318-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-318-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-332-close">{</span> <span class="token keyword keyword-return">return</span> m_x<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-332-open">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">y</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-319-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-319-open">)</span> <span class="token keyword keyword-const">const</span><span class="token punctuation brace-curly brace-open brace-level-2" id="pair-333-close">{</span> <span class="token keyword keyword-return">return</span> m_y<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-333-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-334-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-320-close">(</span>IntPair p<span class="token punctuation brace-round brace-close brace-level-1" id="pair-320-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-335-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"("</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-321-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-321-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-322-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-322-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-335-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-323-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-323-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-339-close">{</span>
    <span class="token comment">// Case 1: Pass variable</span>
    IntPair p <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-336-close">{</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-336-open">}</span><span class="token punctuation">;</span>
    <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-324-close">(</span>p<span class="token punctuation brace-round brace-close brace-level-2" id="pair-324-open">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Case 2: Construct temporary IntPair and pass to function</span>
    <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-325-close">(</span>IntPair <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-337-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-337-open">}</span> <span class="token punctuation brace-round brace-close brace-level-2" id="pair-325-open">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Case 3: Implicitly convert { 7, 8 } to a temporary Intpair and pass to function</span>
    <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-326-close">(</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-338-close">{</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-338-open">}</span> <span class="token punctuation brace-round brace-close brace-level-2" id="pair-326-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-339-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In case 2, we’re telling the compiler to construct an
  <code>IntPair</code> object, and initializing it with <code>{ 5, 6 }</code>.
  Because this object has no name, it is a temporary. The temporary object is
  then passed to parameter <code>p</code> of function <code>print()</code>. When
  the function call returns, the temporary object is destroyed.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=357572144&amp;adf=1402510690&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1748977331&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Ftemporary-class-objects%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962964233&amp;bpp=1&amp;bdt=759&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962911%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962911%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=3920196830538&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=4006&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353387%2C95362655%2C95365225%2C95365234%2C95365111%2C95359266%2C95365116%2C95365797&amp;oid=2&amp;pvsid=355184197271720&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=252"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="COnY6NDqrI4DFcTuFgUdN3ki3Q"
      ></iframe></div
  ></ins>
</div>
<p>
  In case 3, we’re also creating a temporary <code>IntPair</code> object to pass
  to function <code>print()</code>. However, because we have not explicitly
  specified what type to construct, the compiler will deduce the necessary type
  (<code>IntPair</code>) from the function parameter, and then implicitly
  convert <code>{ 7, 8 }</code> to an <code>IntPair</code> object.
</p>
<p>To summarize:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">IntPair p <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-340-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-340-open">}</span><span class="token punctuation">;</span> <span class="token comment">// create named object p initialized with { 1, 2 }</span>
IntPair <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-341-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-341-open">}</span><span class="token punctuation">;</span>   <span class="token comment">// create temporary object initialized with { 1, 2 }</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-342-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-342-open">}</span><span class="token punctuation">;</span>           <span class="token comment">// compiler will try to convert { 1, 2 } to temporary object matching expected type (typically a parameter or return type)</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  We’ll discuss this last case in more detail in lesson
  <a
    href="https://www.learncpp.com/cpp-tutorial/converting-constructors-and-the-explicit-keyword/"
    >14.16 -- Converting constructors and the explicit keyword</a
  >.
</p>
<p>A few more examples:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">std<span class="token double-colon punctuation">::</span>string <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-343-close">{</span> <span class="token string">"Hello"</span> <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-343-open">}</span><span class="token punctuation">;</span> <span class="token comment">// create a temporary std::string initialized with "Hello"</span>
std<span class="token double-colon punctuation">::</span>string <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-344-close">{</span><span class="token punctuation brace-curly brace-close brace-level-1" id="pair-344-open">}</span><span class="token punctuation">;</span>          <span class="token comment">// create a temporary std::string using value initialization / default constructor</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Creating temporary objects via direct initialization
  <span class="cpp-section-pill cpp-section-optional">Optional</span>
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate ezfound"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p>
  Since we can create temporary objects via direct-list-initialization, you
  might be wondering whether you can create temporary objects via the other
  initialization forms. There is no syntax to create temporary objects using
  copy initialization.
</p>
<p>
  However, you can create temporary objects using direct initialization. For
  example:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token function">Foo</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-345-close">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-345-open">)</span><span class="token punctuation">;</span> <span class="token comment">//  temporary Foo, direct-initialized with (1, 2) (similar to `Foo { 1, 2 }`)</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Putting aside the fact that it looks like a function call at first glance,
  this produces the same result as <code>Foo { 1, 2 }</code> (just with no
  narrowing conversion prevention). Pretty normal right?
</p>
<p>
  We’ll now spend the remainder of this section showing you why you probably
  shouldn’t do this.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">Author’s note</p>
  <p>
    This is mostly here for your reading pleasure, not as something you need to
    digest, memorize, and be able to explain.
  </p>
  <p>
    Even if you don’t have that much fun reading it, it might help you
    understand why list initialization is preferred in modern C++!
  </p>
</div>
<p>Now let’s look at the case where we don’t have any arguments:</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-346-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-346-open">)</span><span class="token punctuation">;</span>     <span class="token comment">// temporary Foo, value-initialized (identical to `Foo {}`)</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  You probably didn’t expect that <code>Foo()</code> would create a
  value-initialized temporary just like <code>Foo {}</code> does. And that’s
  probably because this syntax has a completely different meaning when used with
  a named variable!
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">Foo bar<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-348-close">{</span><span class="token punctuation brace-curly brace-close brace-level-1" id="pair-348-open">}</span><span class="token punctuation">;</span> <span class="token comment">// definition of variable bar, value-initialized</span>
Foo <span class="token function">bar</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-347-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-347-open">)</span><span class="token punctuation">;</span> <span class="token comment">// declaration of function bar that has no parameters and returns a Foo (inconsistent with `Foo bar{}` and `Foo()`)</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Ready to get real weird?!?</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-349-close">(</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-349-open">)</span><span class="token punctuation">;</span>    <span class="token comment">// Function-style cast of literal 1, returns temporary Foo (similar to `Foo { 1 }`)</span>
<span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-350-close">(</span>bar<span class="token punctuation brace-round brace-close brace-level-1" id="pair-350-open">)</span><span class="token punctuation">;</span>  <span class="token comment">// Defines variable bar of type Foo (inconsistent with `Foo { bar }` and `Foo(1)`)</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Wait, what?</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate ezfound"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<ul>
  <li>
    The version with literal <code>1</code> in parentheses behaves consistently
    with all the other versions of this syntax that create temporary objects.
  </li>
  <li>
    The version with identifier <code>bar</code> in parentheses defines a
    variable named <code>bar</code> (identical to <code>Foo bar;</code>). If
    <code>bar</code> is already defined, this will cause a redefinition
    compile-error.
  </li>
</ul>
<p>
  The compiler knows that literals can’t be used as identifiers for variables,
  so it’s able to treat that case consistently with the others.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">As an aside…</p>
  <p>
    If you’re wondering why <code>Foo(bar);</code> behaves identically to
    <code>Foo bar;</code>…
  </p>
  <p>
    One of the most common uses of parentheses is to group things. For example,
    in mathematics: <code>(1 + 2) * 3</code> produces the result <code>9</code>,
    which is different than <code>1 + 2 * 3</code>, which produces the result
    <code>7</code>. If we can do <code>(1 + 2) * 3</code>, there’s no reason we
    shouldn’t be able to do <code>(3) * 3</code>.
  </p>
  <p>
    For similar reasons, the declaration syntax allows parenthesis-based
    grouping, and those groups can have a single thing in them.
    <code>Foo(bar)</code> is interpreted as a variable definition consisting of
    type <code>Foo</code> followed by a group that consists only of identifier
    <code>bar</code>. It just looks funny to us, mainly because the parentheses
    don’t serve any useful purpose in this case. But there’s no compelling
    reason to disallow doing so (as that would just make the syntax of the
    language that much more complicated).
  </p>
</div>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">For advanced readers</p>
  <div
    class="google-auto-placed ap_container"
    style="width: 100%; height: auto; clear: both; text-align: center"
  >
    <ins
      data-ad-format="auto"
      class="adsbygoogle adsbygoogle-noablate ezfound"
      data-ad-client="ca-pub-0588844875925051"
      data-adsbygoogle-status="done"
      style="
        display: block;
        margin: auto;
        background-color: transparent;
        height: 280px;
      "
      ><div
        id="aswift_11_host"
        style="
          border: none;
          height: 280px;
          width: 995px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
        "
      ></div
    ></ins>
  </div>
  <p>
    Let’s look at a slightly more complicated case. Consider the statement
    <code>Foo * bar();</code>. By using (or not using) parentheses, we can
    completely change the meaning of this statement:
  </p>
  <ul>
    <li>
      <code>Foo * bar();</code> (with no additional parenthesis) groups the
      <code>*</code> with <code>Foo</code> by default.
      <code>Foo* bar();</code> is the declaration of a function named
      <code>bar</code> that has no parameters and returns a <code>Foo*</code>.
    </li>
    <li>
      <code>Foo (*bar)();</code> explicitly groups the <code>*</code> with
      <code>bar</code>. This defines a function pointer named
      <code>bar</code> that holds the address of a function that takes no
      parameters and returns a <code>Foo</code>.
    </li>
    <li>
      <code>Foo (* bar());</code> is the same as <code>Foo * bar();</code> --
      the parentheses are superfluous in this case.
    </li>
  </ul>
  <p>Finally:</p>
  <ul>
    <li>
      <code>(Foo *) bar();</code>. You might expect this to be the same as
      <code>Foo* bar()</code>, but this is actually an expression statement that
      calls function <code>bar()</code>, C-style casts the return value to type
      <code>Foo*</code>, and then discards it!
    </li>
  </ul>
  <p>C++ is so weird sometimes.</p>
</div>
<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Key insight</p>
  <p>
    Parentheses are complex because they are so overloaded, and used in the
    syntax of vastly different things. This includes function calls,
    direct-initialization of objects, value initialization of temporaries,
    C-style casts, groupings of symbols/identifiers, and variable definitions.
    So when you see parentheses in some syntax… it’s not always obvious what
    you’re going to get!
  </p>
  <p>
    On the other hand, if we see curly braces, we know we’re dealing with
    objects.
  </p>
</div>
<p>Okay, fun over. Back to the boring stuff.</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate ezfound"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_12_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Temporary objects and return by value
</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<p>
  When a function returns by value, the object that is returned is a temporary
  object (initialized using the value or object identified in the return
  statement).
</p>
<p>Here are some examples:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntPair</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-374-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-367-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-367-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-368-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-368-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">IntPair</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-351-close">(</span><span class="token keyword keyword-int">int</span> x<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> y<span class="token punctuation brace-round brace-close brace-level-2" id="pair-351-open">)</span>
        <span class="token operator">:</span> m_x <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-369-close">{</span> x <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-369-open">}</span><span class="token punctuation">,</span> m_y <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-370-close">{</span> y <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-370-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-371-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-371-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">x</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-352-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-352-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-372-close">{</span> <span class="token keyword keyword-return">return</span> m_x<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-372-open">}</span>
    <span class="token keyword keyword-int">int</span> <span class="token function">y</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-353-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-353-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-373-close">{</span> <span class="token keyword keyword-return">return</span> m_y<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-373-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-374-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-354-close">(</span>IntPair p<span class="token punctuation brace-round brace-close brace-level-1" id="pair-354-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-375-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"("</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-355-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-355-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-356-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-356-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-375-open">}</span>

<span class="token comment">// Case 1: Create named variable and return</span>
IntPair <span class="token function">ret1</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-357-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-357-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-377-close">{</span>
    IntPair p <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-376-close">{</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-376-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> p<span class="token punctuation">;</span> <span class="token comment">// returns temporary object (initialized using p)</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-377-open">}</span>

<span class="token comment">// Case 2: Create temporary IntPair and return</span>
IntPair <span class="token function">ret2</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-358-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-358-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-379-close">{</span>
    <span class="token keyword keyword-return">return</span> IntPair <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-378-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-378-open">}</span><span class="token punctuation">;</span> <span class="token comment">// returns temporary object (initialized using another temporary object)</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-379-open">}</span>

<span class="token comment">// Case 3: implicitly convert { 7, 8 } to IntPair and return</span>
IntPair <span class="token function">ret3</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-359-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-359-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-381-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-380-close">{</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-380-open">}</span><span class="token punctuation">;</span> <span class="token comment">// returns temporary object (initialized using another temporary object)</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-381-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-360-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-360-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-382-close">{</span>
    <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-362-close">(</span><span class="token function">ret1</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-361-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-361-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-362-open">)</span><span class="token punctuation">;</span>
    <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-364-close">(</span><span class="token function">ret2</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-363-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-363-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-364-open">)</span><span class="token punctuation">;</span>
    <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-366-close">(</span><span class="token function">ret3</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-365-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-365-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-366-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-382-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In case 1, when we <code>return p</code>, a temporary object is created and
  initialized using <code>p</code>.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate ezfound"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_13_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  The cases in this example are analogous to the cases in the prior example.
</p>
<p class="cpp-section cpp-topline" style="clear: both">A few notes</p>
<p>
  First, just as in the case of an <code>int</code>, when used in an expression,
  a temporary class object is an rvalue. Thus, such objects can only be used
  where rvalue expressions are accepted.
</p>
<p>
  Second, temporary objects are created at the point of definition, and
  destroyed at the end of the full expression in which they are defined . A full
  expression is an expression that is not a subexpression.
</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  <code>static_cast</code> vs explicit instantiation of a temporary object
</p>
<p>
  In cases where we need to convert a value from one type to another but
  narrowing conversions aren’t involved, we often have the option to use either
  <code>static_cast</code> or explicit instantiation of a temporary object.
</p>
<p>For example:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-383-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-383-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-387-close">{</span>
    <span class="token keyword keyword-char">char</span> c <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-385-close">{</span> <span class="token string">'a'</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-385-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-384-close">(</span> c <span class="token punctuation brace-round brace-close brace-level-2" id="pair-384-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// static_cast returns a temporary int direct-initialized with value of c</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token keyword keyword-int">int</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-386-close">{</span> c <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-386-open">}</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>             <span class="token comment">// explicitly creates a temporary int list-initialized with value c</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-387-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  <code>static_cast&lt;int&gt;(c)</code> returns a temporary
  <code>int</code> that is direct-initialized with the value of <code>c</code>.
  <code>int { c }</code> creates a temporary <code>int</code> that is
  list-initialized with the value of <code>c</code>. Either way, we get a
  temporary int initialized with the value of <code>c</code>, which is what we
  want.
</p>
<p>Let’s show a slightly more complex example:</p>
<p>printString.h:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token keyword keyword-void">void</span> <span class="token function">printString</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-388-close">(</span><span class="token keyword keyword-const">const</span> std<span class="token double-colon punctuation">::</span>string <span class="token operator">&amp;</span>s<span class="token punctuation brace-round brace-close brace-level-1" id="pair-388-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-389-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-389-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>main.cpp:</p>
<div class="code-block code-block-8" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"printString.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-390-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-390-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-398-close">{</span>
    std<span class="token double-colon punctuation">::</span>string_view sv <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-396-close">{</span> <span class="token string">"Hello"</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-396-open">}</span><span class="token punctuation">;</span>

    <span class="token comment">// We want to print sv using the printString() function</span>

<span class="token comment">//    printString(sv); // compile error: a std::string_view won't implicitly convert to a std::string</span>

    <span class="token function">printString</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-392-close">(</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-391-close">(</span>sv<span class="token punctuation brace-round brace-close brace-level-3" id="pair-391-open">)</span> <span class="token punctuation brace-round brace-close brace-level-2" id="pair-392-open">)</span><span class="token punctuation">;</span> <span class="token comment">// Case 1: static_cast returns a temporary std::string direct-initialized with sv</span>
    <span class="token function">printString</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-393-close">(</span> std<span class="token double-colon punctuation">::</span>string <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-397-close">{</span> sv <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-397-open">}</span> <span class="token punctuation brace-round brace-close brace-level-2" id="pair-393-open">)</span><span class="token punctuation">;</span>           <span class="token comment">// Case 2: explicitly creates a temporary std::string list-initialized with sv</span>
    <span class="token function">printString</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-395-close">(</span> std<span class="token double-colon punctuation">::</span><span class="token function">string</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-394-close">(</span> sv <span class="token punctuation brace-round brace-close brace-level-3" id="pair-394-open">)</span> <span class="token punctuation brace-round brace-close brace-level-2" id="pair-395-open">)</span><span class="token punctuation">;</span>           <span class="token comment">// Case 3: C-style cast returns temporary std::string direct-initialized with sv (avoid this one!)</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-398-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Let’s say the code in header file <code>printString.h</code> isn’t code we can
  modify (e.g. because it’s distributed with some 3rd party library we’re using,
  and has been written to be compatible with C++11, which doesn’t support
  <code>std::string_view</code>). So how do we call
  <code>printString()</code> with <code>sv</code>? Because a
  <code>std::string_view</code> won’t implicitly convert to a
  <code>std::string</code> (for efficiency reasons), we can’t just use
  <code>sv</code> as an argument. We must use some explicit form of conversion.
</p>
<p>
  In case 1, <code>static_cast&lt;std::string&gt;(sv)</code> invokes the
  static_cast operator to cast <code>sv</code> to a <code>std::string</code>.
  This returns a temporary <code>std::string</code> that has been
  direct-initialized using <code>sv</code>, which is then used as the argument
  for the function call.
</p>
<p>
  In case 2, <code>std::string { sv }</code> creates a temporary
  <code>std::string</code> that is list-initialized using <code>sv</code>. Since
  this is an explicit construction, the conversion is allowed. This temporary is
  then used as the argument for the function call.
</p>
<p>
  In case 3, <code>std::string ( sv )</code> use a C-style cast to cast
  <code>sv</code> to a <code>std::string</code>. Although this works here,
  C-style casting can be dangerous in general and should be avoided. Notice how
  similar this looks to the prior case!
</p>
<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>
    As a quick rule of thumb: Prefer <code>static_cast</code> when converting to
    a fundamental type, and a list-initialized temporary when converting to a
    class type.
  </p>
  <p>
    Prefer <code>static_cast</code> when to create a temporary object when any
    of the following are true:
  </p>
  <ul>
    <li>We need to performing a narrowing conversion.</li>
    <li>
      We want to make it really obvious that we’re converting to a type that
      will result in some different behavior (e.g. a <code>char</code> to an
      <code>int</code>).
    </li>
    <li>
      We want to use direct-initialization for some reason (e.g. to avoid list
      constructors taking precedence).
    </li>
  </ul>
  <p>
    Prefer creating a new object (using list initialization) to create a
    temporary object when any of the following are true:
  </p>
  <ul>
    <li>
      We want to use list-initialization (e.g. for the protection against
      narrowing conversions, or because we need to invoke a list constructor).
    </li>
    <li>
      We need to provide additional arguments to a constructor to facilitate the
      conversion.
    </li>
  </ul>
</div>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">Related content</p>
  <p>
    We cover list constructors in lesson
    <a
      href="https://www.learncpp.com/cpp-tutorial/introduction-to-stdvector-and-list-constructors/"
      >16.2 -- Introduction to std::vector and list constructors</a
    >.
  </p>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/introduction-to-the-copy-constructor/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">14.14</span>Introduction to
            the copy constructor
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/delegating-constructors/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">14.12</span>Delegating
            constructors
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
