<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>Consider a fixed array of integers in C++:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> array<span class="token punctuation brace-square brace-open brace-level-1" id="pair-0-close">[</span><span class="token number">5</span><span class="token punctuation brace-square brace-close brace-level-1" id="pair-0-open">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  If we want to initialize this array with values, we can do so directly via the
  initializer list syntax:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-1-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-1-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-5-close">{</span>
	<span class="token keyword keyword-int">int</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-3-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-3-open">]</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-4-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-4-open">}</span><span class="token punctuation">;</span> <span class="token comment">// initializer list</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-2-close">(</span><span class="token keyword keyword-auto">auto</span> i <span class="token operator">:</span> array<span class="token punctuation brace-round brace-close brace-level-2" id="pair-2-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-5-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This prints:</p>
<pre>
5 4 3 2 1
</pre>
<p>This also works for dynamically allocated arrays:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-6-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-6-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-14-close">{</span>
	<span class="token keyword keyword-auto">auto</span><span class="token operator">*</span> array<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-12-close">{</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-8-close">[</span><span class="token number">5</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-8-open">]</span><span class="token punctuation brace-curly brace-open brace-level-3" id="pair-11-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-11-open">}</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-12-open">}</span><span class="token punctuation">;</span> <span class="token comment">// initializer list</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-7-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-13-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-13-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-7-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-9-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-9-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-10-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-10-open">]</span> array<span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-14-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3756938259&amp;adf=1372744821&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1748209460&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fstdinitializer_list%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963462384&amp;bpp=1&amp;bdt=918&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=1230267019435&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1158&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353386%2C95362655%2C95365225%2C95365235%2C95344789%2C95359266%2C95365117%2C95365798%2C95340252%2C95340254&amp;oid=2&amp;pvsid=3076721308529033&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;cms=2&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=17"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CJvjn77srI4DFdXyTAIdAY4qTw"
      ></iframe></div
  ></ins>
</div>
<p>
  In the previous lesson, we introduced the concept of container classes, and
  showed an example of an IntArray class that holds an array of integers:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span> <span class="token comment">// for assert()</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-38-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-29-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-29-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span><span class="token operator">*</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-30-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-30-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-15-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-15-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>

    <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-16-close">(</span><span class="token keyword keyword-int">int</span> length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-16-open">)</span>
        <span class="token operator">:</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-31-close">{</span> length <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-31-open">}</span>
	<span class="token punctuation">,</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-33-close">{</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-24-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-17-close">(</span>length<span class="token punctuation brace-round brace-close brace-level-4" id="pair-17-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-24-open">]</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-32-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-32-open">}</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-33-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-34-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-34-open">}</span>

    <span class="token operator">~</span><span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-18-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-18-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-35-close">{</span>
        <span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-25-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-25-open">]</span> m_data<span class="token punctuation">;</span>
        <span class="token comment">// we don't need to set m_data to null or m_length to 0 here, since the object will be destroyed immediately after this function anyway</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-35-open">}</span>

    <span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-26-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-26-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-19-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-19-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-36-close">{</span>
        <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-20-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-20-open">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> m_data<span class="token punctuation brace-square brace-open brace-level-3" id="pair-27-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-27-open">]</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-36-open">}</span>

    <span class="token keyword keyword-int">int</span> <span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-21-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-21-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-37-close">{</span> <span class="token keyword keyword-return">return</span> m_length<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-37-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-38-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-22-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-22-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-41-close">{</span>
	<span class="token comment">// What happens if we try to use an initializer list with this container class?</span>
	IntArray array <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-39-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-39-open">}</span><span class="token punctuation">;</span> <span class="token comment">// this line doesn't compile</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-23-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-40-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-40-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-23-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-28-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-28-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-41-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3756938259&amp;adf=3281846959&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1748209460&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fstdinitializer_list%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963462384&amp;bpp=1&amp;bdt=918&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=1230267019435&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2207&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353386%2C95362655%2C95365225%2C95365235%2C95344789%2C95359266%2C95365117%2C95365798%2C95340252%2C95340254&amp;oid=2&amp;pvsid=3076721308529033&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=18"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CKuYn77srI4DFYXxTAIdumsvag"
      ></iframe></div
  ></ins>
</div>
<p>
  This code won’t compile, because the IntArray class doesn’t have a constructor
  that knows what to do with an initializer list. As a result, we’re left
  initializing our array elements individually:
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-42-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-42-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-52-close">{</span>
	IntArray <span class="token function">array</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-43-close">(</span><span class="token number">5</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-43-open">)</span><span class="token punctuation">;</span>
	array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-45-close">[</span><span class="token number">0</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-45-open">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
	array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-46-close">[</span><span class="token number">1</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-46-open">]</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
	array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-47-close">[</span><span class="token number">2</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-47-open">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-48-close">[</span><span class="token number">3</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-48-open">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-49-close">[</span><span class="token number">4</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-49-open">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-44-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-51-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-51-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-44-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-50-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-50-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-52-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3756938259&amp;adf=512807938&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1748209460&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fstdinitializer_list%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963462384&amp;bpp=1&amp;bdt=917&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=1230267019435&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2813&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353386%2C95362655%2C95365225%2C95365235%2C95344789%2C95359266%2C95365117%2C95365798%2C95340252%2C95340254&amp;oid=2&amp;pvsid=3076721308529033&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=19"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CJWnn77srI4DFdLrTAIdsh4Z5g"
      ></iframe></div
  ></ins>
</div>
<p>That’s not so great.</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Class initialization using std::initializer_list
</p>
<p>
  When a compiler sees an initializer list, it automatically converts it into an
  object of type std::initializer_list. Therefore, if we create a constructor
  that takes a std::initializer_list parameter, we can create objects using the
  initializer list as an input.
</p>
<p>
  std::initializer_list lives in the
  <code>&lt;initializer_list&gt;</code> header.
</p>
<p>
  There are a few things to know about std::initializer_list. Much like
  std::array or std::vector, you have to tell std::initializer_list what type of
  data the list holds using angled brackets, unless you initialize the
  std::initializer_list right away. Therefore, you’ll almost never see a plain
  std::initializer_list. Instead, you’ll see something like
  <code>std::initializer_list&lt;int&gt;</code> or
  <code>std::initializer_list&lt;std::string&gt;</code>.
</p>
<p>
  Second, std::initializer_list has a (misnamed) size() function which returns
  the number of elements in the list. This is useful when we need to know the
  length of the list passed in.
</p>
<p>
  Third, std::initializer_list is often passed by value. Much like
  std::string_view, std::initializer_list is a view. Copying a
  std::initializer_list does not copy the elements in the list.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3756938259&amp;adf=1292614565&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1748209460&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fstdinitializer_list%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963462384&amp;bpp=1&amp;bdt=918&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=1230267019435&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3455&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353386%2C95362655%2C95365225%2C95365235%2C95344789%2C95359266%2C95365117%2C95365798%2C95340252%2C95340254&amp;oid=2&amp;pvsid=3076721308529033&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=20"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CJTpn77srI4DFSbvTAId_5cr2Q"
      ></iframe></div
  ></ins>
</div>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>
  Let’s take a look at updating our IntArray class with a constructor that takes
  a std::initializer_list.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::copy</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span> <span class="token comment">// for assert()</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;initializer_list&gt;</span> <span class="token comment">// for std::initializer_list</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-87-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-int">int</span> m_length <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-77-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-77-open">}</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span><span class="token operator">*</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-78-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-78-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-53-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-53-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>

	<span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-54-close">(</span><span class="token keyword keyword-int">int</span> length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-54-open">)</span>
		<span class="token operator">:</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-79-close">{</span> length <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-79-open">}</span>
		<span class="token punctuation">,</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-81-close">{</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-72-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-55-close">(</span>length<span class="token punctuation brace-round brace-close brace-level-4" id="pair-55-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-72-open">]</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-80-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-80-open">}</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-81-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-82-close">{</span>

	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-82-open">}</span>

	<span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-56-close">(</span>std<span class="token double-colon punctuation">::</span>initializer_list<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> list<span class="token punctuation brace-round brace-close brace-level-2" id="pair-56-open">)</span> <span class="token comment">// allow IntArray to be initialized via list initialization</span>
		<span class="token operator">:</span> <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-59-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-58-close">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-57-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-57-open">)</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-58-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-59-open">)</span> <span class="token comment">// use delegating constructor to set up initial array</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-83-close">{</span>
		<span class="token comment">// Now initialize our array from the list</span>
		std<span class="token double-colon punctuation">::</span><span class="token function">copy</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-62-close">(</span>list<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-60-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-60-open">)</span><span class="token punctuation">,</span> list<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-61-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-61-open">)</span><span class="token punctuation">,</span> m_data<span class="token punctuation brace-round brace-close brace-level-3" id="pair-62-open">)</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-83-open">}</span>

	<span class="token operator">~</span><span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-63-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-63-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-84-close">{</span>
		<span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-73-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-73-open">]</span> m_data<span class="token punctuation">;</span>
		<span class="token comment">// we don't need to set m_data to null or m_length to 0 here, since the object will be destroyed immediately after this function anyway</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-84-open">}</span>

	<span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-64-close">(</span><span class="token keyword keyword-const">const</span> IntArray<span class="token operator">&amp;</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-64-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span> <span class="token comment">// to avoid shallow copies</span>
	IntArray<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-65-close">(</span><span class="token keyword keyword-const">const</span> IntArray<span class="token operator">&amp;</span> list<span class="token punctuation brace-round brace-close brace-level-2" id="pair-65-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span> <span class="token comment">// to avoid shallow copies</span>

	<span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-74-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-74-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-66-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-66-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-85-close">{</span>
		<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-67-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-67-open">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> m_data<span class="token punctuation brace-square brace-open brace-level-3" id="pair-75-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-75-open">]</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-85-open">}</span>

	<span class="token keyword keyword-int">int</span> <span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-68-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-68-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-86-close">{</span> <span class="token keyword keyword-return">return</span> m_length<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-86-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-87-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-69-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-69-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-90-close">{</span>
	IntArray array<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-88-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-88-open">}</span><span class="token punctuation">;</span> <span class="token comment">// initializer list</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-71-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-89-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-89-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> array<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-70-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-70-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-71-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-76-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-76-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-90-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 32px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3756938259&amp;adf=3092609880&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1748209460&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fstdinitializer_list%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963462386&amp;bpp=1&amp;bdt=920&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=6&amp;correlator=1230267019435&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3583&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353386%2C95362655%2C95365225%2C95365235%2C95344789%2C95359266%2C95365117%2C95365798%2C95340252%2C95340254&amp;oid=2&amp;pvsid=3076721308529033&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=5&amp;fsb=1&amp;dtd=432"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CJKSub7srI4DFcHvTAIdbLMGUw"
      ></iframe></div
  ></ins>
</div>
<p>This produces the expected result:</p>
<pre>
5 4 3 2 1
</pre>
<p>It works! Now, let’s explore this in more detail.</p>
<p>
  Here’s our IntArray constructor that takes a
  <code>std::initializer_list&lt;int&gt;</code>.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-91-close">(</span>std<span class="token double-colon punctuation">::</span>initializer_list<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> list<span class="token punctuation brace-round brace-close brace-level-1" id="pair-91-open">)</span> <span class="token comment">// allow IntArray to be initialized via list initialization</span>
	<span class="token operator">:</span> <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-94-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-93-close">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-92-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-92-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-93-open">)</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-94-open">)</span> <span class="token comment">// use delegating constructor to set up initial array</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-98-close">{</span>
	<span class="token comment">// Now initialize our array from the list</span>
	std<span class="token double-colon punctuation">::</span><span class="token function">copy</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-97-close">(</span>list<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-95-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-95-open">)</span><span class="token punctuation">,</span> list<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-96-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-96-open">)</span><span class="token punctuation">,</span> m_data<span class="token punctuation brace-round brace-close brace-level-2" id="pair-97-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-98-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_10"
        name="aswift_10"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=3756938259&amp;adf=4028547022&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1748209460&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fstdinitializer_list%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963462388&amp;bpp=1&amp;bdt=922&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=7&amp;correlator=1230267019435&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3893&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093233%2C95353386%2C95362655%2C95365225%2C95365235%2C95344789%2C95359266%2C95365117%2C95365798%2C95340252%2C95340254&amp;oid=2&amp;pvsid=3076721308529033&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=11&amp;uci=a!b&amp;btvi=6&amp;fsb=1&amp;dtd=720"
        data-google-container-id="a!b"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-google-query-id="CNjIyr7srI4DFQXrTAIdQS4i2A"
        data-load-complete="true"
      ></iframe></div
  ></ins>
</div>
<p>
  On line 1: As noted above, we have to use angled brackets to denote what type
  of element we expect inside the list. In this case, because this is an
  IntArray, we’d expect the list to be filled with int. Note that we don’t pass
  the list by const reference. Much like std::string_view, std::initializer_list
  is very lightweight and copies tend to be cheaper than an indirection.
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p>
  On line 2: We delegate allocating memory for the IntArray to the other
  constructor via a delegating constructor (to reduce redundant code). This
  other constructor needs to know the length of the array, so we pass it
  list.size(), which contains the number of elements in the list. Note that
  list.size() returns a size_t (which is unsigned) so we need to cast to a
  signed int here.
</p>
<p>
  The body of the constructor is reserved for copying the elements from the list
  into our IntArray class. The easiest way to do this is to use
  <code>std::copy()</code>, which lives in the &lt;algorithm&gt; header.
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Accessing elements of a std::initializer_list
</p>
<p>
  In some cases, you may want access to each element of the std:initializer_list
  before copying that element into the internal array (e.g. to sanity check
  values, or modify those values somehow).
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_11_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  For some inexplicable reason, std::initializer_list does not provide access to
  the elements of the list via subscripting (operator[]). The omission has been
  noted many times to the standards committee and never addressed.
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<p>However, there are a number of easy workarounds:</p>
<ol start="1">
  <li>
    You can use a range-based for loop to iterate over the elements of the list.
  </li>
  <li>
    Another way is to use the <code>begin()</code> member function to get an
    iterator to the <code>std::initializer_list</code>. Because this iterator is
    a random-access iterator, the iterators can be indexed:
  </li>
</ol>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-99-close">(</span>std<span class="token double-colon punctuation">::</span>initializer_list<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> list<span class="token punctuation brace-round brace-close brace-level-1" id="pair-99-open">)</span> <span class="token comment">// allow IntArray to be initialized via list initialization</span>
	<span class="token operator">:</span> <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-102-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-101-close">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-100-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-100-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-101-open">)</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-102-open">)</span> <span class="token comment">// use delegating constructor to set up initial array</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-110-close">{</span>
	<span class="token comment">// Now initialize our array from the list</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-104-close">(</span>std<span class="token double-colon punctuation">::</span>size_t count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-108-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-108-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-103-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-103-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-104-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-109-close">{</span>
		m_data<span class="token punctuation brace-square brace-open brace-level-3" id="pair-106-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-3" id="pair-106-open">]</span> <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-105-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-105-open">)</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-107-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-3" id="pair-107-open">]</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-109-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-110-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_12_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  List initialization prefers list constructors over non-list constructors
</p>
<p>
  Non-empty initializer lists will always favor a matching initializer_list
  constructor over other potentially matching constructors. Consider:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">IntArray <span class="token function">a1</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-111-close">(</span><span class="token number">5</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-111-open">)</span><span class="token punctuation">;</span>   <span class="token comment">// uses IntArray(int), allocates an array of size 5</span>
IntArray a2<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-112-close">{</span> <span class="token number">5</span> <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-112-open">}</span><span class="token punctuation">;</span> <span class="token comment">// uses IntArray&lt;std::initializer_list&lt;int&gt;, allocates array of size 1</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  The <code>a1</code> case uses direct initialization (which doesn’t consider
  list constructors), so this definition will call <code>IntArray(int)</code>,
  allocating an array of size 5.
</p>
<p>
  The <code>a2</code> case uses list initialization (which favors list
  constructors). Both <code>IntArray(int)</code> and
  <code>IntArray(std::initializer_list&lt;int&gt;)</code> are possible matches
  here, but since list constructors are favored,
  <code>IntArray(std::initializer_list&lt;int&gt;)</code> will be called,
  allocating an array of size 1 (with that element having value 5)
</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<p>
  This is why our delegating constructor above uses direct initialization when
  delegating:
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_13_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-113-close">(</span>std<span class="token double-colon punctuation">::</span>initializer_list<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> list<span class="token punctuation brace-round brace-close brace-level-1" id="pair-113-open">)</span>
	<span class="token operator">:</span> <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-116-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-115-close">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-114-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-114-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-115-open">)</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-116-open">)</span> <span class="token comment">// uses direct init</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  That ensures we delegate to the <code>IntArray(int)</code> version. If we had
  delegated using list initialization instead, the constructor would try to
  delegate to itself, which will cause a compile error.
</p>
<p>
  The same happens to std::vector and other container classes that have both a
  list constructor and a constructor with a similar type of parameter
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> <span class="token function">array</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-117-close">(</span><span class="token number">5</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-117-open">)</span><span class="token punctuation">;</span> <span class="token comment">// Calls std::vector::vector(std::vector::size_type), 5 value-initialized elements: 0 0 0 0 0</span>
std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> array<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-118-close">{</span> <span class="token number">5</span> <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-118-open">}</span><span class="token punctuation">;</span> <span class="token comment">// Calls std::vector::vector(std::initializer_list&lt;int&gt;), 1 element: 5</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Key insight</p>
  <p>
    List initialization favors matching list constructors over matching non-list
    constructors.
  </p>
</div>
<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>When initializing a container that has a list constructor:</p>
  <ul>
    <li>
      Use brace initialization when intending to call the list constructor (e.g.
      because your initializers are element values)
    </li>
    <li>
      Use direct initialization when intending to call a non-list constructor
      (e.g. because your initializers are not element values).
    </li>
  </ul>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Adding list constructors to an existing class is dangerous
</p>
<p>
  Because list initialization favors list constructors, adding a list
  constructor to an existing class that did not previously have one can cause
  existing programs to silently change behavior.
</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>

<p>Consider the following program:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;initializer_list&gt;</span> <span class="token comment">// for std::initializer_list</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Foo</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-122-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-119-close">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-119-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-121-close">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Foo(int, int)"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-121-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-122-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-120-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-120-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-124-close">{</span>
	Foo f1<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-123-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-123-open">}</span><span class="token punctuation">;</span> <span class="token comment">// calls Foo(int, int)</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-124-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This prints:</p>
<pre>
Foo(int, int)
</pre>
<p>Now let’s add a list constructor to this class:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;initializer_list&gt;</span> <span class="token comment">// for std::initializer_list</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Foo</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-130-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-125-close">(</span><span class="token keyword keyword-int">int</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-125-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-128-close">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Foo(int, int)"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-128-open">}</span>

	<span class="token comment">// We've added a list constructor</span>
	<span class="token function">Foo</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-126-close">(</span>std<span class="token double-colon punctuation">::</span>initializer_list<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-126-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-129-close">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Foo(std::initializer_list&lt;int&gt;)"</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-129-open">}</span>

<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-130-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-127-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-127-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-132-close">{</span>
	<span class="token comment">// note that the following statement has not changed</span>
	Foo f1<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-131-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-131-open">}</span><span class="token punctuation">;</span> <span class="token comment">// now calls Foo(std::initializer_list&lt;int&gt;)</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-132-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Although we’ve made no other changes to the program, this program now prints:
</p>
<pre>
Foo(std::initializer_list&lt;int&gt;)
</pre>
<div class="cpp-note cpp-lightredbackground">
  <p class="cpp-note-title cpp-bottomline">Warning</p>
  <p>
    Adding a list constructor to an existing class that did not have one may
    break existing programs.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Class assignment using std::initializer_list
</p>
<p>
  You can also use std::initializer_list to assign new values to a class by
  overloading the assignment operator to take a std::initializer_list parameter.
  This works analogously to the above. We’ll show an example of how to do this
  in the quiz solution below.
</p>
<p>
  Note that if you implement a constructor that takes a std::initializer_list,
  you should ensure you do at least one of the following:
</p>
<ol>
  <li>Provide an overloaded list assignment operator</li>
  <li>Provide a proper deep-copying copy assignment operator</li>
  <li>Delete the copy assignment operator</li>
</ol>
<p>
  Here’s why: consider the following class (which doesn’t have any of these
  things), along with a list assignment statement:
</p>
<div class="code-block code-block-8" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::copy()</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span>   <span class="token comment">// for assert()</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;initializer_list&gt;</span> <span class="token comment">// for std::initializer_list</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-165-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-int">int</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-155-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-155-open">}</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span><span class="token operator">*</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-156-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-156-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-133-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-133-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>

	<span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-134-close">(</span><span class="token keyword keyword-int">int</span> length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-134-open">)</span>
		<span class="token operator">:</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-157-close">{</span> length <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-157-open">}</span>
		<span class="token punctuation">,</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-159-close">{</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-150-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-135-close">(</span>length<span class="token punctuation brace-round brace-close brace-level-4" id="pair-135-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-150-open">]</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-158-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-158-open">}</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-159-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-160-close">{</span>

	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-160-open">}</span>

	<span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-136-close">(</span>std<span class="token double-colon punctuation">::</span>initializer_list<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> list<span class="token punctuation brace-round brace-close brace-level-2" id="pair-136-open">)</span> <span class="token comment">// allow IntArray to be initialized via list initialization</span>
		<span class="token operator">:</span> <span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-139-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-138-close">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-137-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-137-open">)</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-138-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-139-open">)</span> <span class="token comment">// use delegating constructor to set up initial array</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-161-close">{</span>
		<span class="token comment">// Now initialize our array from the list</span>
		std<span class="token double-colon punctuation">::</span><span class="token function">copy</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-142-close">(</span>list<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-140-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-140-open">)</span><span class="token punctuation">,</span> list<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-141-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-141-open">)</span><span class="token punctuation">,</span> m_data<span class="token punctuation brace-round brace-close brace-level-3" id="pair-142-open">)</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-161-open">}</span>

	<span class="token operator">~</span><span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-143-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-143-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-162-close">{</span>
		<span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-151-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-151-open">]</span> m_data<span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-162-open">}</span>

<span class="token comment">//	IntArray(const IntArray&amp;) = delete; // to avoid shallow copies</span>
<span class="token comment">//	IntArray&amp; operator=(const IntArray&amp; list) = delete; // to avoid shallow copies</span>

	<span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-152-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-152-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-144-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-144-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-163-close">{</span>
		<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-145-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-145-open">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> m_data<span class="token punctuation brace-square brace-open brace-level-3" id="pair-153-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-153-open">]</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-163-open">}</span>

	<span class="token keyword keyword-int">int</span> <span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-146-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-146-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-164-close">{</span> <span class="token keyword keyword-return">return</span> m_length<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-164-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-165-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-147-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-147-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-169-close">{</span>
	IntArray array<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-166-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-166-open">}</span><span class="token punctuation">;</span>
	array <span class="token operator">=</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-167-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-167-open">}</span><span class="token punctuation">;</span> <span class="token comment">// Here's our list assignment statement</span>

	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-149-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-168-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-168-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> array<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-148-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-148-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-149-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-154-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-154-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span> <span class="token comment">// undefined behavior</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-169-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  First, the compiler will note that an assignment function taking a
  std::initializer_list doesn’t exist. Next it will look for other assignment
  functions it could use, and discover the implicitly provided copy assignment
  operator. However, this function can only be used if it can convert the
  initializer list into an IntArray. Because { 1, 3, 5, 7, 9, 11 } is a
  std::initializer_list, the compiler will use the list constructor to convert
  the initializer list into a temporary IntArray. Then it will call the implicit
  assignment operator, which will shallow copy the temporary IntArray into our
  array object.
</p>
<p>
  At this point, both the temporary IntArray’s m_data and array-&gt;m_data point
  to the same address (due to the shallow copy). You can already see where this
  is going.
</p>
<p>
  At the end of the assignment statement, the temporary IntArray is destroyed.
  That calls the destructor, which deletes the temporary IntArray’s m_data. This
  leaves array-&gt;m_data as a dangling pointer. When you try to use
  array-&gt;m_data for any purpose (including when array goes out of scope and
  the destructor goes to delete m_data), you’ll get undefined behavior.
</p>
<div class="cpp-note cpp-lightgreenbackground">
  <p class="cpp-note-title cpp-bottomline">Best practice</p>
  <p>
    If you provide list construction, it’s a good idea to provide list
    assignment as well.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">Summary</p>
<p>
  Implementing a constructor that takes a std::initializer_list parameter allows
  us to use list initialization with our custom classes. We can also use
  std::initializer_list to implement other functions that need to use an
  initializer list, such as an assignment operator.
</p>
<p class="cpp-section cpp-topline" style="clear: both">Quiz time</p>
<div class="quiz" style="clear: both">
  <p class="quiz-header">Question #1</p>
  <p>
    Using the IntArray class above, implement an overloaded assignment operator
    that takes an initializer list.
  </p>
  <p>The following code should run:</p>
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-170-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-170-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-181-close">{</span>
	IntArray array <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-177-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-177-open">}</span><span class="token punctuation">;</span> <span class="token comment">// initializer list</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-172-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-178-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-178-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> array<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-171-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-171-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-172-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-175-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-175-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	array <span class="token operator">=</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-179-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-179-open">}</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-174-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-180-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-180-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> array<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-173-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-173-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-174-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-176-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-176-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-181-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
  <p>This should print:</p>
  <pre>
5 4 3 2 1 
1 3 5 7 9 11
</pre
  >
  <p>
    <a
      class="solution_link_show"
      href="javascript:void(0)"
      onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_0'), this, 'Show Solution', 'Hide Solution')"
      >Show Solution</a
    >
  </p>
  <div class="wpsolution" id="cpp_solution_id_0" style="display: none">
    <div class="code-toolbar">
      <pre
        class="line-numbers language-cpp"
        tabindex="0"
      ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span> <span class="token comment">// for std::copy()</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cassert&gt;</span>   <span class="token comment">// for assert()</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;initializer_list&gt;</span> <span class="token comment">// for std::initializer_list</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">IntArray</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-233-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-int">int</span> m_length <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-219-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-219-open">}</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span><span class="token operator">*</span> m_data <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-220-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-220-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-182-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-182-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-default">default</span><span class="token punctuation">;</span>

	<span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-183-close">(</span><span class="token keyword keyword-int">int</span> length<span class="token punctuation brace-round brace-close brace-level-2" id="pair-183-open">)</span>
		<span class="token operator">:</span> m_length<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-221-close">{</span> length <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-221-open">}</span>
		<span class="token punctuation">,</span> m_data<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-223-close">{</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-211-close">[</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>size_t<span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-184-close">(</span>length<span class="token punctuation brace-round brace-close brace-level-4" id="pair-184-open">)</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-211-open">]</span> <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-222-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-222-open">}</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-223-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-224-close">{</span>

	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-224-open">}</span>

	<span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-185-close">(</span>std<span class="token double-colon punctuation">::</span>initializer_list<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> list<span class="token punctuation brace-round brace-close brace-level-2" id="pair-185-open">)</span> <span class="token operator">:</span> <span class="token comment">// allow IntArray to be initialized via list initialization</span>
		<span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-188-close">(</span><span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-187-close">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-186-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-186-open">)</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-187-open">)</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-188-open">)</span> <span class="token comment">// use delegating constructor to set up initial array</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-225-close">{</span>
		<span class="token comment">// Now initialize our array from the list</span>
		std<span class="token double-colon punctuation">::</span><span class="token function">copy</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-191-close">(</span>list<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-189-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-189-open">)</span><span class="token punctuation">,</span> list<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-190-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-190-open">)</span><span class="token punctuation">,</span> m_data<span class="token punctuation brace-round brace-close brace-level-3" id="pair-191-open">)</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-225-open">}</span>

	<span class="token operator">~</span><span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-192-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-192-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-226-close">{</span>
		<span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-3" id="pair-212-close">[</span><span class="token punctuation brace-square brace-close brace-level-3" id="pair-212-open">]</span> m_data<span class="token punctuation">;</span>
		<span class="token comment">// we don't need to set m_data to null or m_length to 0 here, since the object will be destroyed immediately after this function anyway</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-226-open">}</span>

	<span class="token function">IntArray</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-193-close">(</span><span class="token keyword keyword-const">const</span> IntArray<span class="token operator">&amp;</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-193-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span> <span class="token comment">// to avoid shallow copies</span>
	IntArray<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-194-close">(</span><span class="token keyword keyword-const">const</span> IntArray<span class="token operator">&amp;</span> list<span class="token punctuation brace-round brace-close brace-level-2" id="pair-194-open">)</span> <span class="token operator">=</span> <span class="token keyword keyword-delete">delete</span><span class="token punctuation">;</span> <span class="token comment">// to avoid shallow copies</span>

	IntArray<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">=</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-195-close">(</span>std<span class="token double-colon punctuation">::</span>initializer_list<span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span> list<span class="token punctuation brace-round brace-close brace-level-2" id="pair-195-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-230-close">{</span>
		<span class="token comment">// If the new list is a different size, reallocate it</span>
		<span class="token keyword keyword-int">int</span> length <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-227-close">{</span> <span class="token generic-function"><span class="token function">static_cast</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword keyword-int">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-197-close">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-5" id="pair-196-close">(</span><span class="token punctuation brace-round brace-close brace-level-5" id="pair-196-open">)</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-197-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-227-open">}</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-198-close">(</span>length <span class="token operator">!=</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-198-open">)</span>
		<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-229-close">{</span>
			<span class="token keyword keyword-delete">delete</span><span class="token punctuation brace-square brace-open brace-level-4" id="pair-213-close">[</span><span class="token punctuation brace-square brace-close brace-level-4" id="pair-213-open">]</span> m_data<span class="token punctuation">;</span>
			m_length <span class="token operator">=</span> length<span class="token punctuation">;</span>
			m_data <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token keyword keyword-int">int</span><span class="token punctuation brace-square brace-open brace-level-4" id="pair-214-close">[</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation brace-round brace-open brace-level-5" id="pair-199-close">(</span><span class="token punctuation brace-round brace-close brace-level-5" id="pair-199-open">)</span><span class="token punctuation brace-square brace-close brace-level-4" id="pair-214-open">]</span><span class="token punctuation brace-curly brace-open brace-level-4" id="pair-228-close">{</span><span class="token punctuation brace-curly brace-close brace-level-4" id="pair-228-open">}</span><span class="token punctuation">;</span>
		<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-229-open">}</span>

		<span class="token comment">// Now initialize our array from the list</span>
		std<span class="token double-colon punctuation">::</span><span class="token function">copy</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-202-close">(</span>list<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-200-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-200-open">)</span><span class="token punctuation">,</span> list<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-201-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-201-open">)</span><span class="token punctuation">,</span> m_data<span class="token punctuation brace-round brace-close brace-level-3" id="pair-202-open">)</span><span class="token punctuation">;</span>

		<span class="token keyword keyword-return">return</span> <span class="token operator">*</span><span class="token keyword keyword-this">this</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-230-open">}</span>

	<span class="token keyword keyword-int">int</span><span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token punctuation brace-square brace-open brace-level-2" id="pair-215-close">[</span><span class="token punctuation brace-square brace-close brace-level-2" id="pair-215-open">]</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-203-close">(</span><span class="token keyword keyword-int">int</span> index<span class="token punctuation brace-round brace-close brace-level-2" id="pair-203-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-231-close">{</span>
		<span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-204-close">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> m_length<span class="token punctuation brace-round brace-close brace-level-3" id="pair-204-open">)</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-return">return</span> m_data<span class="token punctuation brace-square brace-open brace-level-3" id="pair-216-close">[</span>index<span class="token punctuation brace-square brace-close brace-level-3" id="pair-216-open">]</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-231-open">}</span>

	<span class="token keyword keyword-int">int</span> <span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-205-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-205-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-232-close">{</span> <span class="token keyword keyword-return">return</span> m_length<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-232-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-233-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-206-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-206-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-238-close">{</span>
	IntArray array <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-234-close">{</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-234-open">}</span><span class="token punctuation">;</span> <span class="token comment">// initializer list</span>
	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-208-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-235-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-235-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> array<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-207-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-207-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-208-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-217-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-217-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	array <span class="token operator">=</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-236-close">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-236-open">}</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-for">for</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-210-close">(</span><span class="token keyword keyword-int">int</span> count<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-237-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-237-open">}</span><span class="token punctuation">;</span> count <span class="token operator">&lt;</span> array<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-209-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-209-open">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>count<span class="token punctuation brace-round brace-close brace-level-2" id="pair-210-open">)</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation brace-square brace-open brace-level-2" id="pair-218-close">[</span>count<span class="token punctuation brace-square brace-close brace-level-2" id="pair-218-open">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-238-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
      <div class="toolbar">
        <div class="toolbar-item">
          <button
            class="copy-to-clipboard-button"
            type="button"
            data-copy-state="copy"
          >
            <span>Copy</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/chapter-23-summary-and-quiz/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">23.x</span>Chapter 23 summary
            and quiz
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/container-classes/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">23.6</span>Container classes
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
