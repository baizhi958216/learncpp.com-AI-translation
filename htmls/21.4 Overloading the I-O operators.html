<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  For classes that have multiple member variables, printing each of the
  individual variables on the screen can get tiresome fast. For example,
  consider the following class:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Point</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-14-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-double">double</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-4-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-4-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-5-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-5-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> m_z<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-6-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-6-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Point</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-0-close">(</span><span class="token keyword keyword-double">double</span> x<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> y<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> z<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-0-open">)</span>
      <span class="token operator">:</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-7-close">{</span>x<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-7-open">}</span><span class="token punctuation">,</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-8-close">{</span>y<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-8-open">}</span><span class="token punctuation">,</span> m_z<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-9-close">{</span>z<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-9-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-10-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-10-open">}</span>

    <span class="token keyword keyword-double">double</span> <span class="token function">getX</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-1-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-1-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-11-close">{</span> <span class="token keyword keyword-return">return</span> m_x<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-11-open">}</span>
    <span class="token keyword keyword-double">double</span> <span class="token function">getY</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-2-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-2-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-12-close">{</span> <span class="token keyword keyword-return">return</span> m_y<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-12-open">}</span>
    <span class="token keyword keyword-double">double</span> <span class="token function">getZ</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-3-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-3-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-13-close">{</span> <span class="token keyword keyword-return">return</span> m_z<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-13-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-14-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  If you wanted to print an instance of this class to the screen, you’d have to
  do something like this:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">Point point <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-18-close">{</span> <span class="token number">5.0</span><span class="token punctuation">,</span> <span class="token number">6.0</span><span class="token punctuation">,</span> <span class="token number">7.0</span> <span class="token punctuation brace-curly brace-close brace-level-1" id="pair-18-open">}</span><span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Point("</span> <span class="token operator">&lt;&lt;</span> point<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-15-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-15-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span>
    point<span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-16-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-16-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span>
    point<span class="token punctuation">.</span><span class="token function">getZ</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-17-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-17-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">')'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Of course, it makes more sense to do this as a reusable function. And in
  previous examples, you’ve seen us create <code>print()</code> functions that
  work like this:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-class">class</span> <span class="token class-name">Point</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-35-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-double">double</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-24-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-24-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-25-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-25-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> m_z<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-26-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-26-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Point</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-19-close">(</span><span class="token keyword keyword-double">double</span> x<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> y<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> z<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-19-open">)</span>
      <span class="token operator">:</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-27-close">{</span>x<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-27-open">}</span><span class="token punctuation">,</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-28-close">{</span>y<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-28-open">}</span><span class="token punctuation">,</span> m_z<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-29-close">{</span>z<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-29-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-30-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-30-open">}</span>

    <span class="token keyword keyword-double">double</span> <span class="token function">getX</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-20-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-20-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-31-close">{</span> <span class="token keyword keyword-return">return</span> m_x<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-31-open">}</span>
    <span class="token keyword keyword-double">double</span> <span class="token function">getY</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-21-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-21-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-32-close">{</span> <span class="token keyword keyword-return">return</span> m_y<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-32-open">}</span>
    <span class="token keyword keyword-double">double</span> <span class="token function">getZ</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-22-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-22-open">)</span> <span class="token keyword keyword-const">const</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-33-close">{</span> <span class="token keyword keyword-return">return</span> m_z<span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-33-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-23-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-23-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-34-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Point("</span> <span class="token operator">&lt;&lt;</span> m_x <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> m_y <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> m_z <span class="token operator">&lt;&lt;</span> <span class="token string">')'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-34-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-35-open">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  While this is much better, it still has some downsides. Because
  <code>print()</code> returns <code>void</code>, it can’t be called in the
  middle of an output statement. Instead, you have to do this:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-36-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-36-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-39-close">{</span>
    <span class="token keyword keyword-const">const</span> Point point <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-38-close">{</span> <span class="token number">5.0</span><span class="token punctuation">,</span> <span class="token number">6.0</span><span class="token punctuation">,</span> <span class="token number">7.0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-38-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"My point is: "</span><span class="token punctuation">;</span>
    point<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-37-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-37-open">)</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">" in Cartesian space.\n"</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-39-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>It would be much easier if you could simply type:</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">Point point<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-40-close">{</span><span class="token number">5.0</span><span class="token punctuation">,</span> <span class="token number">6.0</span><span class="token punctuation">,</span> <span class="token number">7.0</span><span class="token punctuation brace-curly brace-close brace-level-1" id="pair-40-open">}</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">"My point is: "</span> <span class="token operator">&lt;&lt;</span> point <span class="token operator">&lt;&lt;</span> <span class="token string">" in Cartesian space.\n"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  and get the same result. There would be no breaking up output across multiple
  statements, and no having to remember what you named the print function.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2077160559&amp;adf=4096167625&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750839160&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Foverloading-the-io-operators%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963298641&amp;bpp=1&amp;bdt=1206&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=8612638229908&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1790&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362656%2C95365225%2C95365235%2C95365461%2C42533293%2C95359266%2C95365121%2C95365797&amp;oid=2&amp;pvsid=3135557704851256&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=24"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-google-query-id="CIO8lfDrrI4DFfRUDwIdM4IzJg"
        data-load-complete="true"
      ></iframe></div
  ></ins>
</div>
<p>Fortunately, by overloading <code>operator&lt;&lt;</code>, you can!</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Overloading <code>operator&lt;&lt;</code>
</p>
<p>
  Overloading <code>operator&lt;&lt;</code> is similar to overloading operator+
  (they are both binary operators), except that the parameter types are
  different.
</p>
<p>
  Consider the expression <code>std::cout &lt;&lt; point</code>. If the operator
  is <code>&lt;&lt;</code>, what are the operands? The left operand is the
  <code>std::cout</code> object, and the right operand is your
  <code>Point</code> class object. <code>std::cout</code> is actually an object
  of type <code>std::ostream</code>. Therefore, our overloaded function will
  look like this:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// std::ostream is the type for object std::cout</span>
<span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-41-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> point<span class="token punctuation brace-round brace-close brace-level-1" id="pair-41-open">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Implementation of <code>operator&lt;&lt;</code> for our
  <code>Point</code> class is fairly straightforward -- because C++ already
  knows how to output doubles using <code>operator&lt;&lt;</code>, and our
  members are all doubles, we can simply use <code>operator&lt;&lt;</code> to
  output the data members of our <code>Point</code>. Here is the above
  <code>Point</code> class with the overloaded <code>operator&lt;&lt;</code>.
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Point</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-53-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-double">double</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-46-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-46-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-47-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-47-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> m_z<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-48-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-48-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Point</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-42-close">(</span><span class="token keyword keyword-double">double</span> x<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> y<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> z<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-42-open">)</span>
      <span class="token operator">:</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-49-close">{</span>x<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-49-open">}</span><span class="token punctuation">,</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-50-close">{</span>y<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-50-open">}</span><span class="token punctuation">,</span> m_z<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-51-close">{</span>z<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-51-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-52-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-52-open">}</span>

    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-43-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> point<span class="token punctuation brace-round brace-close brace-level-2" id="pair-43-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-53-open">}</span><span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-44-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> point<span class="token punctuation brace-round brace-close brace-level-1" id="pair-44-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-54-close">{</span>
    <span class="token comment">// Since operator&lt;&lt; is a friend of the Point class, we can access Point's members directly.</span>
    out <span class="token operator">&lt;&lt;</span> <span class="token string">"Point("</span> <span class="token operator">&lt;&lt;</span> point<span class="token punctuation">.</span>m_x <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> point<span class="token punctuation">.</span>m_y <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> point<span class="token punctuation">.</span>m_z <span class="token operator">&lt;&lt;</span> <span class="token string">')'</span><span class="token punctuation">;</span> <span class="token comment">// actual output done here</span>

    <span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span> <span class="token comment">// return std::ostream so we can chain calls to operator&lt;&lt;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-54-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-45-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-45-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-56-close">{</span>
    <span class="token keyword keyword-const">const</span> Point point1 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-55-close">{</span> <span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">3.0</span><span class="token punctuation">,</span> <span class="token number">4.0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-55-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> point1 <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-56-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  This is pretty straightforward -- note how similar our output line is to the
  line in the <code>print()</code> function we wrote previously. The most
  notable difference is that <code>std::cout</code> has become parameter
  <code>out</code> (which will be a reference to <code>std::cout</code> when the
  function is called).
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2077160559&amp;adf=1503770594&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750839160&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Foverloading-the-io-operators%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963298641&amp;bpp=1&amp;bdt=1206&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=8612638229908&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3052&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362656%2C95365225%2C95365235%2C95365461%2C42533293%2C95359266%2C95365121%2C95365797&amp;oid=2&amp;pvsid=3135557704851256&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=24"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CIOqlvDrrI4DFZVeDwId_FgPyA"
      ></iframe></div
  ></ins>
</div>
<p>
  The trickiest part here is the return type. With the arithmetic operators, we
  calculated and returned a single answer by value (because we were creating and
  returning a new result). However, if you try to return
  <code>std::ostream</code> by value, you’ll get a compiler error. This happens
  because <code>std::ostream</code> specifically disallows being copied.
</p>
<p>
  In this case, we return the left hand parameter as a reference. This not only
  prevents a copy of <code>std::ostream</code> from being made, it also allows
  us to “chain” output commands together, such as
  <code>std::cout &lt;&lt; point &lt;&lt; '\n'</code>.
</p>
<p>
  Consider what would happen if our <code>operator&lt;&lt;</code> returned
  <code>void</code> instead. When the compiler evaluates
  <code>std::cout &lt;&lt; point &lt;&lt; '\n'</code>, due to the
  precedence/associativity rules, it evaluates this expression as
  <code>(std::cout &lt;&lt; point) &lt;&lt; '\n';</code>.
  <code>std::cout &lt;&lt; point</code> would call our void-returning overloaded
  <code>operator&lt;&lt;</code> function, which returns <code>void</code>. Then
  the partially evaluated expression becomes: <code>void &lt;&lt; '\n';</code>,
  which makes no sense!
</p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>
  By returning the <code>out</code> parameter as the return type instead,
  <code>(std::cout &lt;&lt; point)</code> returns <code>std::cout</code>. Then
  our partially evaluated expression becomes:
  <code>std::cout &lt;&lt; '\n';</code>, which then gets evaluated itself!
</p>
<p>
  Any time we want our overloaded binary operators to be chainable in such a
  manner, the left operand should be returned (by reference). Returning the
  left-hand parameter by reference is okay in this case -- since the left-hand
  parameter was passed in by the calling function, it must still exist when the
  called function returns. Therefore, we don’t have to worry about referencing
  something that will go out of scope and get destroyed when the operator
  returns.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2077160559&amp;adf=64917822&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750839160&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Foverloading-the-io-operators%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963298641&amp;bpp=1&amp;bdt=1206&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=8612638229908&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3681&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362656%2C95365225%2C95365235%2C95365461%2C42533293%2C95359266%2C95365121%2C95365797&amp;oid=2&amp;pvsid=3135557704851256&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=25"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CLyslvDrrI4DFfdVDwIdqhsDxQ"
      ></iframe></div
  ></ins>
</div>
<p>
  Just to prove it works, consider the following example, which uses the Point
  class with the overloaded <code>operator&lt;&lt;</code> we wrote above:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Point</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-68-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-double">double</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-61-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-61-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-62-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-62-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> m_z<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-63-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-63-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Point</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-57-close">(</span><span class="token keyword keyword-double">double</span> x<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> y<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> z<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-57-open">)</span>
      <span class="token operator">:</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-64-close">{</span>x<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-64-open">}</span><span class="token punctuation">,</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-65-close">{</span>y<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-65-open">}</span><span class="token punctuation">,</span> m_z<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-66-close">{</span>z<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-66-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-67-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-67-open">}</span>

    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-58-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> point<span class="token punctuation brace-round brace-close brace-level-2" id="pair-58-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-68-open">}</span><span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-59-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> point<span class="token punctuation brace-round brace-close brace-level-1" id="pair-59-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-69-close">{</span>
    <span class="token comment">// Since operator&lt;&lt; is a friend of the Point class, we can access Point's members directly.</span>
    out <span class="token operator">&lt;&lt;</span> <span class="token string">"Point("</span> <span class="token operator">&lt;&lt;</span> point<span class="token punctuation">.</span>m_x <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> point<span class="token punctuation">.</span>m_y <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> point<span class="token punctuation">.</span>m_z <span class="token operator">&lt;&lt;</span> <span class="token string">')'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-69-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-60-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-60-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-72-close">{</span>
    Point point1 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-70-close">{</span> <span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">3.5</span><span class="token punctuation">,</span> <span class="token number">4.0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-70-open">}</span><span class="token punctuation">;</span>
    Point point2 <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-71-close">{</span> <span class="token number">6.0</span><span class="token punctuation">,</span> <span class="token number">7.5</span><span class="token punctuation">,</span> <span class="token number">8.0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-71-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> point1 <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span> <span class="token operator">&lt;&lt;</span> point2 <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-72-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This produces the following result:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2077160559&amp;adf=2212644044&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750839160&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Foverloading-the-io-operators%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963298644&amp;bpp=1&amp;bdt=1208&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963214%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963214%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1080x1024&amp;nras=6&amp;correlator=8612638229908&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=4077&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362656%2C95365225%2C95365235%2C95365461%2C42533293%2C95359266%2C95365121%2C95365797&amp;oid=2&amp;pvsid=3135557704851256&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=499"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CPvbsvDrrI4DFWRFDwId-bkf2A"
      ></iframe></div
  ></ins>
</div>
<pre>
Point(2, 3.5, 4) Point(6, 7.5, 8)
</pre>
<p>
  In the above example, <code>operator&lt;&lt;</code> is a friend because it
  needs direct access to the member of <code>Point</code>. However, if the
  members could be accessed via getters, then
  <code>operator&lt;&lt;</code> could be implemented as a non-friend.
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p class="cpp-section cpp-topline" style="clear: both">
  Overloading <code>operator&gt;&gt;</code>
</p>
<p>
  It is also possible to overload the input operator. This is done in a manner
  analogous to overloading the output operator. The key thing you need to know
  is that <code>std::cin</code> is an object of type <code>std::istream</code>.
  Here’s our <code>Point</code> class with an overloaded
  <code>operator&gt;&gt;</code> added:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Point</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-86-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-double">double</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-79-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-79-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-80-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-80-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> m_z<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-81-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-81-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Point</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-73-close">(</span><span class="token keyword keyword-double">double</span> x<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> y<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token keyword keyword-double">double</span> z<span class="token operator">=</span><span class="token number">0.0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-73-open">)</span>
      <span class="token operator">:</span> m_x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-82-close">{</span>x<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-82-open">}</span><span class="token punctuation">,</span> m_y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-83-close">{</span>y<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-83-open">}</span><span class="token punctuation">,</span> m_z<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-84-close">{</span>z<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-84-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-85-close">{</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-85-open">}</span>

    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-74-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> point<span class="token punctuation brace-round brace-close brace-level-2" id="pair-74-open">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&gt;&gt;</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-75-close">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> Point<span class="token operator">&amp;</span> point<span class="token punctuation brace-round brace-close brace-level-2" id="pair-75-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-86-open">}</span><span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-76-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Point<span class="token operator">&amp;</span> point<span class="token punctuation brace-round brace-close brace-level-1" id="pair-76-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-87-close">{</span>
    <span class="token comment">// Since operator&lt;&lt; is a friend of the Point class, we can access Point's members directly.</span>
    out <span class="token operator">&lt;&lt;</span> <span class="token string">"Point("</span> <span class="token operator">&lt;&lt;</span> point<span class="token punctuation">.</span>m_x <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> point<span class="token punctuation">.</span>m_y <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> point<span class="token punctuation">.</span>m_z <span class="token operator">&lt;&lt;</span> <span class="token string">')'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-87-open">}</span>

<span class="token comment">// note that point must be non-const so we can modify the object</span>
std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&gt;&gt;</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-77-close">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> in<span class="token punctuation">,</span> Point<span class="token operator">&amp;</span> point<span class="token punctuation brace-round brace-close brace-level-1" id="pair-77-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-88-close">{</span>
    <span class="token comment">// This version subject to partial extraction issues (see below)</span>
    in <span class="token operator">&gt;&gt;</span> point<span class="token punctuation">.</span>m_x <span class="token operator">&gt;&gt;</span> point<span class="token punctuation">.</span>m_y <span class="token operator">&gt;&gt;</span> point<span class="token punctuation">.</span>m_z<span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> in<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-88-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-78-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-78-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-90-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter a point: "</span><span class="token punctuation">;</span>

    Point point<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-89-close">{</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">3.0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-89-open">}</span><span class="token punctuation">;</span> <span class="token comment">// non-zero test data</span>
    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> point<span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You entered: "</span> <span class="token operator">&lt;&lt;</span> point <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-90-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Assuming the user enters <code>4.0 5.6 7.26</code> as input, the program
  produces the following result:
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<pre>
You entered: Point(4, 5.6, 7.26)
</pre>
<p>
  Now let’s see what happens when the user enters <code>4.0b 5.6 7.26</code> as
  input (notice the <code>b</code> after the <code>4.0</code>):
</p>
<pre>
You entered: Point(4, 0, 3)
</pre>
<p>
  Our point is now a weird hybrid consisting of one value from the user’s input
  (<code>4.0</code>), one value that has been zero-initialized
  (<code>0.0</code>), and one value that was untouched by the input function
  (<code>3.0</code>). That’s… not great!
</p>
<p class="cpp-section cpp-topline" style="clear: both">
  Guarding against partial extraction
</p>
<p>
  When we’re extracting a single value, there are only two possible outcomes:
  the extraction fails, or it is successful. However, when we’re extracting more
  than one value as part of an input operation, things get a bit more
  complicated.
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<p>
  The above implementation of <code>operator&gt;&gt;</code> can result in a
  partial extraction. And this is exactly what we’re seeing with input
  <code>4.0b 5.6 7.26</code>. The extraction to <code>x_y</code> successfully
  extracts <code>4.0</code> from the user’s input, leaving
  <code>b 5.6 7.26</code> in the input stream. The extraction to
  <code>m_y</code> fails to extract <code>b</code>, so <code>m_y</code> is
  copy-assigned the value <code>0.0</code> and the input stream is set to
  failure mode. Since we haven’t cleared failure mode, the extraction to
  <code>m_z</code> aborts immediately, and the value that <code>m_z</code> had
  before the extraction attempt remains (<code>3.0</code>).
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  There is no case where this is a desirable outcome. And in some cases, it
  might even be actively dangerous. Imagine we were writing an
  <code>operator&gt;&gt;</code> for a <code>Fraction</code> object instead.
  After successfully extracting the numerator, a failed extraction to the
  denominator would set the denominator to <code>0.0</code>, which might later
  cause a divide by zero and cause the application to crash.
</p>
<p>
  So how might we avoid this? One way is to make our operations transactional. A
  <strong>transactional operation</strong> must either completely succeed or
  completely fail -- no partial successes or failures are allowed. This is
  sometimes known as “all or nothing”. If a failure occurs at any point during
  the transaction, prior changes made by the operation must be undone.
</p>
<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Key insight</p>
  <p>
    Transactions occur all the time in real life. Consider the case where I want
    to transfer money from one bank account to another. This requires two steps:
    First the money must first be deducted from one account, and then it must be
    credited to the other account. In the execution of this operation, there are
    three possibilities:
  </p>
  <ul>
    <li>
      The deduction step fails (e.g. not enough funds). The transaction fails,
      and neither account balance reflects the transfer.
    </li>
    <li>
      The crediting step fails (e.g. due to a technical problem). In this case,
      the deduction (which has already succeeded) must be undone. The
      transaction fails, and neither account balance reflects the transfer.
    </li>
    <li>
      Both steps succeed. The transaction is successful, and both account
      balances reflect the transfer.
    </li>
  </ul>
  <p>
    The end result is that there are only two possible outcomes: the transfer
    fully fails and the account balances are unchanged, or the transfer succeeds
    and the account balances are both changed.
  </p>
</div>
<p>
  Let’s reimplement our overloaded <code>Point</code>
  <code>operator&gt;&gt;</code> as a transactional operation:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// note that point must be non-const so we can modify the object</span>
<span class="token comment">// note that this implementation is a non-friend</span>
std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&gt;&gt;</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-91-close">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> in<span class="token punctuation">,</span> Point<span class="token operator">&amp;</span> point<span class="token punctuation brace-round brace-close brace-level-1" id="pair-91-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-97-close">{</span>
    <span class="token keyword keyword-double">double</span> x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-93-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-93-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-94-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-94-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> z<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-95-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-95-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-92-close">(</span>in <span class="token operator">&gt;&gt;</span> x <span class="token operator">&gt;&gt;</span> y <span class="token operator">&gt;&gt;</span> z<span class="token punctuation brace-round brace-close brace-level-2" id="pair-92-open">)</span>      <span class="token comment">// if all extractions succeeded</span>
        point <span class="token operator">=</span> Point<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-96-close">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-96-open">}</span><span class="token punctuation">;</span> <span class="token comment">// overwrite our existing point</span>

    <span class="token keyword keyword-return">return</span> in<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-97-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In this implementation, we’re not overwriting the data members directly with
  the user’s input. Instead, we’re extracting the user’s input to temporary
  variables (<code>x</code>, <code>y</code>, and <code>z</code>). Once all
  extraction attempts have completed, we check whether all extractions were
  successful. If so, then we update all the members of
  <code>Point</code> together. Otherwise, we do not update any of them.
</p>
<div class="code-block code-block-6" style="margin: 8px 0; clear: both"></div>

<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Tip</p>
  <div
    class="google-auto-placed ap_container"
    style="width: 100%; height: auto; clear: both; text-align: center"
  >
    <ins
      data-ad-format="auto"
      class="adsbygoogle adsbygoogle-noablate"
      data-ad-client="ca-pub-0588844875925051"
      data-adsbygoogle-status="done"
      style="
        display: block;
        margin: auto;
        background-color: transparent;
        height: 280px;
      "
      ><div
        id="aswift_11_host"
        style="
          border: none;
          height: 280px;
          width: 995px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
        "
      ></div
    ></ins>
  </div>
  <p>
    <code>if (in &gt;&gt; x &gt;&gt; y &gt;&gt; z)</code> is equivalent to
    <code>in &gt;&gt; x &gt;&gt; y &gt;&gt; z; if (in)</code>. Remember, each
    extraction returns <code>in</code> so that multiple extractions can be
    chained together. The single-statement version uses the
    <code>in</code> returned from the last extraction as the condition of the
    if-statement, whereas the multi-statement version uses
    <code>in</code> explicitly.
  </p>
</div>
<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Tip</p>
  <p>
    Transactional operations can be implemented using a number of different
    strategies. For example:
  </p>
  <ul>
    <li>
      Alter on success: Store the result of each sub-operation. If all
      sub-operations succeed, replace the relevant data with the stored results.
      This is the strategy we use in the <code>Point</code> example above.
    </li>
    <li>
      Restore on failure: Copy any data that can be altered. If any
      sub-operation fails, the changes made by prior sub-operations can be
      reverted using the data from copy.
    </li>
    <li>
      Rollback on failure: If any sub-operation fails, each prior sub-operation
      is reversed (using an opposite sub-operation). This strategy is often used
      in databases, where the data is too large to back up, and the result of
      sub-operations can’t be stored.
    </li>
  </ul>
</div>
<p>
  While the above <code>operator&gt;&gt;</code> prevents partial extractions, it
  is inconsistent with how <code>operator&gt;&gt;</code> works for fundamental
  types. When extraction to an object with a fundamental type fails, the object
  isn’t left unaltered -- it is copy assigned the value <code>0</code> (this
  ensures the object has some consistent value in case it wasn’t initialized
  before the extraction attempt). Therefore, for consistency, you may wish to
  have a failed extraction reset the object to its default state (at least in
  cases where such a thing exists).
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_12_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>
  Here’s an alternate version of <code>operator&gt;&gt;</code> that resets
  <code>Point</code> to its default state if any extraction fails:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token comment">// note that point must be non-const so we can modify the object</span>
<span class="token comment">// note that this implementation is a non-friend</span>
std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&gt;&gt;</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-98-close">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> in<span class="token punctuation">,</span> Point<span class="token operator">&amp;</span> point<span class="token punctuation brace-round brace-close brace-level-1" id="pair-98-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-104-close">{</span>
    <span class="token keyword keyword-double">double</span> x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-99-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-99-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-100-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-100-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> z<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-101-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-101-open">}</span><span class="token punctuation">;</span>

    in <span class="token operator">&gt;&gt;</span> x <span class="token operator">&gt;&gt;</span> y <span class="token operator">&gt;&gt;</span> z<span class="token punctuation">;</span>
    point <span class="token operator">=</span> in <span class="token operator">?</span> Point<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-102-close">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-102-open">}</span> <span class="token operator">:</span> Point<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-103-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-103-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> in<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-104-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">Author’s note</p>
  <p>
    Such an operation is technically no longer transactional (because failure
    doesn’t “do nothing”). There doesn’t appear to be a general term for
    operations that guarantee no partial results. Perhaps “indivisible
    operation”.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Handling semantically invalid input
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_13_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<p>Extraction can fail in different ways.</p>
<p>
  In cases where <code>operator&gt;&gt;</code> simply fails to extract anything
  to a variable, <code>std::cin</code> will automatically be placed in failure
  mode (which we discuss in lesson
  <a
    href="https://www.learncpp.com/cpp-tutorial/stdcin-and-handling-invalid-input/"
    >9.5 -- std::cin and handling invalid input</a
  >). The caller of this function can then check <code>std::cin</code> to see if
  it failed and handle that case as appropriate.
</p>
<p>
  But what about cases where the user inputs a value that is extractable but
  semantically invalid (e.g. a <code>Fraction</code> with a denominator of
  <code>0</code>)? Because <code>std::cin</code> did extract something, it won’t
  go into failure mode automatically. And then the caller probably won’t realize
  something went wrong.
</p>
<div class="code-block code-block-7" style="margin: 8px 0; clear: both"></div>

<p>
  To address this, we can have our overloaded
  <code>operator&gt;&gt;</code> determine whether any of the values that were
  extracted are semantically invalid, and if so, manually put the input stream
  in failure mode. This can be done by calling
  <code>std::cin.setstate(std::ios_base::failbit);</code>.
</p>
<p>
  Here’s an example of a transactional overloaded
  <code>operator&gt;&gt;</code> for <code>Point</code> that will cause the input
  stream to enter failure mode if the user inputs an extractable negative value:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&gt;&gt;</span> <span class="token punctuation brace-round brace-open brace-level-1" id="pair-105-close">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> in<span class="token punctuation">,</span> Point<span class="token operator">&amp;</span> point<span class="token punctuation brace-round brace-close brace-level-1" id="pair-105-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-113-close">{</span>
    <span class="token keyword keyword-double">double</span> x<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-108-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-108-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> y<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-109-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-109-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-double">double</span> z<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-110-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-110-open">}</span><span class="token punctuation">;</span>

    in <span class="token operator">&gt;&gt;</span> x <span class="token operator">&gt;&gt;</span> y <span class="token operator">&gt;&gt;</span> z<span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-106-close">(</span>x <span class="token operator">&lt;</span> <span class="token number">0.0</span> <span class="token operator">||</span> y <span class="token operator">&lt;</span> <span class="token number">0.0</span> <span class="token operator">||</span> z <span class="token operator">&lt;</span> <span class="token number">0.0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-106-open">)</span>       <span class="token comment">// if any extractable input is negative</span>
        in<span class="token punctuation">.</span><span class="token function">setstate</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-107-close">(</span>std<span class="token double-colon punctuation">::</span>ios_base<span class="token double-colon punctuation">::</span>failbit<span class="token punctuation brace-round brace-close brace-level-2" id="pair-107-open">)</span><span class="token punctuation">;</span> <span class="token comment">// set failure mode manually</span>
    point <span class="token operator">=</span> in <span class="token operator">?</span> Point<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-111-close">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-111-open">}</span> <span class="token operator">:</span> Point<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-112-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-112-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> in<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-113-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p class="cpp-section cpp-topline" style="clear: both">Conclusion</p>
<p>
  Overloading <code>operator&lt;&lt;</code> and
  <code>operator&gt;&gt;</code> make it easy to output your class to screen and
  accept user input from the console.
</p>
<p class="cpp-section cpp-topline" style="clear: both">Quiz time</p>
<p class="cpp-quiz-question" style="clear: both">Question #1</p>
<p>
  Take the Fraction class below and add an overloaded
  <code>operator&lt;&lt;</code> and <code>operator&gt;&gt;</code> to it. Your
  <code>operator&gt;&gt;</code> should avoid partial extractions and fail if
  user inputs a denominator of <code>0</code>. It should not reset the Fraction
  to default on failure.
</p>
<div class="code-block code-block-8" style="margin: 8px 0; clear: both"></div>

<p>The following program should compile:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-114-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-114-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-117-close">{</span>
	Fraction f1<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-115-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-115-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter fraction 1: "</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> f1<span class="token punctuation">;</span>

	Fraction f2<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-116-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-116-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter fraction 2: "</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> f2<span class="token punctuation">;</span>

	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> f1 <span class="token operator">&lt;&lt;</span> <span class="token string">" * "</span> <span class="token operator">&lt;&lt;</span> f2 <span class="token operator">&lt;&lt;</span> <span class="token string">" is "</span> <span class="token operator">&lt;&lt;</span> f1 <span class="token operator">*</span> f2 <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// note: The result of f1 * f2 is an r-value</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-117-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>And produce the result:</p>
<pre>
Enter fraction 1: 2/3
Enter fraction 2: 3/8
2/3 * 3/8 is 1/4
</pre>
<p>Here’s the Fraction class:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;numeric&gt;</span> <span class="token comment">// for std::gcd</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Fraction</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-139-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
	<span class="token keyword keyword-int">int</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-130-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-130-open">}</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-int">int</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-131-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-131-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
	<span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-118-close">(</span><span class="token keyword keyword-int">int</span> numerator<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-118-open">)</span><span class="token operator">:</span>
		m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-132-close">{</span>numerator<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-132-open">}</span><span class="token punctuation">,</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-133-close">{</span>denominator<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-133-open">}</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-134-close">{</span>
		<span class="token comment">// We put reduce() in the constructor to ensure any new fractions we make get reduced!</span>
		<span class="token comment">// Any fractions that are overwritten will need to be re-reduced</span>
		<span class="token function">reduce</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-119-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-119-open">)</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-134-open">}</span>

	<span class="token keyword keyword-void">void</span> <span class="token function">reduce</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-120-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-120-open">)</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-137-close">{</span>
		<span class="token keyword keyword-int">int</span> gcd<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-135-close">{</span> std<span class="token double-colon punctuation">::</span><span class="token function">gcd</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-121-close">(</span>m_numerator<span class="token punctuation">,</span> m_denominator<span class="token punctuation brace-round brace-close brace-level-4" id="pair-121-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-135-open">}</span><span class="token punctuation">;</span>
		<span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-122-close">(</span>gcd<span class="token punctuation brace-round brace-close brace-level-3" id="pair-122-open">)</span>
		<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-136-close">{</span>
			m_numerator <span class="token operator">/=</span> gcd<span class="token punctuation">;</span>
			m_denominator <span class="token operator">/=</span> gcd<span class="token punctuation">;</span>
		<span class="token punctuation brace-curly brace-close brace-level-3" id="pair-136-open">}</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-137-open">}</span>

	<span class="token keyword keyword-friend">friend</span> Fraction <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-123-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f2<span class="token punctuation brace-round brace-close brace-level-2" id="pair-123-open">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-friend">friend</span> Fraction <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-124-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> value<span class="token punctuation brace-round brace-close brace-level-2" id="pair-124-open">)</span><span class="token punctuation">;</span>
	<span class="token keyword keyword-friend">friend</span> Fraction <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-125-close">(</span><span class="token keyword keyword-int">int</span> value<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation brace-round brace-close brace-level-2" id="pair-125-open">)</span><span class="token punctuation">;</span>

	<span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-126-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-126-open">)</span> <span class="token keyword keyword-const">const</span>
	<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-138-close">{</span>
		std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> m_numerator <span class="token operator">&lt;&lt;</span> <span class="token string">'/'</span> <span class="token operator">&lt;&lt;</span> m_denominator <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
	<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-138-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-139-open">}</span><span class="token punctuation">;</span>

Fraction <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-127-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f2<span class="token punctuation brace-round brace-close brace-level-1" id="pair-127-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-141-close">{</span>
	<span class="token keyword keyword-return">return</span> Fraction <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-140-close">{</span> f1<span class="token punctuation">.</span>m_numerator <span class="token operator">*</span> f2<span class="token punctuation">.</span>m_numerator<span class="token punctuation">,</span> f1<span class="token punctuation">.</span>m_denominator <span class="token operator">*</span> f2<span class="token punctuation">.</span>m_denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-140-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-141-open">}</span>

Fraction <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-128-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> value<span class="token punctuation brace-round brace-close brace-level-1" id="pair-128-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-143-close">{</span>
	<span class="token keyword keyword-return">return</span> Fraction <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-142-close">{</span> f1<span class="token punctuation">.</span>m_numerator <span class="token operator">*</span> value<span class="token punctuation">,</span> f1<span class="token punctuation">.</span>m_denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-142-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-143-open">}</span>

Fraction <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-129-close">(</span><span class="token keyword keyword-int">int</span> value<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation brace-round brace-close brace-level-1" id="pair-129-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-145-close">{</span>
	<span class="token keyword keyword-return">return</span> Fraction <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-144-close">{</span> f1<span class="token punctuation">.</span>m_numerator <span class="token operator">*</span> value<span class="token punctuation">,</span> f1<span class="token punctuation">.</span>m_denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-144-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-145-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  If you’re on a pre-C++17 compiler, you can replace std::gcd with this
  function:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;cmath&gt;</span></span>

<span class="token keyword keyword-int">int</span> <span class="token function">gcd</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-146-close">(</span><span class="token keyword keyword-int">int</span> a<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> b<span class="token punctuation brace-round brace-close brace-level-1" id="pair-146-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-1" id="pair-150-close">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-147-close">(</span>b <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-147-open">)</span> <span class="token operator">?</span> std<span class="token double-colon punctuation">::</span><span class="token function">abs</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-148-close">(</span>a<span class="token punctuation brace-round brace-close brace-level-2" id="pair-148-open">)</span> <span class="token operator">:</span> <span class="token function">gcd</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-149-close">(</span>b<span class="token punctuation">,</span> a <span class="token operator">%</span> b<span class="token punctuation brace-round brace-close brace-level-2" id="pair-149-open">)</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-150-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  <a
    class="solution_link_show"
    href="javascript:void(0)"
    onclick="cppSolutionToggle(document.getElementById('cpp_solution_id_0'), this, 'Show Solution', 'Hide Solution')"
    >Show Solution</a
  >
</p>
<div class="wpsolution" id="cpp_solution_id_0" style="display: none">
  <div class="code-toolbar">
    <pre
      class="line-numbers language-cpp"
      tabindex="0"
    ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;limits&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;numeric&gt;</span> <span class="token comment">// for std::gcd</span></span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Fraction</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-179-close">{</span>
<span class="token keyword keyword-private">private</span><span class="token operator">:</span>
    <span class="token keyword keyword-int">int</span> m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-170-close">{</span> <span class="token number">0</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-170-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-171-close">{</span> <span class="token number">1</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-171-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Fraction</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-151-close">(</span><span class="token keyword keyword-int">int</span> numerator<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> denominator <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-151-open">)</span> <span class="token operator">:</span>
        m_numerator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-172-close">{</span> numerator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-172-open">}</span><span class="token punctuation">,</span> m_denominator<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-173-close">{</span> denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-173-open">}</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-174-close">{</span>
        <span class="token comment">// We put reduce() in the constructor to ensure any new fractions we make get reduced!</span>
        <span class="token comment">// Any fractions that are overwritten will need to be re-reduced</span>
        <span class="token function">reduce</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-152-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-152-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-174-open">}</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">reduce</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-153-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-153-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-177-close">{</span>
        <span class="token keyword keyword-int">int</span> gcd<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-175-close">{</span> std<span class="token double-colon punctuation">::</span><span class="token function">gcd</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-154-close">(</span>m_numerator<span class="token punctuation">,</span> m_denominator<span class="token punctuation brace-round brace-close brace-level-4" id="pair-154-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-175-open">}</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-155-close">(</span>gcd<span class="token punctuation brace-round brace-close brace-level-3" id="pair-155-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-176-close">{</span>
            m_numerator <span class="token operator">/=</span> gcd<span class="token punctuation">;</span>
            m_denominator <span class="token operator">/=</span> gcd<span class="token punctuation">;</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-176-open">}</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-177-open">}</span>

    <span class="token keyword keyword-friend">friend</span> Fraction <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-156-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f2<span class="token punctuation brace-round brace-close brace-level-2" id="pair-156-open">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-friend">friend</span> Fraction <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-157-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> value<span class="token punctuation brace-round brace-close brace-level-2" id="pair-157-open">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-friend">friend</span> Fraction <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-158-close">(</span><span class="token keyword keyword-int">int</span> value<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation brace-round brace-close brace-level-2" id="pair-158-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-friend">friend</span> std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-159-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation brace-round brace-close brace-level-2" id="pair-159-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-160-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-160-open">)</span> <span class="token keyword keyword-const">const</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-178-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> m_numerator <span class="token operator">&lt;&lt;</span> <span class="token string">'/'</span> <span class="token operator">&lt;&lt;</span> m_denominator <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-178-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-179-open">}</span><span class="token punctuation">;</span>

Fraction <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-161-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f2<span class="token punctuation brace-round brace-close brace-level-1" id="pair-161-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-181-close">{</span>
    <span class="token keyword keyword-return">return</span> Fraction <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-180-close">{</span> f1<span class="token punctuation">.</span>m_numerator <span class="token operator">*</span> f2<span class="token punctuation">.</span>m_numerator<span class="token punctuation">,</span> f1<span class="token punctuation">.</span>m_denominator <span class="token operator">*</span> f2<span class="token punctuation">.</span>m_denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-180-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-181-open">}</span>

Fraction <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-162-close">(</span><span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> value<span class="token punctuation brace-round brace-close brace-level-1" id="pair-162-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-183-close">{</span>
    <span class="token keyword keyword-return">return</span> Fraction <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-182-close">{</span> f1<span class="token punctuation">.</span>m_numerator <span class="token operator">*</span> value<span class="token punctuation">,</span> f1<span class="token punctuation">.</span>m_denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-182-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-183-open">}</span>

Fraction <span class="token keyword keyword-operator">operator</span><span class="token operator">*</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-163-close">(</span><span class="token keyword keyword-int">int</span> value<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation brace-round brace-close brace-level-1" id="pair-163-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-185-close">{</span>
    <span class="token keyword keyword-return">return</span> Fraction <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-184-close">{</span> f1<span class="token punctuation">.</span>m_numerator <span class="token operator">*</span> value<span class="token punctuation">,</span> f1<span class="token punctuation">.</span>m_denominator <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-184-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-185-open">}</span>

std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-164-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation brace-round brace-close brace-level-1" id="pair-164-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-186-close">{</span>
    out <span class="token operator">&lt;&lt;</span> f1<span class="token punctuation">.</span>m_numerator <span class="token operator">&lt;&lt;</span> <span class="token string">'/'</span> <span class="token operator">&lt;&lt;</span> f1<span class="token punctuation">.</span>m_denominator<span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-186-open">}</span>

std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-165-close">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> in<span class="token punctuation">,</span> Fraction<span class="token operator">&amp;</span> f1<span class="token punctuation brace-round brace-close brace-level-1" id="pair-165-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-191-close">{</span>
    <span class="token keyword keyword-int">int</span> numerator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-187-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-187-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-char">char</span> ignore <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-188-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-188-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> denominator <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-189-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-189-open">}</span><span class="token punctuation">;</span>

    in <span class="token operator">&gt;&gt;</span> numerator <span class="token operator">&gt;&gt;</span> ignore <span class="token operator">&gt;&gt;</span> denominator<span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-166-close">(</span>denominator <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-166-open">)</span>                       <span class="token comment">// if our denominator is semantically invalid</span>
        in<span class="token punctuation">.</span><span class="token function">setstate</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-167-close">(</span>std<span class="token double-colon punctuation">::</span>ios_base<span class="token double-colon punctuation">::</span>failbit<span class="token punctuation brace-round brace-close brace-level-2" id="pair-167-open">)</span><span class="token punctuation">;</span>    <span class="token comment">// set failure mode manually</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-168-close">(</span>in<span class="token punctuation brace-round brace-close brace-level-2" id="pair-168-open">)</span>                                     <span class="token comment">// if we're not in failure mode</span>
        f1 <span class="token operator">=</span> Fraction <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-190-close">{</span>numerator<span class="token punctuation">,</span> denominator<span class="token punctuation brace-curly brace-close brace-level-2" id="pair-190-open">}</span><span class="token punctuation">;</span> <span class="token comment">// update our object to the extracted values</span>

    <span class="token keyword keyword-return">return</span> in<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-191-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-169-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-169-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-194-close">{</span>
    Fraction f1<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-192-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-192-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter fraction 1: "</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> f1<span class="token punctuation">;</span>

    Fraction f2<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-193-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-193-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter fraction 2: "</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> f2<span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> f1 <span class="token operator">&lt;&lt;</span> <span class="token string">" * "</span> <span class="token operator">&lt;&lt;</span> f2 <span class="token operator">&lt;&lt;</span> <span class="token string">" is "</span> <span class="token operator">&lt;&lt;</span> f1 <span class="token operator">*</span> f2 <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// note: The result of f1 * f2 is an r-value</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-194-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span><span style="height: 0px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
    <div class="toolbar">
      <div class="toolbar-item">
        <button
          class="copy-to-clipboard-button"
          type="button"
          data-copy-state="copy"
        >
          <span>Copy</span>
        </button>
      </div>
    </div>
  </div>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/overloading-operators-using-member-functions/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">21.5</span>Overloading
            operators using member functions
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/overloading-operators-using-normal-functions/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">21.3</span>Overloading
            operators using normal functions
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
