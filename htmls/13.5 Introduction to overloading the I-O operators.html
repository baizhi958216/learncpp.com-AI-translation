<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  In the prior lesson (<a
    href="https://www.learncpp.com/cpp-tutorial/converting-an-enumeration-to-and-from-a-string/"
    >13.4 -- Converting an enumeration to and from a string</a
  >), we showed this example, where we used a function to convert an enumeration
  into an equivalent string:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-enum">enum</span> <span class="token class-name">Color</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-4-close">{</span>
    black<span class="token punctuation">,</span>
    red<span class="token punctuation">,</span>
    blue<span class="token punctuation">,</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-4-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getColorName</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-0-close">(</span>Color color<span class="token punctuation brace-round brace-close brace-level-1" id="pair-0-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-6-close">{</span>
    <span class="token keyword keyword-switch">switch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-1-close">(</span>color<span class="token punctuation brace-round brace-close brace-level-2" id="pair-1-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-5-close">{</span>
    <span class="token keyword keyword-case">case</span> black<span class="token operator">:</span> <span class="token keyword keyword-return">return</span> <span class="token string">"black"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> red<span class="token operator">:</span>   <span class="token keyword keyword-return">return</span> <span class="token string">"red"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> blue<span class="token operator">:</span>  <span class="token keyword keyword-return">return</span> <span class="token string">"blue"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-default">default</span><span class="token operator">:</span>    <span class="token keyword keyword-return">return</span> <span class="token string">"???"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-5-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-6-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-2-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-2-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-8-close">{</span>
    <span class="token keyword keyword-constexpr">constexpr</span> Color shirt<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-7-close">{</span> blue <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-7-open">}</span><span class="token punctuation">;</span>

    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Your shirt is "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">getColorName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-3-close">(</span>shirt<span class="token punctuation brace-round brace-close brace-level-2" id="pair-3-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-8-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>Although the above example works just fine, there are two downsides:</p>
<ol start="1">
  <li>
    We have to remember the name of the function we created to get the
    enumerator name.
  </li>
  <li>Having to call such a function adds clutter to our output statement.</li>
</ol>
<p>
  Ideally, it would be nice if we could somehow teach
  <code>operator&lt;&lt;</code> to output an enumeration, so we could do
  something like this: <code>std::cout &lt;&lt; shirt</code> and have it do what
  we expect.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=455747889&amp;adf=643099739&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749835962&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-overloading-the-i-o-operators%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962793054&amp;bpp=1&amp;bdt=1368&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962604%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=477319701164&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1158&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362656%2C95365225%2C95365235%2C95365107%2C95359265%2C95365120%2C95365797%2C31092547&amp;oid=2&amp;pvsid=5090728315686899&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=12"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CL6Xiv_prI4DFTxgDwIdrAwfdA"
      ></iframe></div
  ></ins>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  Introduction to operator overloading
</p>
<p>
  In lesson
  <a
    href="https://www.learncpp.com/cpp-tutorial/introduction-to-function-overloading/"
    >11.1 -- Introduction to function overloading</a
  >, we introduced function overloading, which allows us to create multiple
  functions with the same name so long as each function has a unique function
  prototype. Using function overloading, we can create variations of a function
  that work with different data types, without having to think up a unique name
  for each variant.
</p>
<p>
  Similarly, C++ also supports <strong>operator overloading</strong>, which lets
  us define overloads of existing operators, so that we can make those operators
  work with our program-defined data types.
</p>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p>Basic operator overloading is fairly straightforward:</p>
<ul>
  <li>
    Define a function using the name of the operator as the function’s name.
  </li>
  <li>
    Add a parameter of the appropriate type for each operand (in left-to-right
    order). One of these parameters must be a user-defined type (a class type or
    an enumerated type), otherwise the compiler will error.
  </li>
  <li>Set the return type to whatever type makes sense.</li>
  <li>Use a return statement to return the result of the operation.</li>
</ul>
<p>
  When the compiler encounters the use of an operator in an expression and one
  or more of the operands is a user-defined type, the compiler will check to see
  if there is an overloaded operator function that it can use to resolve that
  call. For example, given some expression <code>x + y</code>, the compiler will
  use function overload resolution to see if there is an
  <code>operator+(x, y)</code> function call that it can use to evaluate the
  operation. If a non-ambiguous <code>operator+</code> function can be found, it
  will be called, and the result of the operation returned as the return value.
</p>
<div class="cpp-note cpp-lightgraybackground" style="height: auto !important">
  <p class="cpp-note-title cpp-bottomline">Related content</p>
  <div
    class="google-auto-placed ap_container"
    style="width: 100%; height: auto; clear: both; text-align: center"
  >
    <ins
      data-ad-format="auto"
      class="adsbygoogle adsbygoogle-noablate"
      data-ad-client="ca-pub-0588844875925051"
      data-adsbygoogle-status="done"
      style="
        display: block;
        margin: auto;
        background-color: transparent;
        height: 0px;
      "
      ><div
        id="aswift_6_host"
        style="
          border: none;
          height: 0px;
          width: 995px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
          overflow: hidden;
          opacity: 0;
        "
      >
        <iframe
          id="aswift_6"
          name="aswift_6"
          browsingtopics="true"
          style="
            left: 0px;
            position: absolute;
            top: 0px;
            border: 0px;
            width: 995px;
            height: 0px;
            min-height: auto;
            max-height: none;
            min-width: auto;
            max-width: none;
          "
          sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
          width="995"
          height="0"
          frameborder="0"
          marginwidth="0"
          marginheight="0"
          vspace="0"
          hspace="0"
          allowtransparency="true"
          scrolling="no"
          allow="attribution-reporting; run-ad-auction"
          src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=608789615&amp;adf=2520992468&amp;w=995&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749835962&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=995x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-overloading-the-i-o-operators%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=994&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962793054&amp;bpp=1&amp;bdt=1368&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962604%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=477319701164&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=43&amp;ady=1918&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362656%2C95365225%2C95365235%2C95365107%2C95359265%2C95365120%2C95365797%2C31092547&amp;oid=2&amp;pvsid=5090728315686899&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=14"
          data-google-container-id="a!7"
          tabindex="0"
          title="Advertisement"
          aria-label="Advertisement"
          data-load-complete="true"
          data-google-query-id="CMi3iv_prI4DFZ9dDwIdVqwT3Q"
        ></iframe></div
    ></ins>
  </div>
  <p>
    We cover operator overloading in much more detail in chapter
    <a href="https://www.learncpp.com#Chapter21">chapter 21</a>.
  </p>
</div>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">For advanced readers</p>
  <p>
    Operators can also be overloaded as member functions of the left-most
    operand. We discuss this in lesson
    <a
      href="https://www.learncpp.com/cpp-tutorial/overloading-operators-using-member-functions/"
      >21.5 -- Overloading operators using member functions</a
    >.
  </p>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  <a name="insertion"></a>Overloading <code>operator&lt;&lt;</code> to print an
  enumerator
  <a href="#insertion"><i class="fa fa-link" style="font-size: 0.8em"></i></a>
</p>
<p>
  Before we proceed, let’s quickly recap how <code>operator&lt;&lt;</code> works
  when used for output.
</p>
<p>
  Consider a simple expression like <code>std::cout &lt;&lt; 5</code>.
  <code>std::cout</code> has type <code>std::ostream</code> (which is a
  user-defined type in the standard library), and <code>5</code> is a literal of
  type <code>int</code>.
</p>
<p>
  When this expression is evaluated, the compiler will look for an overloaded
  <code>operator&lt;&lt;</code> function that can handle arguments of type
  <code>std::ostream</code> and <code>int</code>. It will find such a function
  (also defined as part of the standard I/O library) and call it. Inside that
  function, <code>std::cout</code> is used to output <code>x</code> to the
  console (exactly how is implementation-defined). Finally, the
  <code>operator&lt;&lt;</code> function returns its left-operand (which in this
  case is <code>std::cout</code>), so that subsequent calls to
  <code>operator&lt;&lt;</code> can be chained.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=455747889&amp;adf=3907257180&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749835962&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-overloading-the-i-o-operators%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962793054&amp;bpp=1&amp;bdt=1368&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962604%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C995x280&amp;nras=4&amp;correlator=477319701164&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2608&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362656%2C95365225%2C95365235%2C95365107%2C95359265%2C95365120%2C95365797%2C31092547&amp;oid=2&amp;pvsid=5090728315686899&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=14"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CLeziv_prI4DFZ1fDwId2p4V1Q"
      ></iframe></div
  ></ins>
</div>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>
  With the above in mind, let’s implement an overload of
  <code>operator&lt;&lt;</code> to print a <code>Color</code>:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-enum">enum</span> <span class="token class-name">Color</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-14-close">{</span>
	black<span class="token punctuation">,</span>
	red<span class="token punctuation">,</span>
	blue<span class="token punctuation">,</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-14-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getColorName</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-9-close">(</span>Color color<span class="token punctuation brace-round brace-close brace-level-1" id="pair-9-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-16-close">{</span>
    <span class="token keyword keyword-switch">switch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-10-close">(</span>color<span class="token punctuation brace-round brace-close brace-level-2" id="pair-10-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-15-close">{</span>
    <span class="token keyword keyword-case">case</span> black<span class="token operator">:</span> <span class="token keyword keyword-return">return</span> <span class="token string">"black"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> red<span class="token operator">:</span>   <span class="token keyword keyword-return">return</span> <span class="token string">"red"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> blue<span class="token operator">:</span>  <span class="token keyword keyword-return">return</span> <span class="token string">"blue"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-default">default</span><span class="token operator">:</span>    <span class="token keyword keyword-return">return</span> <span class="token string">"???"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-15-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-16-open">}</span>

<span class="token comment">// Teach operator&lt;&lt; how to print a Color</span>
<span class="token comment">// std::ostream is the type of std::cout, std::cerr, etc...</span>
<span class="token comment">// The return type and parameter type are references (to prevent copies from being made)</span>
std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-11-close">(</span>std<span class="token double-colon punctuation">::</span>ostream<span class="token operator">&amp;</span> out<span class="token punctuation">,</span> Color color<span class="token punctuation brace-round brace-close brace-level-1" id="pair-11-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-17-close">{</span>
    out <span class="token operator">&lt;&lt;</span> <span class="token function">getColorName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-12-close">(</span>color<span class="token punctuation brace-round brace-close brace-level-2" id="pair-12-open">)</span><span class="token punctuation">;</span> <span class="token comment">// print our color's name to whatever output stream out</span>
    <span class="token keyword keyword-return">return</span> out<span class="token punctuation">;</span>                 <span class="token comment">// operator&lt;&lt; conventionally returns its left operand</span>

    <span class="token comment">// The above can be condensed to the following single line:</span>
    <span class="token comment">// return out &lt;&lt; getColorName(color)</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-17-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-13-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-13-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-19-close">{</span>
	Color shirt<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-18-close">{</span> blue <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-18-open">}</span><span class="token punctuation">;</span>
	std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Your shirt is "</span> <span class="token operator">&lt;&lt;</span> shirt <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span> <span class="token comment">// it works!</span>

	<span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-19-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This prints:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=455747889&amp;adf=1533525205&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749835962&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-overloading-the-i-o-operators%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962793054&amp;bpp=1&amp;bdt=1368&amp;idt=1&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962604%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C995x280%2C1027x280&amp;nras=5&amp;correlator=477319701164&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3652&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362656%2C95365225%2C95365235%2C95365107%2C95359265%2C95365120%2C95365797%2C31092547&amp;oid=2&amp;pvsid=5090728315686899&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=15"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CNu8iv_prI4DFaBbDwIdXT4eTw"
      ></iframe></div
  ></ins>
</div>
<pre>
Your shirt is blue
</pre>
<p>
  Let’s unpack our overloaded operator function a bit. First, the name of the
  function is <code>operator&lt;&lt;</code>, since that is the name of the
  operator we’re overloading. <code>operator&lt;&lt;</code> has two parameters.
  The left parameter (which will be matched with the left operand) is our output
  stream, which has type <code>std::ostream</code>. We use pass by non-const
  reference here because we don’t want to make a copy of a
  <code>std::ostream</code> object when the function is called, but the
  <code>std::ostream</code> object needs to be modified in order to do output.
  The right parameter (which will be matched with the right operand) is our
  <code>Color</code> object. Since <code>operator&lt;&lt;</code> conventionally
  returns its left operand, the return type matches the type of the
  left-operand, which is <code>std::ostream&amp;</code>.
</p>
<p>
  Now let’s look at the implementation. A <code>std::ostream</code> object
  already knows how to print a <code>std::string_view</code> using
  <code>operator&lt;&lt;</code> (this comes as part of the standard library). So
  <code>out &lt;&lt; getColorName(color)</code> simply fetches our color’s name
  as a <code>std::string_view</code> and then prints it to the output stream.
</p>
<p>
  Note that our implementation uses parameter <code>out</code> instead of
  <code>std::cout</code> because we want to allow the caller to determine which
  output stream they will output to (e.g.
  <code>std::cerr &lt;&lt; color</code> should output to <code>std::cerr</code>,
  not <code>std::cout</code>).
</p>
<p>
  Returning the left operand is also easy. The left operand is parameter
  <code>out</code>, so we just return <code>out</code>.
</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<p>
  Putting it all together: when we call <code>std::cout &lt;&lt; shirt</code>,
  the compiler will see that we’ve overloaded <code>operator&lt;&lt;</code> to
  work with objects of type <code>Color</code>. Our overloaded
  <code>operator&lt;&lt;</code> function is then called with
  <code>std::cout</code> as the <code>out</code> parameter, and our
  <code>shirt</code> variable (which has value <code>blue</code>) as parameter
  <code>color</code>. Since <code>out</code> is a reference to
  <code>std::cout</code>, and <code>color</code> is a copy of enumerator
  <code>blue</code>, the expression
  <code>out &lt;&lt; getColorName(color)</code> prints <code>"blue"</code> to
  the console. Finally <code>out</code> is returned back to the caller in case
  we want to chain additional output.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=455747889&amp;adf=2490955436&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1749835962&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Fintroduction-to-overloading-the-i-o-operators%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751962793056&amp;bpp=1&amp;bdt=1370&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751962604%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751962604%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C995x280%2C1027x280%2C1027x280&amp;nras=6&amp;correlator=477319701164&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=4090&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=31093235%2C95353386%2C95362656%2C95365225%2C95365235%2C95365107%2C95359265%2C95365120%2C95365797%2C31092547&amp;oid=2&amp;pvsid=5090728315686899&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=5&amp;fsb=1&amp;dtd=155"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        class="ezdensity-1"
        data-google-query-id="CKSKk__prI4DFS9kDwId1KIhWQ"
      ></iframe></div
  ></ins>
</div>
<p class="cpp-section cpp-topline" style="clear: both">
  <a name="extraction"></a>Overloading <code>operator&gt;&gt;</code> to input an
  enumerator
  <a href="#extraction"><i class="fa fa-link" style="font-size: 0.8em"></i></a>
</p>
<p>
  Similar to how we were able to teach <code>operator&lt;&lt;</code> to output
  an enumeration above, we can also teach <code>operator&gt;&gt;</code> how to
  input an enumeration:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;limits&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;optional&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string_view&gt;</span></span>

<span class="token keyword keyword-enum">enum</span> <span class="token class-name">Pet</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-37-close">{</span>
    cat<span class="token punctuation">,</span>   <span class="token comment">// 0</span>
    dog<span class="token punctuation">,</span>   <span class="token comment">// 1</span>
    pig<span class="token punctuation">,</span>   <span class="token comment">// 2</span>
    whale<span class="token punctuation">,</span> <span class="token comment">// 3</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-37-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>string_view <span class="token function">getPetName</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-20-close">(</span>Pet pet<span class="token punctuation brace-round brace-close brace-level-1" id="pair-20-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-39-close">{</span>
    <span class="token keyword keyword-switch">switch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-21-close">(</span>pet<span class="token punctuation brace-round brace-close brace-level-2" id="pair-21-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-38-close">{</span>
    <span class="token keyword keyword-case">case</span> cat<span class="token operator">:</span>   <span class="token keyword keyword-return">return</span> <span class="token string">"cat"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> dog<span class="token operator">:</span>   <span class="token keyword keyword-return">return</span> <span class="token string">"dog"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> pig<span class="token operator">:</span>   <span class="token keyword keyword-return">return</span> <span class="token string">"pig"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-case">case</span> whale<span class="token operator">:</span> <span class="token keyword keyword-return">return</span> <span class="token string">"whale"</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-default">default</span><span class="token operator">:</span>    <span class="token keyword keyword-return">return</span> <span class="token string">"???"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-38-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-39-open">}</span>

<span class="token keyword keyword-constexpr">constexpr</span> std<span class="token double-colon punctuation">::</span>optional<span class="token operator">&lt;</span>Pet<span class="token operator">&gt;</span> <span class="token function">getPetFromString</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-22-close">(</span>std<span class="token double-colon punctuation">::</span>string_view sv<span class="token punctuation brace-round brace-close brace-level-1" id="pair-22-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-41-close">{</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-23-close">(</span>sv <span class="token operator">==</span> <span class="token string">"cat"</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-23-open">)</span>   <span class="token keyword keyword-return">return</span> cat<span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-24-close">(</span>sv <span class="token operator">==</span> <span class="token string">"dog"</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-24-open">)</span>   <span class="token keyword keyword-return">return</span> dog<span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-25-close">(</span>sv <span class="token operator">==</span> <span class="token string">"pig"</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-25-open">)</span>   <span class="token keyword keyword-return">return</span> pig<span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-26-close">(</span>sv <span class="token operator">==</span> <span class="token string">"whale"</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-26-open">)</span> <span class="token keyword keyword-return">return</span> whale<span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-40-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-40-open">}</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-41-open">}</span>

<span class="token comment">// pet is an in/out parameter</span>
std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword keyword-operator">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-27-close">(</span>std<span class="token double-colon punctuation">::</span>istream<span class="token operator">&amp;</span> in<span class="token punctuation">,</span> Pet<span class="token operator">&amp;</span> pet<span class="token punctuation brace-round brace-close brace-level-1" id="pair-27-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-45-close">{</span>
    std<span class="token double-colon punctuation">::</span>string s<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-42-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-42-open">}</span><span class="token punctuation">;</span>
    in <span class="token operator">&gt;&gt;</span> s<span class="token punctuation">;</span> <span class="token comment">// get input string from user</span>

    std<span class="token double-colon punctuation">::</span>optional<span class="token operator">&lt;</span>Pet<span class="token operator">&gt;</span> match <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-43-close">{</span> <span class="token function">getPetFromString</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-28-close">(</span>s<span class="token punctuation brace-round brace-close brace-level-3" id="pair-28-open">)</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-43-open">}</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-29-close">(</span>match<span class="token punctuation brace-round brace-close brace-level-2" id="pair-29-open">)</span> <span class="token comment">// if we found a match</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-44-close">{</span>
        pet <span class="token operator">=</span> <span class="token operator">*</span>match<span class="token punctuation">;</span> <span class="token comment">// dereference std::optional to get matching enumerator</span>
        <span class="token keyword keyword-return">return</span> in<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-44-open">}</span>

    <span class="token comment">// We didn't find a match, so input must have been invalid</span>
    <span class="token comment">// so we will set input stream to fail state</span>
    in<span class="token punctuation">.</span><span class="token function">setstate</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-30-close">(</span>std<span class="token double-colon punctuation">::</span>ios_base<span class="token double-colon punctuation">::</span>failbit<span class="token punctuation brace-round brace-close brace-level-2" id="pair-30-open">)</span><span class="token punctuation">;</span>

    <span class="token comment">// On an extraction failure, operator&gt;&gt; zero-initializes fundamental types</span>
    <span class="token comment">// Uncomment the following line to make this operator do the same thing</span>
    <span class="token comment">// pet = {};</span>

    <span class="token keyword keyword-return">return</span> in<span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-45-open">}</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-31-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-31-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-48-close">{</span>
    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter a pet: cat, dog, pig, or whale: "</span><span class="token punctuation">;</span>
    Pet pet<span class="token punctuation brace-curly brace-open brace-level-2" id="pair-46-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-46-open">}</span><span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> pet<span class="token punctuation">;</span>

    <span class="token keyword keyword-if">if</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-32-close">(</span>std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation brace-round brace-close brace-level-2" id="pair-32-open">)</span> <span class="token comment">// if we found a match</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"You chose: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">getPetName</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-33-close">(</span>pet<span class="token punctuation brace-round brace-close brace-level-2" id="pair-33-open">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-else">else</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-47-close">{</span>
        std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-34-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-34-open">)</span><span class="token punctuation">;</span> <span class="token comment">// reset the input stream to good</span>
        std<span class="token double-colon punctuation">::</span>cin<span class="token punctuation">.</span><span class="token function">ignore</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-36-close">(</span>std<span class="token double-colon punctuation">::</span><span class="token class-name">numeric_limits</span><span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>streamsize<span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-35-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-35-open">)</span><span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-36-open">)</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Your pet was not valid\n"</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-47-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-48-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  There are a few differences from the output case worth noting here. First,
  <code>std::cin</code> has type <code>std::istream</code>, so we use
  <code>std::istream&amp;</code> as the type of our left parameter and return
  value instead of <code>std::ostream&amp;</code>. Second, the
  <code>pet</code> parameter is a non-const reference. This allows our
  <code>operator&gt;&gt;</code> to modify the value of the right operand that is
  passed in if our extraction results in a match.
</p>
<div class="cpp-note cpp-lightbluebackground">
  <p class="cpp-note-title cpp-bottomline">Key insight</p>
  <div
    class="google-auto-placed ap_container"
    style="width: 100%; height: auto; clear: both; text-align: center"
  >
    <ins
      data-ad-format="auto"
      class="adsbygoogle adsbygoogle-noablate"
      data-ad-client="ca-pub-0588844875925051"
      data-adsbygoogle-status="done"
      style="
        display: block;
        margin: auto;
        background-color: transparent;
        height: 280px;
      "
      ><div
        id="aswift_10_host"
        style="
          border: none;
          height: 280px;
          width: 995px;
          margin: 0px;
          padding: 0px;
          position: relative;
          visibility: visible;
          background-color: transparent;
          display: inline-block;
        "
      ></div
    ></ins>
  </div>
  <p>
    Our right operand (<code>pet</code>) is an out parameter. We cover out
    parameters in lesson
    <a href="https://www.learncpp.com/cpp-tutorial/in-and-out-parameters/"
      >12.13 -- In and out parameters</a
    >.
  </p>
  <p>
    If <code>pet</code> was a value parameter rather than a reference parameter,
    then our <code>operator&gt;&gt;</code> function would end up assigning a new
    value to a copy of the right operand rather than the actual right operand.
    We want our right operand to be modified in this case.
  </p>
</div>
<p>
  Inside the function, we use <code>operator&gt;&gt;</code> to input a
  <code>std::string</code> (something it already knows how to do). If the value
  the user enters matches one of our pets, then we can assign
  <code>pet</code> the appropriate enumerator and return the left operand
  (<code>in</code>).
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<p>
  If the user did not enter a valid pet, then we handle that case by putting
  <code>std::cin</code> into “failure mode”. This is the state that
  <code>std::cin</code> typically goes into when an extraction fails. The caller
  can then check <code>std::cin</code> to see if the extraction succeeded or
  failed.
</p>
<div class="cpp-note cpp-lightgraybackground">
  <p class="cpp-note-title cpp-bottomline">Related content</p>
  <p>
    In lesson
    <a href="https://www.learncpp.com/cpp-tutorial/stdarray-and-enumerations/"
      >17.6 -- std::array and enumerations</a
    >, we show how we can use <code>std::array</code> to make our input and
    output operators less redundant, and avoid having to modify them when a new
    enumerator is added.
  </p>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/scoped-enumerations-enum-classes/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">13.6</span>Scoped
            enumerations (enum classes)
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/converting-an-enumeration-to-and-from-a-string/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">13.4</span>Converting an
            enumeration to and from a string
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
