<div
  class="code-block code-block-1"
  style="margin: 8px 8px 8px 0; float: left"
></div>
<p>
  Occasionally you may run into a case where you want to catch an exception, but
  not want to (or have the ability to) fully handle it at the point where you
  catch it. This is common when you want to log an error, but pass the issue
  along to the caller to actually handle.
</p>
<p>
  When a function can use a return code, this is simple. Consider the following
  example:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp">Database<span class="token operator">*</span> <span class="token function">createDatabase</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-0-close">(</span>std<span class="token double-colon punctuation">::</span>string filename<span class="token punctuation brace-round brace-close brace-level-1" id="pair-0-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-8-close">{</span>
    Database<span class="token operator">*</span> d <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-4-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-4-open">}</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-try">try</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-6-close">{</span>
        d <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> Database<span class="token punctuation brace-curly brace-open brace-level-3" id="pair-5-close">{</span><span class="token punctuation brace-curly brace-close brace-level-3" id="pair-5-open">}</span><span class="token punctuation">;</span>
        d<span class="token operator">-&gt;</span><span class="token function">open</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-1-close">(</span>filename<span class="token punctuation brace-round brace-close brace-level-3" id="pair-1-open">)</span><span class="token punctuation">;</span> <span class="token comment">// assume this throws an int exception on failure</span>
        <span class="token keyword keyword-return">return</span> d<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-6-open">}</span>
    <span class="token keyword keyword-catch">catch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-2-close">(</span><span class="token keyword keyword-int">int</span> exception<span class="token punctuation brace-round brace-close brace-level-2" id="pair-2-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-7-close">{</span>
        <span class="token comment">// Database creation failed</span>
        <span class="token keyword keyword-delete">delete</span> d<span class="token punctuation">;</span>
        <span class="token comment">// Write an error to some global logfile</span>
        g_log<span class="token punctuation">.</span><span class="token function">logError</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-3-close">(</span><span class="token string">"Creation of Database failed"</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-3-open">)</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-7-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-nullptr">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-8-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In the above code snippet, the function is tasked with creating a Database
  object, opening the database, and returning the Database object. In the case
  where something goes wrong (e.g. the wrong filename is passed in), the
  exception handler logs an error, and then reasonably returns a null pointer.
</p>
<p>Now consider the following function:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">getIntValueFromDatabase</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-9-close">(</span>Database<span class="token operator">*</span> d<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>string table<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>string key<span class="token punctuation brace-round brace-close brace-level-1" id="pair-9-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-16-close">{</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-10-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-2" id="pair-10-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-try">try</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-14-close">{</span>
        <span class="token keyword keyword-return">return</span> d<span class="token operator">-&gt;</span><span class="token function">getIntValue</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-11-close">(</span>table<span class="token punctuation">,</span> key<span class="token punctuation brace-round brace-close brace-level-3" id="pair-11-open">)</span><span class="token punctuation">;</span> <span class="token comment">// throws int exception on failure</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-14-open">}</span>
    <span class="token keyword keyword-catch">catch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-12-close">(</span><span class="token keyword keyword-int">int</span> exception<span class="token punctuation brace-round brace-close brace-level-2" id="pair-12-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-15-close">{</span>
        <span class="token comment">// Write an error to some global logfile</span>
        g_log<span class="token punctuation">.</span><span class="token function">logError</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-13-close">(</span><span class="token string">"getIntValueFromDatabase failed"</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-13-open">)</span><span class="token punctuation">;</span>

        <span class="token comment">// However, we haven't actually handled this error</span>
        <span class="token comment">// So what do we do here?</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-15-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-16-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In the case where this function succeeds, it returns an integer value -- any
  integer value could be a valid value.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_5_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_5"
        name="aswift_5"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2157784577&amp;adf=3926046423&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750949857&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Frethrowing-exceptions%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963747108&amp;bpp=1&amp;bdt=1244&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600&amp;nras=2&amp;correlator=1744788773205&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=1310&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365225%2C95365235%2C95365698%2C95365114%2C95359266%2C95365121%2C95365798%2C31092548&amp;oid=2&amp;pvsid=5015988777328518&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=6&amp;uci=a!6&amp;btvi=1&amp;fsb=1&amp;dtd=13"
        data-google-container-id="a!6"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CIyggcbtrI4DFWGI6QUd_jMZ9w"
      ></iframe></div
  ></ins>
</div>
<div class="code-block code-block-2" style="margin: 8px 0; clear: both"></div>

<p>
  But what about the case where something goes wrong with getIntValue()? In that
  case, getIntValue() will throw an integer exception, which will be caught by
  the catch block in getIntValueFromDatabase(), which will log the error. But
  then how do we tell the caller of getIntValueFromDatabase() that something
  went wrong? Unlike the top example, there isn’t a good return code we can use
  here (because any integer return value could be a valid one).
</p>
<p><strong>Throwing a new exception</strong></p>
<p>One obvious solution is to throw a new exception.</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">getIntValueFromDatabase</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-17-close">(</span>Database<span class="token operator">*</span> d<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>string table<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>string key<span class="token punctuation brace-round brace-close brace-level-1" id="pair-17-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-24-close">{</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-18-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-2" id="pair-18-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-try">try</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-22-close">{</span>
        <span class="token keyword keyword-return">return</span> d<span class="token operator">-&gt;</span><span class="token function">getIntValue</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-19-close">(</span>table<span class="token punctuation">,</span> key<span class="token punctuation brace-round brace-close brace-level-3" id="pair-19-open">)</span><span class="token punctuation">;</span> <span class="token comment">// throws int exception on failure</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-22-open">}</span>
    <span class="token keyword keyword-catch">catch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-20-close">(</span><span class="token keyword keyword-int">int</span> exception<span class="token punctuation brace-round brace-close brace-level-2" id="pair-20-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-23-close">{</span>
        <span class="token comment">// Write an error to some global logfile</span>
        g_log<span class="token punctuation">.</span><span class="token function">logError</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-21-close">(</span><span class="token string">"getIntValueFromDatabase failed"</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-21-open">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Throw char exception 'q' up the stack to be handled by caller</span>
        <span class="token keyword keyword-throw">throw</span> <span class="token string">'q'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-23-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-24-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In the example above, the program catches the int exception from
  getIntValue(), logs the error, and then throws a new exception with char value
  ‘q’. Although it may seem weird to throw an exception from a catch block, this
  is allowed. Remember, only exceptions thrown within a try block are eligible
  to be caught. This means that an exception thrown within a catch block will
  not be caught by the catch block it’s in. Instead, it will be propagated up
  the stack to the caller.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_6_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_6"
        name="aswift_6"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2157784577&amp;adf=2263234633&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750949857&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Frethrowing-exceptions%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963747108&amp;bpp=1&amp;bdt=1245&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280&amp;nras=3&amp;correlator=1744788773205&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2139&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365225%2C95365235%2C95365698%2C95365114%2C95359266%2C95365121%2C95365798%2C31092548&amp;oid=2&amp;pvsid=5015988777328518&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=7&amp;uci=a!7&amp;btvi=2&amp;fsb=1&amp;dtd=14"
        data-google-container-id="a!7"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-google-query-id="CMeegcbtrI4DFaWG6QUd-94wDw"
        data-load-complete="true"
      ></iframe></div
  ></ins>
</div>
<p>
  The exception thrown from the catch block can be an exception of any type --
  it doesn’t need to be the same type as the exception that was just caught.
</p>
<p><strong>Rethrowing an exception (the wrong way)</strong></p>
<div class="code-block code-block-3" style="margin: 8px 0; clear: both"></div>

<p>
  Another option is to rethrow the same exception. One way to do this is as
  follows:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">getIntValueFromDatabase</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-25-close">(</span>Database<span class="token operator">*</span> d<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>string table<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>string key<span class="token punctuation brace-round brace-close brace-level-1" id="pair-25-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-32-close">{</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-26-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-2" id="pair-26-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-try">try</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-30-close">{</span>
        <span class="token keyword keyword-return">return</span> d<span class="token operator">-&gt;</span><span class="token function">getIntValue</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-27-close">(</span>table<span class="token punctuation">,</span> key<span class="token punctuation brace-round brace-close brace-level-3" id="pair-27-open">)</span><span class="token punctuation">;</span> <span class="token comment">// throws int exception on failure</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-30-open">}</span>
    <span class="token keyword keyword-catch">catch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-28-close">(</span><span class="token keyword keyword-int">int</span> exception<span class="token punctuation brace-round brace-close brace-level-2" id="pair-28-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-31-close">{</span>
        <span class="token comment">// Write an error to some global logfile</span>
        g_log<span class="token punctuation">.</span><span class="token function">logError</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-29-close">(</span><span class="token string">"getIntValueFromDatabase failed"</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-29-open">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-throw">throw</span> exception<span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-31-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-32-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  Although this works, this method has a couple of downsides. First, this
  doesn’t throw the exact same exception as the one that is caught -- rather, it
  throws a copy-initialized copy of variable exception. Although the compiler is
  free to elide the copy, it may not, so this could be less performant.
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_7_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_7"
        name="aswift_7"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2157784577&amp;adf=2618059555&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750949857&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Frethrowing-exceptions%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963747108&amp;bpp=1&amp;bdt=1245&amp;idt=-M&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280&amp;nras=4&amp;correlator=1744788773205&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=2880&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365225%2C95365235%2C95365698%2C95365114%2C95359266%2C95365121%2C95365798%2C31092548&amp;oid=2&amp;pvsid=5015988777328518&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=8&amp;uci=a!8&amp;btvi=3&amp;fsb=1&amp;dtd=15"
        data-google-container-id="a!8"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="COabgcbtrI4DFfqL6QUd3W0POg"
      ></iframe></div
  ></ins>
</div>
<p>But significantly, consider what happens in the following case:</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token keyword keyword-int">int</span> <span class="token function">getIntValueFromDatabase</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-33-close">(</span>Database<span class="token operator">*</span> d<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>string table<span class="token punctuation">,</span> std<span class="token double-colon punctuation">::</span>string key<span class="token punctuation brace-round brace-close brace-level-1" id="pair-33-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-40-close">{</span>
    <span class="token function">assert</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-34-close">(</span>d<span class="token punctuation brace-round brace-close brace-level-2" id="pair-34-open">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-try">try</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-38-close">{</span>
        <span class="token keyword keyword-return">return</span> d<span class="token operator">-&gt;</span><span class="token function">getIntValue</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-35-close">(</span>table<span class="token punctuation">,</span> key<span class="token punctuation brace-round brace-close brace-level-3" id="pair-35-open">)</span><span class="token punctuation">;</span> <span class="token comment">// throws Derived exception on failure</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-38-open">}</span>
    <span class="token keyword keyword-catch">catch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-36-close">(</span>Base<span class="token operator">&amp;</span> exception<span class="token punctuation brace-round brace-close brace-level-2" id="pair-36-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-39-close">{</span>
        <span class="token comment">// Write an error to some global logfile</span>
        g_log<span class="token punctuation">.</span><span class="token function">logError</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-37-close">(</span><span class="token string">"getIntValueFromDatabase failed"</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-37-open">)</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-throw">throw</span> exception<span class="token punctuation">;</span> <span class="token comment">// Danger: this throws a Base object, not a Derived object</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-39-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-40-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>
  In this case, getIntValue() throws a Derived object, but the catch block is
  catching a Base reference. This is fine, as we know we can have a Base
  reference to a Derived object. However, when we throw an exception, the thrown
  exception is copy-initialized from variable exception. Variable exception has
  type Base, so the copy-initialized exception also has type Base (not
  Derived!). In other words, our Derived object has been sliced!
</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    data-ad-status="unfilled"
    ><div
      id="aswift_8_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_8"
        name="aswift_8"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2157784577&amp;adf=2462070382&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750949857&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Frethrowing-exceptions%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963747108&amp;bpp=1&amp;bdt=1245&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280&amp;nras=5&amp;correlator=1744788773205&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3574&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365225%2C95365235%2C95365698%2C95365114%2C95359266%2C95365121%2C95365798%2C31092548&amp;oid=2&amp;pvsid=5015988777328518&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=9&amp;uci=a!9&amp;btvi=4&amp;fsb=1&amp;dtd=16"
        data-google-container-id="a!9"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="COjBgcbtrI4DFbKG6QUd2Cc5Ag"
      ></iframe></div
  ></ins>
</div>
<p>You can see this in the following program:</p>
<div class="code-block code-block-4" style="margin: 8px 0; clear: both"></div>

<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-52-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Base</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-41-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-41-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-50-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-50-open">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-42-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-42-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-51-close">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-51-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-52-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-55-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Derived</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-43-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-43-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-53-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-53-open">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-44-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-44-open">)</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-54-close">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-54-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-55-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-45-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-45-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-61-close">{</span>
    <span class="token keyword keyword-try">try</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-59-close">{</span>
        <span class="token keyword keyword-try">try</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-57-close">{</span>
            <span class="token keyword keyword-throw">throw</span> Derived<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-56-close">{</span><span class="token punctuation brace-curly brace-close brace-level-4" id="pair-56-open">}</span><span class="token punctuation">;</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-57-open">}</span>
        <span class="token keyword keyword-catch">catch</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-46-close">(</span>Base<span class="token operator">&amp;</span> b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-46-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-58-close">{</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Caught Base b, which is actually a "</span><span class="token punctuation">;</span>
            b<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-47-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-47-open">)</span><span class="token punctuation">;</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-throw">throw</span> b<span class="token punctuation">;</span> <span class="token comment">// the Derived object gets sliced here</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-58-open">}</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-59-open">}</span>
    <span class="token keyword keyword-catch">catch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-48-close">(</span>Base<span class="token operator">&amp;</span> b<span class="token punctuation brace-round brace-close brace-level-2" id="pair-48-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-60-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Caught Base b, which is actually a "</span><span class="token punctuation">;</span>
        b<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-49-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-49-open">)</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-60-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-61-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This prints:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 0px;
    "
    ><div
      id="aswift_9_host"
      style="
        border: none;
        height: 0px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
        overflow: hidden;
        opacity: 0;
      "
    >
      <iframe
        id="aswift_9"
        name="aswift_9"
        browsingtopics="true"
        style="
          left: 0px;
          position: absolute;
          top: 0px;
          border: 0px;
          width: 1027px;
          height: 0px;
          min-height: auto;
          max-height: none;
          min-width: auto;
          max-width: none;
        "
        sandbox="allow-forms allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
        width="1027"
        height="0"
        frameborder="0"
        marginwidth="0"
        marginheight="0"
        vspace="0"
        hspace="0"
        allowtransparency="true"
        scrolling="no"
        allow="attribution-reporting; run-ad-auction"
        src="https://googleads.g.doubleclick.net/pagead/ads?client=ca-pub-0588844875925051&amp;output=html&amp;h=280&amp;adk=2157784577&amp;adf=1272390533&amp;w=1027&amp;abgtt=11&amp;fwrn=4&amp;fwrnh=100&amp;lmt=1750949857&amp;num_ads=1&amp;rafmt=1&amp;armr=3&amp;sem=mc&amp;pwprc=4633386603&amp;ad_type=text_image&amp;format=1027x280&amp;url=https%3A%2F%2Fwww.learncpp.com%2Fcpp-tutorial%2Frethrowing-exceptions%2F&amp;fwr=0&amp;pra=3&amp;rh=200&amp;rw=1026&amp;rpe=1&amp;resp_fmts=3&amp;wgl=1&amp;fa=27&amp;uach=WyJXaW5kb3dzIiwiMTkuMC4wIiwieDg2IiwiIiwiMTM3LjAuNzE1MS4xMjIiLG51bGwsMCxudWxsLCI2NCIsW1siR29vZ2xlIENocm9tZSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJDaHJvbWl1bSIsIjEzNy4wLjcxNTEuMTIyIl0sWyJOb3QvQSlCcmFuZCIsIjI0LjAuMC4wIl1dLDBd&amp;dt=1751963747110&amp;bpp=1&amp;bdt=1247&amp;idt=0&amp;shv=r20250702&amp;mjsv=m202507020101&amp;ptt=9&amp;saldr=aa&amp;abxe=1&amp;cookie=ID%3D05f6e82287d810b4%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MaQYA0TSAU2k8xwY5tqlN0xFCcd6g&amp;gpic=UID%3D00001157d9e27d0a%3AT%3D1751962604%3ART%3D1751963528%3AS%3DALNI_MYgtHzQJAQQXY_151HTGSSfVxE8_A&amp;eo_id_str=ID%3D52c21936d98c6d2b%3AT%3D1751962604%3ART%3D1751963528%3AS%3DAA-AfjZsJ15yjdEPJ8d11hPojsJQ&amp;prev_fmts=0x0%2C336x280%2C160x600%2C160x600%2C1027x280%2C1027x280%2C1027x280%2C1027x280&amp;nras=6&amp;correlator=1744788773205&amp;frm=20&amp;pv=1&amp;u_tz=480&amp;u_his=2&amp;u_h=600&amp;u_w=800&amp;u_ah=600&amp;u_aw=800&amp;u_cd=24&amp;u_sd=1&amp;dmc=8&amp;adx=27&amp;ady=3769&amp;biw=1080&amp;bih=1024&amp;scr_x=0&amp;scr_y=0&amp;eid=95353386%2C95362656%2C95365225%2C95365235%2C95365698%2C95365114%2C95359266%2C95365121%2C95365798%2C31092548&amp;oid=2&amp;pvsid=5015988777328518&amp;tmod=1708485235&amp;uas=0&amp;nvt=1&amp;fc=1408&amp;brdim=10%2C10%2C10%2C10%2C800%2C0%2C780%2C580%2C1080%2C1024&amp;vis=1&amp;rsz=%7C%7Cs%7C&amp;abl=NS&amp;fu=128&amp;bc=31&amp;bz=0.72&amp;td=1&amp;tdf=2&amp;psd=W251bGwsbnVsbCxudWxsLDNd&amp;nt=1&amp;ifi=10&amp;uci=a!a&amp;btvi=5&amp;fsb=1&amp;dtd=214"
        data-google-container-id="a!a"
        tabindex="0"
        title="Advertisement"
        aria-label="Advertisement"
        data-load-complete="true"
        data-google-query-id="CL_EjcbtrI4DFfGA6QUdagomjA"
      ></iframe></div
  ></ins>
</div>
<pre>
Caught Base b, which is actually a Derived
Caught Base b, which is actually a Base
</pre>
<p>
  The fact that the second line indicates that Base is actually a Base rather
  than a Derived proves that the Derived object was sliced.
</p>
<p><strong>Rethrowing an exception (the right way)</strong></p>
<p>
  Fortunately, C++ provides a way to rethrow the exact same exception as the one
  that was just caught. To do so, simply use the throw keyword from within the
  catch block (with no associated variable), like so:
</p>
<div class="code-toolbar">
  <pre
    class="line-numbers language-cpp"
    tabindex="0"
  ><code class="match-braces language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token keyword keyword-class">class</span> <span class="token class-name">Base</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-73-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Base</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-62-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-62-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-71-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-71-open">}</span>
    <span class="token keyword keyword-virtual">virtual</span> <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-63-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-63-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-72-close">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Base"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-72-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-73-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-class">class</span> <span class="token class-name">Derived</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword keyword-public">public</span> <span class="token class-name">Base</span></span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-76-close">{</span>
<span class="token keyword keyword-public">public</span><span class="token operator">:</span>
    <span class="token function">Derived</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-64-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-64-open">)</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-74-close">{</span><span class="token punctuation brace-curly brace-close brace-level-2" id="pair-74-open">}</span>
    <span class="token keyword keyword-void">void</span> <span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-2" id="pair-65-close">(</span><span class="token punctuation brace-round brace-close brace-level-2" id="pair-65-open">)</span> <span class="token keyword keyword-override">override</span> <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-75-close">{</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived"</span><span class="token punctuation">;</span> <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-75-open">}</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-76-open">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation brace-round brace-open brace-level-1" id="pair-66-close">(</span><span class="token punctuation brace-round brace-close brace-level-1" id="pair-66-open">)</span>
<span class="token punctuation brace-curly brace-open brace-level-1" id="pair-82-close">{</span>
    <span class="token keyword keyword-try">try</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-80-close">{</span>
        <span class="token keyword keyword-try">try</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-78-close">{</span>
            <span class="token keyword keyword-throw">throw</span> Derived<span class="token punctuation brace-curly brace-open brace-level-4" id="pair-77-close">{</span><span class="token punctuation brace-curly brace-close brace-level-4" id="pair-77-open">}</span><span class="token punctuation">;</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-78-open">}</span>
        <span class="token keyword keyword-catch">catch</span> <span class="token punctuation brace-round brace-open brace-level-3" id="pair-67-close">(</span>Base<span class="token operator">&amp;</span> b<span class="token punctuation brace-round brace-close brace-level-3" id="pair-67-open">)</span>
        <span class="token punctuation brace-curly brace-open brace-level-3" id="pair-79-close">{</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Caught Base b, which is actually a "</span><span class="token punctuation">;</span>
            b<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-4" id="pair-68-close">(</span><span class="token punctuation brace-round brace-close brace-level-4" id="pair-68-open">)</span><span class="token punctuation">;</span>
            std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-throw">throw</span><span class="token punctuation">;</span> <span class="token comment">// note: We're now rethrowing the object here</span>
        <span class="token punctuation brace-curly brace-close brace-level-3" id="pair-79-open">}</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-80-open">}</span>
    <span class="token keyword keyword-catch">catch</span> <span class="token punctuation brace-round brace-open brace-level-2" id="pair-69-close">(</span>Base<span class="token operator">&amp;</span> b<span class="token punctuation brace-round brace-close brace-level-2" id="pair-69-open">)</span>
    <span class="token punctuation brace-curly brace-open brace-level-2" id="pair-81-close">{</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Caught Base b, which is actually a "</span><span class="token punctuation">;</span>
        b<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation brace-round brace-open brace-level-3" id="pair-70-close">(</span><span class="token punctuation brace-round brace-close brace-level-3" id="pair-70-open">)</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span>
    <span class="token punctuation brace-curly brace-close brace-level-2" id="pair-81-open">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation brace-curly brace-close brace-level-1" id="pair-82-open">}</span><span aria-hidden="true" class="line-numbers-rows"><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span><span style="height: 16px;"></span></span><span class="line-numbers-sizer" style="display: none;"></span></code></pre>
  <div class="toolbar">
    <div class="toolbar-item">
      <button
        class="copy-to-clipboard-button"
        type="button"
        data-copy-state="copy"
      >
        <span>Copy</span>
      </button>
    </div>
  </div>
</div>
<p>This prints:</p>
<div
  class="google-auto-placed ap_container"
  style="width: 100%; height: auto; clear: both; text-align: center"
>
  <ins
    data-ad-format="auto"
    class="adsbygoogle adsbygoogle-noablate"
    data-ad-client="ca-pub-0588844875925051"
    data-adsbygoogle-status="done"
    style="
      display: block;
      margin: auto;
      background-color: transparent;
      height: 280px;
    "
    ><div
      id="aswift_10_host"
      style="
        border: none;
        height: 280px;
        width: 1027px;
        margin: 0px;
        padding: 0px;
        position: relative;
        visibility: visible;
        background-color: transparent;
        display: inline-block;
      "
    ></div
  ></ins>
</div>
<pre>
Caught Base b, which is actually a Derived
Caught Base b, which is actually a Derived
</pre>
<p>
  This throw keyword that doesn’t appear to throw anything in particular
  actually re-throws the exact same exception that was just caught. No copies
  are made, meaning we don’t have to worry about performance killing copies or
  slicing.
</p>
<p>
  If rethrowing an exception is required, this method should be preferred over
  the alternatives.
</p>
<div class="code-block code-block-5" style="margin: 8px 0; clear: both"></div>

<div class="cpp-note cpp-lightpurplebackground">
  <p class="cpp-note-title cpp-bottomline">Rule</p>
  <p>When rethrowing the same exception, use the throw keyword by itself</p>
</div>
<div class="prevnext">
  <div class="prevnext-inline">
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/function-try-blocks/"
    >
      <div class="nav-button nav-button-next">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Next lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">27.7</span>Function try
            blocks
          </div>
        </div>
      </div></a
    >
    <a class="nav-link" href="/">
      <div class="nav-button nav-button-index">
        <div class="nav-button-icon">
          <i class="fa fa-home" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Back to table of contents</div>
        </div>
      </div></a
    >
    <a
      class="nav-link"
      href="https://www.learncpp.com/cpp-tutorial/exceptions-classes-and-inheritance/"
    >
      <div class="nav-button nav-button-prev">
        <div class="nav-button-icon">
          <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
        </div>
        <div class="nav-button-text">
          <div class="nav-button-title">Previous lesson</div>
          <div class="nav-button-lesson">
            <span class="nav-button-lesson-number">27.5</span>Exceptions,
            classes, and inheritance
          </div>
        </div>
      </div></a
    >
  </div>
</div>
<div class="code-block code-block-10" style="margin: 8px 0; clear: both"></div>
